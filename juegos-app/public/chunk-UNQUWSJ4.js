import{A as T,C as D,F as E,J as h,O as F,Q as I,R as P,S as y,U as N,V as A,W as B,Y as R,aa as q,e as p,ea as z,f as c,i as C,j as s,k as g,l as _,m as k,n as i,o as r,p as f,q as m,s as l,t as w,u as x,v as M,w as j,x as O,y as S,z as d}from"./chunk-B27WRDKT.js";var L=(()=>{let e=class e{constructor(t){this.route=t,this.auth=p(h)}ngOnInit(){this.auth.onAuthStateChanged(t=>{t?(this.nombre=t.email,console.log("aca esta el nombre",this.nombre)):console.log("No hay usuario")})}irBio(){this.route.navigate(["/bio"])}logOut(){this.auth.signOut(),this.route.navigate(["/login"])}};e.\u0275fac=function(n){return new(n||e)(g(E))},e.\u0275cmp=c({type:e,selectors:[["app-navbar"]],standalone:!0,features:[d],decls:18,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"click"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],["type","button",1,"dropdown-item","desloguear",3,"click"]],template:function(n,a){n&1&&(i(0,"nav",0)(1,"div",1)(2,"a",2),l(3,"Sala de juegos"),r(),i(4,"button",3),f(5,"span",4),r(),i(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),m("click",function(){return a.irBio()}),l(10,"Quien Soy?"),r()()(),i(11,"div",9)(12,"button",10),l(13),r(),i(14,"ul",11)(15,"li")(16,"button",12),m("click",function(){return a.logOut()}),l(17," Desloguearse "),r()()()()()()()),n&2&&(s(13),x(" ",a.nombre," "))},styles:[".navbar[_ngcontent-%COMP%]{background-image:url(/assets/mario.jpg);background-size:cover}.nav-link[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}.desloguear[_ngcontent-%COMP%]{cursor:pointer}.desloguear[_ngcontent-%COMP%]:hover{background-color:#e74c3c;color:#fff}"]});let o=e;return o})();function Q(o,e){if(o&1&&(i(0,"div",8)(1,"b"),l(2),r(),l(3),r()),o&2){let b=e.$implicit;s(2),w(b.nombre),s(),M("(",b.fecha.toDate().toLocaleTimeString(),"):",b.mensaje," ")}}var H=(()=>{let e=class e{constructor(t){this.elRef=t,this.auth=p(h),this.firestore=p(F),this.mensajes=[],this.mensaje=""}ngOnInit(){let t=y(this.firestore,"chats"),n=A(t,N("fecha","asc"));I(n).subscribe(a=>{this.mensajes=a})}enviarMensaje(){if(this.mensaje.trim()){let t=new Date;P(y(this.firestore,"chats"),{fecha:t,mensaje:this.mensaje,nombre:this.auth.currentUser?.email}),this.mensaje=""}}scrollDown(){setTimeout(()=>{let t=this.elRef.nativeElement.querySelector("#flush-collapseOne");t.scrollTop=t.scrollHeight},0)}};e.\u0275fac=function(n){return new(n||e)(g(C))},e.\u0275cmp=c({type:e,selectors:[["app-chatroom"]],standalone:!0,features:[d],decls:9,vars:2,consts:[[1,"position-absolute","bottom-0","end-0","w-25"],["id","accordionFlushExample",1,"accordion","accordion-flush"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","collapsed",3,"click"],["id","flush-collapseOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse",2,"max-height","600px","overflow-y","auto","overflow-x","hidden"],["style","word-wrap: break-word",4,"ngFor","ngForOf"],["type","text","placeholder","Escribe un mensaje",1,"form-control","mt-3",2,"height","50px","overflow-y","auto",3,"ngModelChange","keyup.enter","ngModel"],[2,"word-wrap","break-word"]],template:function(n,a){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"button",4),m("click",function(){return a.scrollDown()}),l(5," Chat "),r()(),i(6,"div",5),_(7,Q,4,3,"div",6),i(8,"input",7),S("ngModelChange",function(v){return O(a.mensaje,v)||(a.mensaje=v),v}),m("keyup.enter",function(){return a.enviarMensaje(),a.scrollDown()}),r()()()()()),n&2&&(s(7),k("ngForOf",a.mensajes),s(),j("ngModel",a.mensaje))},dependencies:[D,T,z,B,R,q]});let o=e;return o})();var le=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c({type:e,selectors:[["app-home"]],standalone:!0,features:[d],decls:3,vars:0,consts:[[1,"full-background"]],template:function(n,a){n&1&&(i(0,"div",0),f(1,"app-navbar")(2,"app-chatroom"),r())},dependencies:[L,H],styles:[".full-background[_ngcontent-%COMP%]{width:100vw;height:100vh}[_nghost-%COMP%]{display:block;background-image:url(/assets/marioh.gif);background-size:cover;background-repeat:no-repeat;background-position:center}@media (max-width: 768px){.full-background[_ngcontent-%COMP%]{background:url(/assets/marioh.gif) no-repeat center center;background-size:cover}}"]});let o=e;return o})();export{le as a};
