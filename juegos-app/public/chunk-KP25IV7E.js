import{m as M}from"./chunk-AWMKQJZU.js";import{a as E}from"./chunk-EBA5JQBT.js";import{A as C,E as k,F as c,H as n,I as s,J as l,K as w,L as m,M as y,P as d,R as u,W as _,ca as S,da as D,ea as U,g as h,ga as j,j as f,n as v,s as g,t as b,y as p,z as o}from"./chunk-CQN66RWN.js";import"./chunk-X6YOYRVK.js";var I=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl="https://www.deckofcardsapi.com/api/deck"}getDeck(){return this.http.get(`${this.apiUrl}/new/shuffle/ `)}drawCard(t){return this.http.get(`${this.apiUrl}/${t}/draw/?count=1`)}};e.\u0275fac=function(i){return new(i||e)(f(U))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();function N(a,e){if(a&1){let J=w();n(0,"div",7)(1,"button",8),m("click",function(){g(J);let i=y();return b(i.reiniciarJuego())}),d(2," Reiniciar Juego "),s()()}}var $=(()=>{let e=class e{constructor(t){this.cardService=t,this.puntos=0,this.cartaDos={image:"https://www.deckofcardsapi.com/static/img/back.png"},this.vidas=3,this.estadoJuego=!1}ngOnInit(){this.cardService.getDeck().subscribe(t=>{this.baraja=t,this.cardService.drawCard(this.baraja.deck_id).subscribe(i=>{this.cartasArray=i,this.cartaUno=this.cartasArray.cards[0],console.log(this.cartaUno)})})}drawCardMayor(){this.cardService.drawCard(this.baraja.deck_id).subscribe(t=>{this.cartaDos=t.cards[0],this.valorCarta(this.cartaDos)>this.valorCarta(this.cartaUno)?(this.cartaUno=this.cartaDos,this.puntos++,this.cartaDos={image:"https://www.deckofcardsapi.com/static/img/back.png"}):(this.vidas--,this.vidas==0&&(this.estadoJuego=!0))})}drawCardMenor(){this.cardService.drawCard(this.baraja.deck_id).subscribe(t=>{this.cartaDos=t.cards[0],this.valorCarta(this.cartaDos)<this.valorCarta(this.cartaUno)?(this.cartaUno=this.cartaDos,this.puntos++,this.cartaDos={image:"https://www.deckofcardsapi.com/static/img/back.png"}):(this.vidas--,this.vidas==0&&(this.estadoJuego=!0))})}reiniciarJuego(){this.puntos=0,this.vidas=3,this.estadoJuego=!1}valorCarta(t){switch(t.value){case"ACE":return 14;case"KING":return 13;case"QUEEN":return 12;case"JACK":return 11;default:return t.value}}};e.\u0275fac=function(i){return new(i||e)(C(I))},e.\u0275cmp=v({type:e,selectors:[["app-cartas"]],standalone:!0,features:[_],decls:19,vars:7,consts:[[1,"full-background"],[1,"container","d-flex","justify-content-center"],[1,"card","mt-5",2,"width","18rem"],["alt","","srcset","",3,"src"],["type","button",1,"btn","btn-primary","mt-3","ms-3",3,"click","disabled"],["role","alert",1,"container","d-flex","justify-content-center","mt-5","alert","alert-primary"],["class","container d-flex justify-content-center mt-5",4,"ngIf"],[1,"container","d-flex","justify-content-center","mt-5"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(n(0,"div",0),l(1,"app-navbar"),n(2,"div",1)(3,"div",2),l(4,"img",3),s(),n(5,"div",2),l(6,"img",3),s()(),n(7,"div",1)(8,"button",4),m("click",function(){return r.drawCardMayor()}),d(9," CARTA MAYOR "),s(),n(10,"button",4),m("click",function(){return r.drawCardMenor()}),d(11," CARTA MENOR "),s()(),n(12,"div",5)(13,"b"),d(14),s()(),n(15,"div",5)(16,"b"),d(17),s()(),k(18,N,3,0,"div",6),s()),i&2&&(o(4),c("src",r.cartaUno.image,p),o(2),c("src",r.cartaDos.image,p),o(2),c("disabled",r.estadoJuego),o(2),c("disabled",r.estadoJuego),o(4),u("PUNTOS ",r.puntos,""),o(3),u("VIDAS ",r.vidas,""),o(),c("ngIf",r.estadoJuego==!0))},dependencies:[j,D,S,M,E],styles:[".full-background[_ngcontent-%COMP%]{height:100vh}[_nghost-%COMP%]{display:block;background-image:url(/assets/cartas.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}"]});let a=e;return a})();export{$ as CartasComponent};
