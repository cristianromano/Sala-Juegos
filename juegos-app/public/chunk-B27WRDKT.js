import{a as D,b as ie,e as Cn,f}from"./chunk-X6YOYRVK.js";var Bv=null;var Cd=1,Td=Symbol("SIGNAL");function X(t){let e=Bv;return Bv=t,e}var $v={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bS(t){if(!(Ad(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cd)){if(!t.producerMustRecompute(t)&&!bd(t)){t.dirty=!1,t.lastCleanEpoch=Cd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Cd}}function Hv(t){return t&&(t.nextProducerIndex=0),X(t)}function qv(t,e){if(X(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ad(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bd(t){Pa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bS(n),r!==n.version))return!0}return!1}function zv(t){if(Pa(t),Ad(t))for(let e=0;e<t.producerNode.length;e++)Sd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Sd(t,e){if(SS(t),Pa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Sd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pa(i),i.producerIndexOfThis[r]=e}}function Ad(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function SS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function AS(){throw new Error}var RS=AS;function Gv(t){RS=t}function O(t){return typeof t=="function"}function li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oa=li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function or(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof Oa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Wv(s)}catch(o){e=e??[],o instanceof Oa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Oa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Wv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&or(n,e)}remove(e){let{_finalizers:n}=this;n&&or(n,e),e instanceof t&&e._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var Rd=ye.EMPTY;function ka(t){return t instanceof ye||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function Wv(t){O(t)?t():t.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var di={setTimeout(t,e,...n){let{delegate:r}=di;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=di;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fa(t){di.setTimeout(()=>{let{onUnhandledError:e}=wt;if(e)e(t);else throw t})}function xs(){}var Kv=Md("C",void 0,void 0);function Qv(t){return Md("E",void 0,t)}function Yv(t){return Md("N",t,void 0)}function Md(t,e,n){return{kind:t,value:e,error:n}}var ar=null;function hi(t){if(wt.useDeprecatedSynchronousErrorHandling){let e=!ar;if(e&&(ar={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ar;if(ar=null,n)throw r}}else t()}function Jv(t){wt.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=t)}var cr=class extends ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ka(e)&&e.add(this)):this.destination=xS}static create(e,n,r){return new fi(e,n,r)}next(e){this.isStopped?xd(Yv(e),this):this._next(e)}error(e){this.isStopped?xd(Qv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xd(Kv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MS=Function.prototype.bind;function Nd(t,e){return MS.call(t,e)}var Pd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Va(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Va(r)}else Va(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Va(n)}}},fi=class extends cr{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&wt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Nd(e.next,s),error:e.error&&Nd(e.error,s),complete:e.complete&&Nd(e.complete,s)}):i=e}this.destination=new Pd(i)}};function Va(t){wt.useDeprecatedSynchronousErrorHandling?Jv(t):Fa(t)}function NS(t){throw t}function xd(t,e){let{onStoppedNotification:n}=wt;n&&di.setTimeout(()=>n(t,e))}var xS={closed:!0,next:xs,error:NS,complete:xs};var pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(t){return t}function La(...t){return Od(t)}function Od(t){return t.length===0?et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var H=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=OS(n)?n:new fi(n,r,i);return hi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Zv(r),new r((i,s)=>{let o=new fi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pi](){return this}pipe(...n){return Od(n)(this)}toPromise(n){return n=Zv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Zv(t){var e;return(e=t??wt.Promise)!==null&&e!==void 0?e:Promise}function PS(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function OS(t){return t&&t instanceof cr||PS(t)&&ka(t)}function kd(t){return O(t?.lift)}function Y(t){return e=>{if(kd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new Fd(t,e,n,r,i)}var Fd=class extends cr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function gi(){return Y((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var mi=class extends H{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ye;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ye.EMPTY)}return e}refCount(){return gi()(this)}};var Xv=li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ua(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xv}next(n){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Rd:(this.currentObservers=null,s.push(n),new ye(()=>{this.currentObservers=null,or(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new H;return n.source=this,n}}return t.create=(e,n)=>new Ua(e,n),t})(),Ua=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rd}};var Me=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vd={now(){return(Vd.delegate||Date).now()},delegate:void 0};var ja=class extends ye{constructor(e,n){super()}schedule(e,n=0){return this}};var Ps={setInterval(t,e,...n){let{delegate:r}=Ps;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ps;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var yi=class extends ja{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ps.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ps.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,or(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var vi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};vi.now=Vd.now;var _i=class extends vi{constructor(e,n=vi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ld=new _i(yi);var Ba=class extends yi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $a=class extends _i{};var Ud=new $a(Ba);var tt=new H(t=>t.complete());function e_(t){return t&&O(t.schedule)}function t_(t){return t[t.length-1]}function Ha(t){return O(t_(t))?t.pop():void 0}function Tn(t){return e_(t_(t))?t.pop():void 0}function jd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function r_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function n_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ur(t){return this instanceof ur?(this.v=t,this):new ur(t)}function i_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(m,v){s.push([h,p,m,v])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof ur?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function s_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof n_=="function"?n_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var qa=t=>t&&typeof t.length=="number"&&typeof t!="function";function za(t){return O(t?.then)}function Ga(t){return O(t[pi])}function Wa(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function Ka(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qa=kS();function Ya(t){return O(t?.[Qa])}function Ja(t){return i_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ur(n.read());if(i)return yield ur(void 0);yield yield ur(r)}}finally{n.releaseLock()}})}function Za(t){return O(t?.getReader)}function ve(t){if(t instanceof H)return t;if(t!=null){if(Ga(t))return FS(t);if(qa(t))return VS(t);if(za(t))return LS(t);if(Wa(t))return o_(t);if(Ya(t))return US(t);if(Za(t))return jS(t)}throw Ka(t)}function FS(t){return new H(e=>{let n=t[pi]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VS(t){return new H(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LS(t){return new H(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fa)})}function US(t){return new H(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function o_(t){return new H(e=>{BS(t,e).catch(n=>e.error(n))})}function jS(t){return o_(Ja(t))}function BS(t,e){var n,r,i,s;return r_(this,void 0,void 0,function*(){try{for(n=s_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Je(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function bn(t,e=0){return Y((n,r)=>{n.subscribe(q(r,i=>Je(r,t,()=>r.next(i),e),()=>Je(r,t,()=>r.complete(),e),i=>Je(r,t,()=>r.error(i),e)))})}function Sn(t,e=0){return Y((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function a_(t,e){return ve(t).pipe(Sn(e),bn(e))}function c_(t,e){return ve(t).pipe(Sn(e),bn(e))}function u_(t,e){return new H(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function l_(t,e){return new H(n=>{let r;return Je(n,e,()=>{r=t[Qa](),Je(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function Xa(t,e){if(!t)throw new Error("Iterable cannot be null");return new H(n=>{Je(n,e,()=>{let r=t[Symbol.asyncIterator]();Je(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function d_(t,e){return Xa(Ja(t),e)}function h_(t,e){if(t!=null){if(Ga(t))return a_(t,e);if(qa(t))return u_(t,e);if(za(t))return c_(t,e);if(Wa(t))return Xa(t,e);if(Ya(t))return l_(t,e);if(Za(t))return d_(t,e)}throw Ka(t)}function he(t,e){return e?h_(t,e):ve(t)}function F(...t){let e=Tn(t);return he(t,e)}function Ii(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new H(e?i=>e.schedule(r,0,i):r)}function Bd(t){return!!t&&(t instanceof H||O(t.lift)&&O(t.subscribe))}var sn=li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function U(t,e){return Y((n,r)=>{let i=0;n.subscribe(q(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:$S}=Array;function HS(t,e){return $S(e)?t(...e):t(e)}function ec(t){return U(e=>HS(t,e))}var{isArray:qS}=Array,{getPrototypeOf:zS,prototype:GS,keys:WS}=Object;function tc(t){if(t.length===1){let e=t[0];if(qS(e))return{args:e,keys:null};if(KS(e)){let n=WS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function KS(t){return t&&typeof t=="object"&&zS(t)===GS}function nc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rc(...t){let e=Tn(t),n=Ha(t),{args:r,keys:i}=tc(t);if(r.length===0)return he([],e);let s=new H(QS(r,e,i?o=>nc(i,o):et));return n?s.pipe(ec(n)):s}function QS(t,e,n=et){return r=>{f_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)f_(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(q(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function f_(t,e,n){t?Je(n,t,e):e()}function p_(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=v=>u<r?m(v):c.push(v),m=v=>{s&&e.next(v),u++;let _=!1;ve(n(v,l++)).subscribe(q(e,C=>{i?.(C),s?p(C):e.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){let C=c.shift();o?Je(e,o,()=>m(C)):m(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(q(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Ee(t,e,n=1/0){return O(e)?Ee((r,i)=>U((s,o)=>e(r,s,i,o))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),Y((r,i)=>p_(r,i,t,n)))}function $d(t=1/0){return Ee(et,t)}function g_(){return $d(1)}function wi(...t){return g_()(he(t,Tn(t)))}function ic(t){return new H(e=>{ve(t()).subscribe(e)})}function Hd(...t){let e=Ha(t),{args:n,keys:r}=tc(t),i=new H(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ve(n[l]).subscribe(q(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?nc(r,a):a),s.complete())}))}});return e?i.pipe(ec(e)):i}function ut(t,e){return Y((n,r)=>{let i=0;n.subscribe(q(r,s=>t.call(e,s,i++)&&r.next(s)))})}function An(t){return Y((e,n)=>{let r=null,i=!1,s;r=e.subscribe(q(n,void 0,void 0,o=>{s=ve(t(o,An(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function m_(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(q(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Ei(t,e){return O(e)?Ee(t,e,1):Ee(t,1)}function Rn(t){return Y((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function on(t){return t<=0?()=>tt:Y((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qd(t){return U(()=>t)}function sc(t=YS){return Y((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YS(){return new sn}function Os(t){return Y((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,s)=>t(i,s,r)):et,on(1),n?Rn(e):sc(()=>new sn))}function Di(t){return t<=0?()=>tt:Y((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,s)=>t(i,s,r)):et,Di(1),n?Rn(e):sc(()=>new sn))}function oc(t,e){return Y(m_(t,e,arguments.length>=2,!0))}function ac(...t){let e=Tn(t);return Y((n,r)=>{(e?wi(t,n,e):wi(t,n)).subscribe(r)})}function Et(t,e){return Y((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let u=0,l=s++;ve(t(c,l)).subscribe(i=q(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Gd(t){return Y((e,n)=>{ve(t).subscribe(q(n,()=>n.complete(),xs)),!n.closed&&e.subscribe(n)})}function De(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?Y((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(q(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):et}var JS="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(Qh(e,n)),this.code=e}};function Qh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ks(t){return{toString:t}.toString()}var cc="__parameters__";function ZS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function eI(t,e,n){return Ks(()=>{let r=ZS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(cc)?c[cc]:Object.defineProperty(c,cc,{value:[]})[cc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ks=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function XS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ge(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ge).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function y_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eA=oe({__forward_ref__:oe});function Ir(t){return t.__forward_ref__=Ir,t.toString=function(){return Ge(this())},t}function ze(t){return tI(t)?t():t}function tI(t){return typeof t=="function"&&t.hasOwnProperty(eA)&&t.__forward_ref__===Ir}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ze(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fc(t){return v_(t,rI)||v_(t,iI)}function nI(t){return Fc(t)!==null}function v_(t,e){return t.hasOwnProperty(e)?t[e]:null}function tA(t){let e=t&&(t[rI]||t[iI]);return e||null}function __(t){return t&&(t.hasOwnProperty(I_)||t.hasOwnProperty(nA))?t[I_]:null}var rI=oe({\u0275prov:oe}),I_=oe({\u0275inj:oe}),iI=oe({ngInjectableDef:oe}),nA=oe({ngInjectorDef:oe}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sI(t){return t&&!!t.\u0275providers}var rA=oe({\u0275cmp:oe}),iA=oe({\u0275dir:oe}),sA=oe({\u0275pipe:oe}),oA=oe({\u0275mod:oe}),mc=oe({\u0275fac:oe}),Fs=oe({__NG_ELEMENT_ID__:oe}),w_=oe({__NG_ENV_ID__:oe});function yc(t){return typeof t=="string"?t:t==null?"":String(t)}function aA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yc(t)}function cA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function Yh(t,e){throw new S(-201,!1)}var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{}),ch;function oI(){return ch}function lt(t){let e=ch;return ch=t,e}function aI(t,e,n){let r=Fc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(e!==void 0)return e;Yh(t,"Injector")}var uA={},Vs=uA,uh="__NG_DI_FLAG__",vc="ngTempTokenPath",lA="ngTokenPath",dA=/\n/gm,hA="\u0275",E_="__source",Si;function fA(){return Si}function Mn(t){let e=Si;return Si=t,e}function pA(t,e=j.Default){if(Si===void 0)throw new S(-203,!1);return Si===null?aI(t,void 0,e):Si.get(t,e&j.Optional?null:void 0,e)}function B(t,e=j.Default){return(oI()||pA)(ze(t),e)}function T(t,e=j.Default){return B(t,Vc(e))}function Vc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lh(t){let e=[];for(let n=0;n<t.length;n++){let r=ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,s=j.Default;for(let o=0;o<r.length;o++){let a=r[o],c=gA(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function cI(t,e){return t[uh]=e,t.prototype[uh]=e,t}function gA(t){return t[uh]}function mA(t,e,n,r){let i=t[vc];throw e[E_]&&i.unshift(e[E_]),t.message=yA(`
`+t.message,i,n,r),t[lA]=i,t[vc]=null,t}function yA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==hA?t.slice(2):t;let i=Ge(e);if(Array.isArray(e))i=e.map(Ge).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dA,`
  `)}`}var We=cI(eI("Optional"),8);var uI=cI(eI("SkipSelf"),4);function Ri(t,e){let n=t.hasOwnProperty(mc);return n?t[mc]:null}function Jh(t,e){t.forEach(n=>Array.isArray(n)?Jh(n,e):e(n))}function lI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _c(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function _A(t,e,n){let r=Qs(t,e);return r>=0?t[r|1]=n:(r=~r,vA(t,r,e,n)),r}function Wd(t,e){let n=Qs(t,e);if(n>=0)return t[n|1]}function Qs(t,e){return IA(t,e,1)}function IA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Mi={},dt=[],Ni=new A(""),dI=new A("",-1),hI=new A(""),Ic=class{get(e,n=Vs){if(n===Vs){let r=new Error(`NullInjectorError: No provider for ${Ge(e)}!`);throw r.name="NullInjectorError",r}return n}},fI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fI||{}),Vt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vt||{}),Ve=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ve||{});function wA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function dh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];DA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function EA(t){return t===3||t===4||t===6}function DA(t){return t.charCodeAt(0)===64}function Ls(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?D_(t,n,i,null,e[++r]):D_(t,n,i,null,null))}}return t}function D_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var pI="ng-template";function CA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Zh(t){return t.type===4&&t.value!==pI}function TA(t,e,n){let r=t.type===4&&!n?pI:t.value;return e===r}function bA(t,e,n){let r=4,i=t.attrs,s=i!==null?RA(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Dt(r)&&!Dt(c))return!1;if(o&&Dt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!TA(t,c,n)||c===""&&e.length===1){if(Dt(r))return!1;o=!0}}else if(r&8){if(i===null||!CA(t,i,c,n)){if(Dt(r))return!1;o=!0}}else{let u=e[++a],l=SA(c,i,Zh(t),n);if(l===-1){if(Dt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Dt(r))return!1;o=!0}}}}return Dt(r)||o}function Dt(t){return(t&1)===0}function SA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return MA(e,t)}function AA(t,e,n=!1){for(let r=0;r<e.length;r++)if(bA(t,e[r],n))return!0;return!1}function RA(t){for(let e=0;e<t.length;e++){let n=t[e];if(EA(n))return e}return t.length}function MA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function C_(t,e){return t?":not("+e.trim()+")":e}function NA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Dt(o)&&(e+=C_(s,i),i=""),r=o,s=s||!Dt(r);n++}return i!==""&&(e+=C_(s,i)),e}function xA(t){return t.map(NA).join(",")}function PA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Dt(i))break;i=s}r++}return{attrs:e,classes:n}}function gI(t){return Ks(()=>{let e=II(t),n=ie(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,styles:t.styles||dt,_:null,schemas:t.schemas||null,tView:null,id:""});wI(n);let r=t.dependencies;return n.directiveDefs=b_(r,!1),n.pipeDefs=b_(r,!0),n.id=FA(n),n})}function OA(t){return hr(t)||mI(t)}function kA(t){return t!==null}function Xe(t){return Ks(()=>({type:t.type,bootstrap:t.bootstrap||dt,declarations:t.declarations||dt,imports:t.imports||dt,exports:t.exports||dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function T_(t,e){if(t==null)return Mi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ve.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ve.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ke(t){return Ks(()=>{let e=II(t);return wI(e),e})}function hr(t){return t[rA]||null}function mI(t){return t[iA]||null}function yI(t){return t[sA]||null}function vI(t){let e=hr(t)||mI(t)||yI(t);return e!==null?e.standalone:!1}function _I(t,e){let n=t[oA]||null;if(!n&&e===!0)throw new Error(`Type ${Ge(t)} does not have '\u0275mod' property.`);return n}function II(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:T_(t.inputs,e),outputs:T_(t.outputs),debugInfo:null}}function wI(t){t.features?.forEach(e=>e(t))}function b_(t,e){if(!t)return null;let n=e?yI:OA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(kA)}function FA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lc(t){return{\u0275providers:t}}function VA(...t){return{\u0275providers:EI(!0,t),\u0275fromNgModule:!0}}function EI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Jh(e,o=>{let a=o;hh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DI(i,s),n}function DI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Xh(i,s=>{e(s,r)})}}function hh(t,e,n,r){if(t=ze(t),!t)return!1;let i=null,s=__(t),o=!s&&hr(t);if(!s&&!o){let c=t.ngModule;if(s=__(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)hh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Jh(s.imports,l=>{hh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&DI(u,e)}if(!a){let u=Ri(i)||(()=>new i);e({provide:i,useFactory:u,deps:dt},i),e({provide:hI,useValue:i,multi:!0},i),e({provide:Ni,useValue:()=>B(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Xh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Xh(t,e){for(let n of t)sI(n)&&(n=n.\u0275providers),Array.isArray(n)?Xh(n,e):e(n)}var LA=oe({provide:String,useValue:oe});function CI(t){return t!==null&&typeof t=="object"&&LA in t}function UA(t){return!!(t&&t.useExisting)}function jA(t){return!!(t&&t.useFactory)}function xi(t){return typeof t=="function"}function BA(t){return!!t.useClass}var Uc=new A(""),dc={},$A={},Kd;function ef(){return Kd===void 0&&(Kd=new Ic),Kd}var ft=class{},Us=class extends ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ph(e,o=>this.processProvider(o)),this.records.set(dI,Ci(void 0,this)),i.has("environment")&&this.records.set(ft,Ci(void 0,this));let s=this.records.get(Uc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(hI,dt,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mn(this),r=lt(void 0),i;try{return e()}finally{Mn(n),lt(r)}}get(e,n=Vs,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(w_))return e[w_](this);r=Vc(r);let i,s=Mn(this),o=lt(void 0);try{if(!(r&j.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=WA(e)&&Fc(e);u&&this.injectableDefInScope(u)?c=Ci(fh(e),dc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&j.Self?ef():this.parent;return n=r&j.Optional&&n===Vs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[vc]=a[vc]||[]).unshift(Ge(e)),s)throw a;return mA(a,e,"R3InjectorError",this.source)}else throw a}finally{lt(o),Mn(s)}}resolveInjectorInitializers(){let e=X(null),n=Mn(this),r=lt(void 0),i;try{let s=this.get(Ni,dt,j.Self);for(let o of s)o()}finally{Mn(n),lt(r),X(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ge(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=ze(e);let n=xi(e)?e:ze(e&&e.provide),r=qA(e);if(!xi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ci(void 0,dc,!0),i.factory=()=>lh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=X(null);try{return n.value===dc&&(n.value=$A,n.value=n.factory()),typeof n.value=="object"&&n.value&&GA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fh(t){let e=Fc(t),n=e!==null?e.factory:Ri(t);if(n!==null)return n;if(t instanceof A)throw new S(204,!1);if(t instanceof Function)return HA(t);throw new S(204,!1)}function HA(t){if(t.length>0)throw new S(204,!1);let n=tA(t);return n!==null?()=>n.factory(t):()=>new t}function qA(t){if(CI(t))return Ci(void 0,t.useValue);{let e=TI(t);return Ci(e,dc)}}function TI(t,e,n){let r;if(xi(t)){let i=ze(t);return Ri(i)||fh(i)}else if(CI(t))r=()=>ze(t.useValue);else if(jA(t))r=()=>t.useFactory(...lh(t.deps||[]));else if(UA(t))r=()=>B(ze(t.useExisting));else{let i=ze(t&&(t.useClass||t.provide));if(zA(t))r=()=>new i(...lh(t.deps));else return Ri(i)||fh(i)}return r}function Ci(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zA(t){return!!t.deps}function GA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function WA(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function ph(t,e){for(let n of t)Array.isArray(n)?ph(n,e):n&&sI(n)?ph(n.\u0275providers,e):e(n)}function wr(t,e){t instanceof Us&&t.assertNotDestroyed();let n,r=Mn(t),i=lt(void 0);try{return e()}finally{Mn(r),lt(i)}}function KA(){return oI()!==void 0||fA()!=null}function QA(t){return typeof t=="function"}var ln=0,W=1,N=2,Le=3,Ct=4,Tt=5,wc=6,js=7,Lt=8,Pi=9,Ut=10,Te=11,Bs=12,S_=13,Li=14,jt=15,jc=16,Ti=17,Oi=18,Bc=19,bI=20,Nn=21,Qd=22,fr=23,xn=25,SI=1;var pr=7,Ec=8,Dc=9,ht=10,tf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tf||{});function lr(t){return Array.isArray(t)&&typeof t[SI]=="object"}function dn(t){return Array.isArray(t)&&t[SI]===!0}function AI(t){return(t.flags&4)!==0}function $c(t){return t.componentOffset>-1}function nf(t){return(t.flags&1)===1}function Pn(t){return!!t.template}function YA(t){return(t[N]&512)!==0}var gh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function RI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function kn(){return MI}function MI(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZA),JA}kn.ngInherit=!0;function JA(){let t=xI(this),e=t?.current;if(e){let n=t.previous;if(n===Mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ZA(t,e,n,r,i){let s=this.declaredInputs[r],o=xI(t)||XA(t,{previous:Mi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new gh(u&&u.currentValue,n,c===Mi),RI(t,e,i,n)}var NI="__ngSimpleChanges__";function xI(t){return t[NI]||null}function XA(t,e){return t[NI]=e}var A_=null;var kt=function(t,e,n){A_?.(t,e,n)},eR="svg",tR="math",nR=!1;function rR(){return nR}function Bt(t){for(;Array.isArray(t);)t=t[ln];return t}function PI(t,e){return Bt(e[t])}function bt(t,e){return Bt(e[t.index])}function OI(t,e){return t.data[e]}function Fn(t,e){let n=e[t];return lr(n)?n:n[ln]}function rf(t){return(t[N]&128)===128}function iR(t){return dn(t[Le])}function Cc(t,e){return e==null?null:t[e]}function kI(t){t[Ti]=0}function sR(t){t[N]&1024||(t[N]|=1024,rf(t)&&$s(t))}function oR(t,e){for(;t>0;)e=e[Li],t--;return e}function sf(t){return!!(t[N]&9216||t[fr]?.dirty)}function mh(t){t[Ut].changeDetectionScheduler?.notify(1),sf(t)?$s(t):t[N]&64&&(rR()?(t[N]|=1024,$s(t)):t[Ut].changeDetectionScheduler?.notify())}function $s(t){t[Ut].changeDetectionScheduler?.notify();let e=Hs(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!rf(e)));)e=Hs(e)}function FI(t,e){if((t[N]&256)===256)throw new S(911,!1);t[Nn]===null&&(t[Nn]=[]),t[Nn].push(e)}function aR(t,e){if(t[Nn]===null)return;let n=t[Nn].indexOf(e);n!==-1&&t[Nn].splice(n,1)}function Hs(t){let e=t[Le];return dn(e)?e[Le]:e}var K={lFrame:qI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cR(){return K.lFrame.elementDepthCount}function uR(){K.lFrame.elementDepthCount++}function lR(){K.lFrame.elementDepthCount--}function VI(){return K.bindingsEnabled}function dR(){return K.skipHydrationRootTNode!==null}function hR(t){return K.skipHydrationRootTNode===t}function fR(){K.skipHydrationRootTNode=null}function le(){return K.lFrame.lView}function pt(){return K.lFrame.tView}function nt(){let t=LI();for(;t!==null&&t.type===64;)t=t.parent;return t}function LI(){return K.lFrame.currentTNode}function pR(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ys(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function UI(){return K.lFrame.isParent}function gR(){K.lFrame.isParent=!1}function mR(){return K.lFrame.bindingIndex}function yR(t){return K.lFrame.bindingIndex=t}function of(){return K.lFrame.bindingIndex++}function jI(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vR(){return K.lFrame.inI18n}function _R(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,yh(e)}function IR(){return K.lFrame.currentDirectiveIndex}function yh(t){K.lFrame.currentDirectiveIndex=t}function wR(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function BI(t){K.lFrame.currentQueryIndex=t}function ER(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[Tt]:null}function $I(t,e,n){if(n&j.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=ER(s),i===null||(s=s[Li],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=K.lFrame=HI();return r.currentTNode=e,r.lView=t,!0}function af(t){let e=HI(),n=t[W];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function HI(){let t=K.lFrame,e=t===null?null:t.child;return e===null?qI(t):e}function qI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zI(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var GI=zI;function cf(){let t=zI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function DR(t){return(K.lFrame.contextLView=oR(t,K.lFrame.contextLView))[Lt]}function Er(){return K.lFrame.selectedIndex}function gr(t){K.lFrame.selectedIndex=t}function WI(){let t=K.lFrame;return OI(t.tView,t.selectedIndex)}function CR(){return K.lFrame.currentNamespace}var KI=!0;function uf(){return KI}function lf(t){KI=t}function TR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=MI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function df(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function hc(t,e,n){QI(t,e,3,n)}function fc(t,e,n,r){(t[N]&3)===n&&QI(t,e,n,r)}function Yd(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function QI(t,e,n,r){let i=r!==void 0?t[Ti]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ti]+=65536),(a<s||s==-1)&&(bR(t,n,e,c),t[Ti]=(t[Ti]&4294901760)+c+2),c++}function R_(t,e){kt(4,t,e);let n=X(null);try{e.call(t)}finally{X(n),kt(5,t,e)}}function bR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[N]>>14<t[Ti]>>16&&(t[N]&3)===e&&(t[N]+=16384,R_(a,s)):R_(a,s)}var Ai=-1,mr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function SR(t){return t instanceof mr}function AR(t){return(t.flags&8)!==0}function RR(t){return(t.flags&16)!==0}function YI(t){return t!==Ai}function Tc(t){return t&32767}function MR(t){return t>>16}function bc(t,e){let n=MR(t),r=e;for(;n>0;)r=r[Li],n--;return r}var vh=!0;function M_(t){let e=vh;return vh=t,e}var NR=256,JI=NR-1,ZI=5,xR=0,Ft={};function PR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fs)&&(r=n[Fs]),r==null&&(r=n[Fs]=xR++);let i=r&JI,s=1<<i;e.data[t+(i>>ZI)]|=s}function Sc(t,e){let n=XI(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Jd(r.data,t),Jd(e,null),Jd(r.blueprint,null));let i=hf(t,e),s=t.injectorIndex;if(YI(i)){let o=Tc(i),a=bc(i,e),c=a[W].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Jd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function XI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function hf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=iw(i),r===null)return Ai;if(n++,i=i[Li],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ai}function _h(t,e,n){PR(t,e,n)}function ew(t,e,n){if(n&j.Optional||t!==void 0)return t;Yh(e,"NodeInjector")}function tw(t,e,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=t[Pi],s=lt(void 0);try{return i?i.get(e,r,n&j.Optional):aI(e,r,n&j.Optional)}finally{lt(s)}}return ew(r,e,n)}function nw(t,e,n,r=j.Default,i){if(t!==null){if(e[N]&2048&&!(r&j.Self)){let o=LR(t,e,n,r,Ft);if(o!==Ft)return o}let s=rw(t,e,n,r,Ft);if(s!==Ft)return s}return tw(e,n,r,i)}function rw(t,e,n,r,i){let s=FR(n);if(typeof s=="function"){if(!$I(e,t,r))return r&j.Host?ew(i,n,r):tw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&j.Optional))Yh(n);else return o}finally{GI()}}else if(typeof s=="number"){let o=null,a=XI(t,e),c=Ai,u=r&j.Host?e[jt][Tt]:null;for((a===-1||r&j.SkipSelf)&&(c=a===-1?hf(t,e):e[a+8],c===Ai||!x_(r,!1)?a=-1:(o=e[W],a=Tc(c),e=bc(c,e)));a!==-1;){let l=e[W];if(N_(s,a,l.data)){let d=OR(a,e,n,o,r,u);if(d!==Ft)return d}c=e[a+8],c!==Ai&&x_(r,e[W].data[a+8]===u)&&N_(s,a,e)?(o=l,a=Tc(c),e=bc(c,e)):a=-1}}return i}function OR(t,e,n,r,i,s){let o=e[W],a=o.data[t+8],c=r==null?$c(a)&&vh:r!=o&&(a.type&3)!==0,u=i&j.Host&&s===a,l=kR(a,o,n,c,u);return l!==null?ki(e,o,l,a):Ft}function kR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let m=o[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=o[c];if(p&&Pn(p)&&p.type===n)return c}return null}function ki(t,e,n,r){let i=t[n],s=e.data;if(SR(i)){let o=i;o.resolving&&cA(aA(s[n]));let a=M_(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?lt(o.injectImpl):null,l=$I(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&TR(n,s[n],e)}finally{u!==null&&lt(u),M_(a),o.resolving=!1,GI()}}return i}function FR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fs)?t[Fs]:void 0;return typeof e=="number"?e>=0?e&JI:VR:e}function N_(t,e,n){let r=1<<t;return!!(n[e+(t>>ZI)]&r)}function x_(t,e){return!(t&j.Self)&&!(t&j.Host&&e)}var dr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nw(this._tNode,this._lView,e,Vc(r),n)}};function VR(){return new dr(nt(),le())}function Js(t){return Ks(()=>{let e=t.prototype.constructor,n=e[mc]||Ih(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[mc]||Ih(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ih(t){return tI(t)?()=>{let e=Ih(ze(t));return e&&e()}:Ri(t)}function LR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[N]&2048&&!(o[N]&512);){let a=rw(s,o,n,r|j.Self,Ft);if(a!==Ft)return a;let c=s.parent;if(!c){let u=o[bI];if(u){let l=u.get(n,Ft,r);if(l!==Ft)return l}c=iw(o),o=o[Li]}s=c}return i}function iw(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[Tt]:null}function P_(t,e=null,n=null,r){let i=sw(t,e,n,r);return i.resolveInjectorInitializers(),i}function sw(t,e=null,n=null,r,i=new Set){let s=[n||dt,VA(t)];return r=r||(typeof t=="object"?void 0:Ge(t)),new Us(s,e||ef(),r||null,i)}var gt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return P_({name:""},i,r,"");{let s=r.name??"";return P_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Vs,e.NULL=new Ic,e.\u0275prov=x({token:e,providedIn:"any",factory:()=>B(dI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var UR="ngOriginalError";function Zd(t){return t[UR]}var an=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zd(e);for(;n&&Zd(n);)n=Zd(n);return n||null}},ow=new A("",{providedIn:"root",factory:()=>T(an).handleError.bind(void 0)}),aw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),wh=class extends aw{constructor(e){super(),this._lView=e}onDestroy(e){return FI(this._lView,e),()=>aR(this._lView,e)}};function jR(){return new wh(le())}function BR(){return Hc(nt(),le())}function Hc(t,e){return new Dr(bt(t,e))}var Dr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=BR;let t=e;return t})();var Eh=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,KA()&&(this.destroyRef=T(aw,{optional:!0})??void 0)}emit(e){let n=X(null);try{super.next(e)}finally{X(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Xd(s),i&&(i=Xd(i)),o&&(o=Xd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ye&&e.add(a),a}};function Xd(t){return e=>{setTimeout(t,void 0,e)}}var Ne=Eh;function cw(t){return(t.flags&128)===128}var uw=new Map,$R=0;function HR(){return $R++}function qR(t){uw.set(t[Bc],t)}function zR(t){uw.delete(t[Bc])}var O_="__ngContext__";function yr(t,e){lr(e)?(t[O_]=e[Bc],qR(e)):t[O_]=e}function lw(t){return hw(t[Bs])}function dw(t){return hw(t[Ct])}function hw(t){for(;t!==null&&!dn(t);)t=t[Ct];return t}var Dh;function fw(t){Dh=t}function GR(){if(Dh!==void 0)return Dh;if(typeof document<"u")return document;throw new S(210,!1)}var ff=new A("",{providedIn:"root",factory:()=>WR}),WR="ng",pf=new A(""),Vn=new A("",{providedIn:"platform",factory:()=>"unknown"});var gf=new A("",{providedIn:"root",factory:()=>GR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KR="h",QR="b";var YR=()=>null;function mf(t,e,n=!1){return YR(t,e,n)}var pw=!1,JR=new A("",{providedIn:"root",factory:()=>pw});var Ch=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JS})`}};function yf(t){return t instanceof Ch?t.changingThisBreaksApplicationSecurity:t}function gw(t){return t instanceof Function?t():t}var cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cn||{}),ZR;function vf(t,e){return ZR(t,e)}function bi(t,e,n,r,i){if(r!=null){let s,o=!1;dn(r)?s=r:lr(r)&&(o=!0,r=r[ln]);let a=Bt(r);t===0&&n!==null?i==null?Iw(e,n,a):Ac(e,n,a,i||null,!0):t===1&&n!==null?Ac(e,n,a,i||null,!0):t===2?gM(e,a,o):t===3&&e.destroyNode(a),s!=null&&yM(e,t,s,n,i)}}function XR(t,e){return t.createText(e)}function eM(t,e,n){t.setValue(e,n)}function mw(t,e,n){return t.createElement(e,n)}function tM(t,e){yw(t,e),e[ln]=null,e[Tt]=null}function nM(t,e,n,r,i,s){r[ln]=i,r[Tt]=e,qc(t,r,n,1,i,s)}function yw(t,e){e[Ut].changeDetectionScheduler?.notify(1),qc(t,e,e[Te],2,null,null)}function rM(t){let e=t[Bs];if(!e)return eh(t[W],t);for(;e;){let n=null;if(lr(e))n=e[Bs];else{let r=e[ht];r&&(n=r)}if(!n){for(;e&&!e[Ct]&&e!==t;)lr(e)&&eh(e[W],e),e=e[Le];e===null&&(e=t),lr(e)&&eh(e[W],e),n=e&&e[Ct]}e=n}}function iM(t,e,n,r){let i=ht+r,s=n.length;r>0&&(n[i-1][Ct]=e),r<s-ht?(e[Ct]=n[i],lI(n,ht+r,e)):(n.push(e),e[Ct]=null),e[Le]=n;let o=e[jc];o!==null&&n!==o&&sM(o,e);let a=e[Oi];a!==null&&a.insertView(t),mh(e),e[N]|=128}function sM(t,e){let n=t[Dc],i=e[Le][Le][jt];e[jt]!==i&&(t[N]|=tf.HasTransplantedViews),n===null?t[Dc]=[e]:n.push(e)}function vw(t,e){let n=t[Dc],r=n.indexOf(e);n.splice(r,1)}function Th(t,e){if(t.length<=ht)return;let n=ht+e,r=t[n];if(r){let i=r[jc];i!==null&&i!==t&&vw(i,r),e>0&&(t[n-1][Ct]=r[Ct]);let s=_c(t,ht+e);tM(r[W],r);let o=s[Oi];o!==null&&o.detachView(s[W]),r[Le]=null,r[Ct]=null,r[N]&=-129}return r}function _w(t,e){if(!(e[N]&256)){let n=e[Te];n.destroyNode&&qc(t,e,n,3,null,null),rM(e)}}function eh(t,e){if(e[N]&256)return;let n=X(null);try{e[N]&=-129,e[N]|=256,e[fr]&&zv(e[fr]),aM(t,e),oM(t,e),e[W].type===1&&e[Te].destroy();let r=e[jc];if(r!==null&&dn(e[Le])){r!==e[Le]&&vw(r,e);let i=e[Oi];i!==null&&i.detachView(t)}zR(e)}finally{X(n)}}function oM(t,e){let n=t.cleanup,r=e[js];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[js]=null);let i=e[Nn];if(i!==null){e[Nn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function aM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof mr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];kt(4,a,c);try{c.call(a)}finally{kt(5,a,c)}}else{kt(4,i,s);try{s.call(i)}finally{kt(5,i,s)}}}}}function cM(t,e,n){return uM(t,e.parent,n)}function uM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ln];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Vt.None||s===Vt.Emulated)return null}return bt(r,n)}}function Ac(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Iw(t,e,n){t.appendChild(e,n)}function k_(t,e,n,r,i){r!==null?Ac(t,e,n,r,i):Iw(t,e,n)}function lM(t,e,n,r){t.removeChild(e,n,r)}function _f(t,e){return t.parentNode(e)}function dM(t,e){return t.nextSibling(e)}function hM(t,e,n){return pM(t,e,n)}function fM(t,e,n){return t.type&40?bt(t,n):null}var pM=fM,F_;function If(t,e,n,r){let i=cM(t,r,e),s=e[Te],o=r.parent||e[Tt],a=hM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)k_(s,i,n[c],a,!1);else k_(s,i,n,a,!1);F_!==void 0&&F_(s,r,e,n,i)}function pc(t,e){if(e!==null){let n=e.type;if(n&3)return bt(e,t);if(n&4)return bh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return pc(t,r);{let i=t[e.index];return dn(i)?bh(-1,i):Bt(i)}}else{if(n&32)return vf(e,t)()||Bt(t[e.index]);{let r=ww(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hs(t[jt]);return pc(i,r)}else return pc(t,e.next)}}}return null}function ww(t,e){if(e!==null){let r=t[jt][Tt],i=e.projection;return r.projection[i]}return null}function bh(t,e){let n=ht+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return pc(r,i)}return e[pr]}function gM(t,e,n){let r=_f(t,e);r&&lM(t,r,e,n)}function wf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&yr(Bt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)wf(t,e,n.child,r,i,s,!1),bi(e,t,i,a,s);else if(c&32){let u=vf(n,r),l;for(;l=u();)bi(e,t,i,l,s);bi(e,t,i,a,s)}else c&16?mM(t,e,r,n,i,s):bi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function qc(t,e,n,r,i,s){wf(n,r,t.firstChild,e,i,s,!1)}function mM(t,e,n,r,i,s){let o=n[jt],c=o[Tt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];bi(e,t,i,l,s)}else{let u=c,l=o[Le];cw(r)&&(u.flags|=128),wf(t,e,u,l,i,s,!0)}}function yM(t,e,n,r,i){let s=n[pr],o=Bt(n);s!==o&&bi(e,t,r,s,i);for(let a=ht;a<n.length;a++){let c=n[a];qc(c[W],c,t,e,r,s)}}function vM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:cn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cn.Important),t.setStyle(n,r,i,s))}}function _M(t,e,n){t.setAttribute(e,"style",n)}function Ew(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Dw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&dh(t,e,r),i!==null&&Ew(t,e,i),s!==null&&_M(t,e,s)}var Ln={};function v4(t=1){Cw(pt(),le(),Er()+t,!1)}function Cw(t,e,n,r){if(!r)if((e[N]&3)===3){let s=t.preOrderCheckHooks;s!==null&&hc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&fc(e,s,0,n)}gr(n)}function Z(t,e=j.Default){let n=le();if(n===null)return B(t,e);let r=nt();return nw(r,n,ze(t),e)}function Tw(t,e,n,r,i,s){let o=X(null);try{let a=null;i&Ve.SignalBased&&(a=e[r][Td]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ve.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):RI(e,a,r,s)}finally{X(o)}}function IM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)gr(~i);else{let s=i,o=n[++r],a=n[++r];_R(o,s);let c=e[s];a(2,c)}}}finally{gr(-1)}}function zc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[ln]=i,d[N]=r|4|128|8|64,(u!==null||t&&t[N]&2048)&&(d[N]|=2048),kI(d),d[Le]=d[Li]=t,d[Lt]=n,d[Ut]=o||t&&t[Ut],d[Te]=a||t&&t[Te],d[Pi]=c||t&&t[Pi]||null,d[Tt]=s,d[Bc]=HR(),d[wc]=l,d[bI]=u,d[jt]=e.type==2?t[jt]:d,d}function Gc(t,e,n,r,i){let s=t.data[e];if(s===null)s=wM(t,e,n,r,i),vR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=pR();s.injectorIndex=o===null?-1:o.injectorIndex}return Ys(s,!0),s}function wM(t,e,n,r,i){let s=LI(),o=UI(),a=o?s:s&&s.parent,c=t.data[e]=bM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function bw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Sw(t,e,n,r,i){let s=Er(),o=r&2;try{gr(-1),o&&e.length>xn&&Cw(t,e,xn,!1),kt(o?2:0,i),n(r,i)}finally{gr(s),kt(o?3:1,i)}}function Aw(t,e,n){if(AI(e)){let r=X(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{X(r)}}}function Rw(t,e,n){VI()&&(xM(t,e,n,bt(n,e)),(n.flags&64)===64&&kw(t,e,n))}function Mw(t,e,n=bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Nw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ef(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ef(t,e,n,r,i,s,o,a,c,u,l){let d=xn+r,h=d+i,p=EM(d,h),m=typeof u=="function"?u():u;return p[W]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function EM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ln);return n}function DM(t,e,n,r){let s=r.get(JR,pw)||n===Vt.ShadowDom,o=t.selectRootElement(e,s);return CM(o),o}function CM(t){TM(t)}var TM=()=>null;function bM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return dR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function V_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Ve.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?L_(r,n,u,a,c):L_(r,n,u,a)}return r}function L_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function SM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,m=h?h.outputs:null;c=V_(0,d.inputs,l,c,p),u=V_(1,d.outputs,l,u,m);let v=c!==null&&o!==null&&!Zh(e)?BM(c,l,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function AM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xw(t,e,n,r,i,s,o,a){let c=bt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Df(t,n,l,r,i),$c(e)&&RM(n,e.index)):e.type&3?(r=AM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function RM(t,e){let n=Fn(e,t);n[N]&16||(n[N]|=64)}function Pw(t,e,n,r){if(VI()){let i=r===null?null:{"":-1},s=OM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Ow(t,e,n,o,i,a),i&&kM(n,r,i)}n.mergedAttrs=Ls(n.mergedAttrs,n.attrs)}function Ow(t,e,n,r,i,s){for(let u=0;u<r.length;u++)_h(Sc(n,e),t,r[u].type);VM(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=bw(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Ls(n.mergedAttrs,l.hostAttrs),LM(t,n,e,c,l),FM(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}SM(t,n,s)}function MM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;NM(o)!=a&&o.push(a),o.push(n,r,s)}}function NM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function xM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;$c(n)&&UM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Sc(n,e),yr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=ki(e,t,a,n);if(yr(u,e),o!==null&&jM(e,a-i,u,c,n,o),Pn(c)){let l=Fn(n.index,e);l[Lt]=ki(e,t,a,n)}}}function kw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=IR();try{gr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];yh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&PM(c,u)}}finally{gr(-1),yh(o)}}function PM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(AA(e,o.selectors,!1))if(r||(r=[]),Pn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Sh(t,e,c)}else r.unshift(o),Sh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Sh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new S(-301,!1);r.push(e[i],s)}}}function FM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pn(e)&&(n[""]=t)}}function VM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ri(i.type,!0)),o=new mr(s,Pn(i),Z);t.blueprint[r]=o,n[r]=o,MM(t,e,r,bw(t,n,i.hostVars,Ln),i)}function UM(t,e,n){let r=bt(e,t),i=Nw(n),s=t[Ut].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Wc(t,zc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function jM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];Tw(r,n,c,u,l,d)}}function BM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Fw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Vw(t,e){let n=t.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];BI(s),a.contentQueries(2,e[o],o)}}}finally{X(r)}}}function Wc(t,e){return t[Bs]?t[S_][Ct]=e:t[Bs]=e,t[S_]=e,e}function Ah(t,e,n){BI(0);let r=X(null);try{e(t,n)}finally{X(r)}}function $M(t){return t[js]||(t[js]=[])}function HM(t){return t.cleanup||(t.cleanup=[])}function Lw(t,e){let n=t[Pi],r=n?n.get(an,null):null;r&&r.handleError(e)}function Df(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];Tw(l,u,r,a,c,i)}}function Uw(t,e,n){let r=PI(e,t);eM(t[Te],r,n)}function qM(t,e){let n=Fn(e,t),r=n[W];zM(r,n);let i=n[ln];i!==null&&n[wc]===null&&(n[wc]=mf(i,n[Pi])),Cf(r,n,n[Lt])}function zM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Cf(t,e,n){af(e);try{let r=t.viewQuery;r!==null&&Ah(1,r,n);let i=t.template;i!==null&&Sw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Oi]?.finishViewCreation(t),t.staticContentQueries&&Vw(t,e),t.staticViewQueries&&Ah(2,t.viewQuery,n);let s=t.components;s!==null&&GM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,cf()}}function GM(t,e){for(let n=0;n<e.length;n++)qM(t,e[n])}function WM(t,e,n,r){let i=X(null);try{let s=e.tView,a=t[N]&4096?4096:16,c=zc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[jc]=u;let l=t[Oi];return l!==null&&(c[Oi]=l.createEmbeddedView(s)),Cf(s,c,n),c}finally{X(i)}}function U_(t,e){return!e||e.firstChild===null||cw(t)}function KM(t,e,n,r=!0){let i=e[W];if(iM(i,e,t,n),r){let o=bh(n,t),a=e[Te],c=_f(a,t[pr]);c!==null&&nM(i,t[Tt],a,e,c,o)}let s=e[wc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Rc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Bt(s)),dn(s)&&QM(s,r);let o=n.type;if(o&8)Rc(t,e,n.child,r);else if(o&32){let a=vf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=ww(e,n);if(Array.isArray(a))r.push(...a);else{let c=Hs(e[jt]);Rc(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function QM(t,e){for(let n=ht;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&Rc(r[W],r,i,e)}t[pr]!==t[ln]&&e.push(t[pr])}var jw=[];function YM(t){return t[fr]??JM(t)}function JM(t){let e=jw.pop()??Object.create(XM);return e.lView=t,e}function ZM(t){t.lView[fr]!==t&&(t.lView=null,jw.push(t))}var XM=ie(D({},$v),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$s(t.lView)},consumerOnSignalRead(){this.lView[fr]=this}}),Bw=100;function $w(t,e=!0,n=0){let r=t[Ut],i=r.rendererFactory,s=!1;s||i.begin?.();try{eN(t,n)}catch(o){throw e&&Lw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function eN(t,e){Rh(t,e);let n=0;for(;sf(t);){if(n===Bw)throw new S(103,!1);n++,Rh(t,1)}}function tN(t,e,n,r){let i=e[N];if((i&256)===256)return;let s=!1;!s&&e[Ut].inlineEffectRunner?.flush(),af(e);let o=null,a=null;!s&&nN(t)&&(a=YM(e),o=Hv(a));try{kI(e),yR(t.bindingStartIndex),n!==null&&Sw(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&hc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&fc(e,d,0,null),Yd(e,0)}if(rN(e),Hw(e,0),t.contentQueries!==null&&Vw(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&hc(e,d)}else{let d=t.contentHooks;d!==null&&fc(e,d,1),Yd(e,1)}IM(t,e);let u=t.components;u!==null&&zw(e,u,0);let l=t.viewQuery;if(l!==null&&Ah(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&hc(e,d)}else{let d=t.viewHooks;d!==null&&fc(e,d,2),Yd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qd]){for(let d of e[Qd])d();e[Qd]=null}s||(e[N]&=-73)}catch(c){throw $s(e),c}finally{a!==null&&(qv(a,o),ZM(a)),cf()}}function nN(t){return t.type!==2}function Hw(t,e){for(let n=lw(t);n!==null;n=dw(n))for(let r=ht;r<n.length;r++){let i=n[r];qw(i,e)}}function rN(t){for(let e=lw(t);e!==null;e=dw(e)){if(!(e[N]&tf.HasTransplantedViews))continue;let n=e[Dc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Le];sR(i)}}}function iN(t,e,n){let r=Fn(e,t);qw(r,n)}function qw(t,e){rf(t)&&Rh(t,e)}function Rh(t,e){let r=t[W],i=t[N],s=t[fr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&bd(s)),s&&(s.dirty=!1),t[N]&=-9217,o)tN(r,t,r.template,t[Lt]);else if(i&8192){Hw(t,1);let a=r.components;a!==null&&zw(t,a,1)}}function zw(t,e,n){for(let r=0;r<e.length;r++)iN(t,e[r],n)}function Tf(t){for(t[Ut].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=Hs(t);if(YA(t)&&!e)return t;t=e}return null}var vr=class{get rootNodes(){let e=this._lView,n=e[W];return Rc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(e){this._lView[Lt]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Le];if(dn(e)){let n=e[Ec],r=n?n.indexOf(this):-1;r>-1&&(Th(e,r),_c(n,r))}this._attachedToViewContainer=!1}_w(this._lView[W],this._lView)}onDestroy(e){FI(this._lView,e)}markForCheck(){Tf(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){mh(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,$w(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,yw(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e,mh(this._lView)}},Kc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aN;let t=e;return t})(),sN=Kc,oN=class extends sN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=WM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new vr(i)}};function aN(){return cN(nt(),le())}function cN(t,e){return t.type&4?new oN(e,t,Hc(t,e)):null}var I4=new RegExp(`^(\\d+)*(${QR}|${KR})*(.*)`);var uN=()=>null;function j_(t,e){return uN(t,e)}var Mh=class{},Nh=class{},Mc=class{};function lN(t){let e=Error(`No component factory found for ${Ge(t)}.`);return e[dN]=t,e}var dN="ngComponent";var xh=class{resolveComponentFactory(e){throw lN(e)}},Qc=(()=>{let e=class e{};e.NULL=new xh;let t=e;return t})(),qs=class{},Ui=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>hN();let t=e;return t})();function hN(){let t=le(),e=nt(),n=Fn(e.index,t);return(lr(n)?n:t)[Te]}var fN=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),th={};var B_=new Set;function Gw(t){B_.has(t)||(B_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $_(...t){}function pN(){let t=typeof ks.requestAnimationFrame=="function",e=ks[t?"requestAnimationFrame":"setTimeout"],n=ks[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var se=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=pN().nativeRequestAnimationFrame,yN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,gN,$_,$_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gN={};function bf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ks,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ph(t),t.isCheckStableRunning=!0,bf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ph(t))}function yN(t){let e=()=>{mN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(vN(a))return n.invokeTask(i,s,o,a);try{return H_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),q_(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return H_(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),q_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ph(t),bf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ph(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function H_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function q_(t){t._nesting--,bf(t)}function vN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ww=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Oh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=y_(i,a);else if(s==2){let c=a,u=e[++o];r=y_(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Nc=class extends Qc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hr(e);return new zs(n,this.ngModule)}};function z_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function _N(t){let e=t.toLowerCase();return e==="svg"?eR:e==="math"?tR:null}var kh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vc(r);let i=this.injector.get(e,th,r);return i!==th||n===th?i:this.parentInjector.get(e,n,r)}},zs=class extends Mc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=z_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return z_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=X(null);try{i=i||this.ngModule;let o=i instanceof ft?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new kh(e,o):e,c=a.get(qs,null);if(c===null)throw new S(407,!1);let u=a.get(fN,null),l=a.get(Ww,null),d=a.get(Mh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",v=r?DM(p,r,this.componentDef.encapsulation,a):mw(p,m,_N(m)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let C=null;v!==null&&(C=mf(v,a,!0));let Q=Ef(0,null,null,1,0,null,null,null,null,null,null),$=zc(null,Q,null,_,null,null,h,p,a,null,C);af($);let ae,Re;try{let te=this.componentDef,Fe,Pt=null;te.findHostDirectiveDefs?(Fe=[],Pt=new Map,te.findHostDirectiveDefs(te,Fe,Pt),Fe.push(te)):Fe=[te];let sr=IN($,v),ui=wN(sr,v,te,Fe,$,h,p);Re=OI(Q,xn),v&&CN(p,te,v,r),n!==void 0&&TN(Re,this.ngContentSelectors,n),ae=DN(ui,te,Fe,Pt,$,[bN]),Cf(Q,$,null)}finally{cf()}return new Fh(this.componentType,ae,Hc(Re,$),$,Re)}finally{X(s)}}},Fh=class extends Nh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Df(s[W],s,i,e,n),this.previousInputValues.set(e,n);let o=Fn(this._tNode.index,s);Tf(o)}}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function IN(t,e){let n=t[W],r=xn;return t[r]=e,Gc(n,r,2,"#host",null)}function wN(t,e,n,r,i,s,o){let a=i[W];EN(r,t,e,o);let c=null;e!==null&&(c=mf(e,i[Pi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=zc(i,Nw(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Sh(a,t,r.length-1),Wc(i,d),i[t.index]=d}function EN(t,e,n,r){for(let i of t)e.mergedAttrs=Ls(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Oh(e,e.mergedAttrs,!0),n!==null&&Dw(r,n,e))}function DN(t,e,n,r,i,s){let o=nt(),a=i[W],c=bt(o,i);Ow(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=ki(i,a,d,o);yr(h,i)}kw(a,i,o),c&&yr(c,i);let u=ki(i,a,o.directiveStart+o.componentOffset,o);if(t[Lt]=i[Lt]=u,s!==null)for(let l of s)l(u,e);return Aw(a,o,i),u}function CN(t,e,n,r){if(r)dh(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=PA(e.selectors[0]);i&&dh(t,n,i),s&&s.length>0&&Ew(t,n,s.join(" "))}}function TN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function bN(){let t=nt();df(le()[W],t)}var ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SN;let t=e;return t})();function SN(){let t=nt();return RN(t,le())}var AN=ji,Kw=class extends AN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){let e=hf(this._hostTNode,this._hostLView);if(YI(e)){let n=bc(e,this._hostLView),r=Tc(e),i=n[W].data[r+8];return new dr(i,n)}else return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=G_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=j_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,U_(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!QA(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new zs(hr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?u:this.parentInjector).get(ft,null);v&&(s=v)}let l=hr(c.componentType??{}),d=j_(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,U_(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(iR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Le],u=new Kw(c,c[Tt],c[Le]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return KM(o,i,s,r),e.attachToViewContainerRef(),lI(nh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=G_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Th(this._lContainer,n);r&&(_c(nh(this._lContainer),n),_w(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Th(this._lContainer,n);return r&&_c(nh(this._lContainer),n)!=null?new vr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function G_(t){return t[Ec]}function nh(t){return t[Ec]||(t[Ec]=[])}function RN(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=Fw(r,e,null,t),e[t.index]=n,Wc(e,n)),NN(n,e,t,r),new Kw(n,t,e)}function MN(t,e){let n=t[Te],r=n.createComment(""),i=bt(e,t),s=_f(n,i);return Ac(n,s,r,dM(n,i),!1),r}var NN=ON,xN=()=>!1;function PN(t,e,n){return xN(t,e,n)}function ON(t,e,n,r){if(t[pr])return;let i;n.type&8?i=Bt(r):i=MN(e,n),t[pr]=i}function kN(t){return typeof t=="function"&&t[Td]!==void 0}function Qw(t){return kN(t)&&typeof t.set=="function"}function FN(t){return Object.getPrototypeOf(t.prototype).constructor}function hn(t){let e=FN(t.type),n=!0,r=[t];for(;e;){let i;if(Pn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=uc(t.inputs),o.inputTransforms=uc(t.inputTransforms),o.declaredInputs=uc(t.declaredInputs),o.outputs=uc(t.outputs);let a=i.hostBindings;a&&BN(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&UN(t,c),u&&jN(t,u),VN(t,i),XS(t.outputs,i.outputs),Pn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===hn&&(n=!1)}}e=Object.getPrototypeOf(e)}LN(r)}function VN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function LN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ls(i.hostAttrs,n=Ls(n,i.hostAttrs))}}function uc(t){return t===Mi?{}:t===dt?[]:t}function UN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function BN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var On=class{},Gs=class{};var Vh=class extends On{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nc(this);let i=_I(e);this._bootstrapComponents=gw(i.bootstrap),this._r3Injector=sw(e,n,[{provide:On,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver},...r],Ge(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lh=class extends Gs{constructor(e){super(),this.moduleType=e}create(e){return new Vh(this.moduleType,e,[])}};var xc=class extends On{constructor(e){super(),this.componentFactoryResolver=new Nc(this),this.instance=null;let n=new Us([...e.providers,{provide:On,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],e.parent||ef(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sf(t,e,n=null){return new xc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Yc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yw(t){return HN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $N(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function HN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Fi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function qN(t,e,n,r){let i=Fi(t,e,n);return Fi(t,e+1,r)||i}function zN(t){return(t.flags&32)===32}function GN(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Gc(e,t,4,o||null,Cc(u,a));Pw(e,n,l,Cc(u,c)),df(e,l);let d=l.tView=Ef(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function WN(t,e,n,r,i,s,o,a){let c=le(),u=pt(),l=t+xn,d=u.firstCreatePass?GN(l,u,c,e,n,r,i,s,o):u.data[l];Ys(d,!1);let h=KN(u,c,d,t);uf()&&If(u,c,h,d),yr(h,c);let p=Fw(h,c,h,d);return c[l]=p,Wc(c,p),PN(p,d,c),nf(d)&&Rw(u,c,d),o!=null&&Mw(c,d,a),WN}var KN=QN;function QN(t,e,n,r){return lf(!0),e[Te].createComment("")}function YN(t,e,n,r){return Fi(t,of(),n)?e+yc(n)+r:Ln}function JN(t,e,n,r,i,s){let o=mR(),a=qN(t,o,n,i);return jI(2),a?e+yc(n)+r+yc(i)+s:Ln}function lc(t,e){return t<<17|e<<2}function _r(t){return t>>17&32767}function ZN(t){return(t&2)==2}function XN(t,e){return t&131071|e<<17}function Uh(t){return t|2}function Vi(t){return(t&131068)>>2}function rh(t,e){return t&-131069|e<<2}function ex(t){return(t&1)===1}function jh(t){return t|1}function tx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_r(o),c=Vi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Qs(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=_r(t[a+1]);t[r+1]=lc(h,a),h!==0&&(t[h+1]=rh(t[h+1],r)),t[a+1]=XN(t[a+1],r)}else t[r+1]=lc(a,0),a!==0&&(t[a+1]=rh(t[a+1],r)),a=r;else t[r+1]=lc(c,0),a===0?a=r:t[c+1]=rh(t[c+1],r),c=r;u&&(t[r+1]=Uh(t[r+1])),W_(t,l,r,!0),W_(t,l,r,!1),nx(e,l,t,r,s),o=lc(a,c),s?e.classBindings=o:e.styleBindings=o}function nx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Qs(s,e)>=0&&(n[r+1]=jh(n[r+1]))}function W_(t,e,n,r){let i=t[n+1],s=e===null,o=r?_r(i):Vi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];rx(c,e)&&(a=!0,t[o+1]=r?jh(u):Uh(u)),o=r?_r(u):Vi(u)}a&&(t[n+1]=r?Uh(i):jh(i))}function rx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qs(t,e)>=0:!1}function ix(t,e,n){let r=le(),i=of();if(Fi(r,i,e)){let s=pt(),o=WI();xw(s,o,r,t,e,r[Te],n,!1)}return ix}function K_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Df(t,n,s[o],o,r)}function Jc(t,e){return sx(t,e,null,!0),Jc}function sx(t,e,n,r){let i=le(),s=pt(),o=jI(2);if(s.firstUpdatePass&&ax(s,t,o,r),e!==Ln&&Fi(i,o,e)){let a=s.data[Er()];hx(s,a,i,i[Te],t,i[o+1]=fx(e,n),r,o)}}function ox(t,e){return e>=t.expandoStartIndex}function ax(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Er()],o=ox(t,n);px(s,r)&&e===null&&!o&&(e=!1),e=cx(i,s,e,r),tx(i,s,e,n,o,r)}}function cx(t,e,n,r){let i=wR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ih(null,t,e,n,r),n=Ws(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=ih(i,t,e,n,r),s===null){let c=ux(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ih(null,t,e,c[1],r),c=Ws(c,e.attrs,r),lx(t,e,r,c))}else s=dx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ux(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vi(r)!==0)return t[_r(r)]}function lx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_r(i)]=r}function dx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ws(r,o,n)}return Ws(r,e.attrs,n)}function ih(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ws(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ws(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_A(t,o,n?!0:e[++s]))}return t===void 0?null:t}function hx(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=ex(u)?Q_(c,e,n,i,Vi(u),o):void 0;if(!Pc(l)){Pc(s)||ZN(u)&&(s=Q_(c,null,n,i,a,o));let d=PI(Er(),n);vM(r,o,d,i,s)}}function Q_(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Ln&&(h=d?dt:void 0);let p=d?Wd(h,r):l===r?h:void 0;if(u&&!Pc(p)&&(p=Wd(c,r)),Pc(p)&&(a=p,o))return a;let m=t[i+1];i=o?_r(m):Vi(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Wd(c,r))}return a}function Pc(t){return t!==void 0}function fx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ge(yf(t)))),t}function px(t,e){return(t.flags&(e?8:16))!==0}function gx(t,e,n,r,i,s){let o=e.consts,a=Cc(o,i),c=Gc(e,t,2,r,a);return Pw(e,n,c,Cc(o,s)),c.attrs!==null&&Oh(c,c.attrs,!1),c.mergedAttrs!==null&&Oh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Jw(t,e,n,r){let i=le(),s=pt(),o=xn+t,a=i[Te],c=s.firstCreatePass?gx(o,s,i,e,n,r):s.data[o],u=mx(s,i,c,a,e,t);i[o]=u;let l=nf(c);return Ys(c,!0),Dw(a,u,c),!zN(c)&&uf()&&If(s,i,u,c),cR()===0&&yr(u,i),uR(),l&&(Rw(s,i,c),Aw(s,c,i)),r!==null&&Mw(i,c),Jw}function Zw(){let t=nt();UI()?gR():(t=t.parent,Ys(t,!1));let e=t;hR(e)&&fR(),lR();let n=pt();return n.firstCreatePass&&(df(n,t),AI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&AR(e)&&K_(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RR(e)&&K_(n,e,le(),e.stylesWithoutHost,!1),Zw}function Af(t,e,n,r){return Jw(t,e,n,r),Zw(),Af}var mx=(t,e,n,r,i,s)=>(lf(!0),mw(r,i,CR()));var Oc="en-US";var yx=Oc;function vx(t){typeof t=="string"&&(yx=t.toLowerCase().replace(/_/g,"-"))}function Zs(t,e,n,r){let i=le(),s=pt(),o=nt();return Xw(s,i,i[Te],o,t,e,r),Zs}function _x(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[js],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Xw(t,e,n,r,i,s,o){let a=nf(r),u=t.firstCreatePass&&HM(t),l=e[Lt],d=$M(e),h=!0;if(r.type&3||o){let v=bt(r,e),_=o?o(v):v,C=d.length,Q=o?ae=>o(Bt(ae[r.index])):r.index,$=null;if(!o&&a&&($=_x(t,e,i,r.index)),$!==null){let ae=$.__ngLastListenerFn__||$;ae.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,h=!1}else{s=J_(r,e,l,s,!1);let ae=n.listen(_,i,s);d.push(s,ae),u&&u.push(i,Q,C,C+1)}}else s=J_(r,e,l,s,!1);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let v=m.length;if(v)for(let _=0;_<v;_+=2){let C=m[_],Q=m[_+1],Re=e[C][Q].subscribe(s),te=d.length;d.push(s,Re),u&&u.push(i,r.index,te,-(te+1))}}}function Y_(t,e,n,r){let i=X(null);try{return kt(6,e,n),n(r)!==!1}catch(s){return Lw(t,s),!1}finally{kt(7,e,n),X(i)}}function J_(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Fn(t.index,e):e;Tf(a);let c=Y_(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Y_(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function E4(t=1){return DR(t)}function D4(t,e=""){let n=le(),r=pt(),i=t+xn,s=r.firstCreatePass?Gc(r,i,1,e,null):r.data[i],o=Ix(r,n,s,e,t);n[i]=o,uf()&&If(r,n,o,s),Ys(s,!1)}var Ix=(t,e,n,r,i)=>(lf(!0),XR(e[Te],r));function wx(t){return eE("",t,""),wx}function eE(t,e,n){let r=le(),i=YN(r,t,e,n);return i!==Ln&&Uw(r,Er(),i),eE}function Ex(t,e,n,r,i){let s=le(),o=JN(s,t,e,n,r,i);return o!==Ln&&Uw(s,Er(),o),Ex}function Dx(t,e,n){Qw(e)&&(e=e());let r=le(),i=of();if(Fi(r,i,e)){let s=pt(),o=WI();xw(s,o,r,t,e,r[Te],n,!1)}return Dx}function C4(t,e){let n=Qw(t);return n&&t.set(e),n}function Cx(t,e){let n=le(),r=pt(),i=nt();return Xw(r,n,n[Te],i,t,e),Cx}function Tx(t,e,n){let r=pt();if(r.firstCreatePass){let i=Pn(t);Bh(n,r.data,r.blueprint,i,!0),Bh(e,r.data,r.blueprint,i,!1)}}function Bh(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)Bh(t[s],e,n,r,i);else{let s=pt(),o=le(),a=nt(),c=xi(t)?t:ze(t.provide),u=TI(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(xi(t)||!t.multi){let p=new mr(u,i,Z),m=oh(c,e,i?l:l+h,d);m===-1?(_h(Sc(a,o),s,c),sh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[m]=p,o[m]=p)}else{let p=oh(c,e,l+h,d),m=oh(c,e,l,l+h),v=p>=0&&n[p],_=m>=0&&n[m];if(i&&!_||!i&&!v){_h(Sc(a,o),s,c);let C=Ax(i?Sx:bx,n.length,i,r,u);!i&&_&&(n[m].providerFactory=C),sh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=tE(n[i?m:p],u,!i&&r);sh(s,t,p>-1?p:m,C)}!i&&r&&_&&n[m].componentProviders++}}}function sh(t,e,n,r){let i=xi(e),s=BA(e);if(i||s){let c=(s?ze(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function tE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function oh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bx(t,e,n,r){return $h(this.multi,[])}function Sx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ki(n,n[W],this.providerFactory.index,r);s=a.slice(0,o),$h(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],$h(i,s);return s}function $h(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Ax(t,e,n,r,i){let s=new mr(t,n,Z);return s.multi=[],s.index=e,s.componentProviders=0,tE(s,i,r&&!n),s}function Xs(t,e=[]){return n=>{n.providersResolver=(r,i)=>Tx(r,i?i(t):t,e)}}var Rx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=EI(!1,r.type),s=i.length>0?Sf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(B(ft))});let t=e;return t})();function nE(t){Gw("NgStandalone"),t.getStandaloneInjector=e=>e.get(Rx).getOrCreateStandaloneInjector(t)}var un=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},rE=new un("17.3.5"),Zc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var iE=new A("");function Cr(t){return!!t&&typeof t.then=="function"}function sE(t){return!!t&&typeof t.subscribe=="function"}var oE=new A(""),aE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=T(oE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Cr(o))r.push(o);else if(sE(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rf=new A("");function Mx(){Gv(()=>{throw new S(600,!1)})}function Nx(t){return t.isBoundToModule}function xx(t,e,n){try{let r=n();return Cr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var eo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(ow),this.afterRenderEffectManager=T(Ww),this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=T(Yc).hasPendingTasks.pipe(U(r=>!r)),this._injector=T(ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Mc;if(!this._injector.get(aE).done){let p=!s&&vI(r),m=!1;throw new S(405,m)}let a;s?a=r:a=this._injector.get(Qc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Nx(a)?void 0:this._injector.get(On),u=i||a.selector,l=a.create(gt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(iE,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ah(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new S(101,!1);let i=X(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,X(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Bw)throw new S(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)Px(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Hh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Hh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ah(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Rf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ah(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ah(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Px(t,e,n){!e&&!Hh(t)||Ox(t,n,e)}function Hh(t){return sf(t)}function Ox(t,e,n){let r;n?(r=0,t[N]|=1024):t[N]&64?r=0:r=1,$w(t,e,r)}var qh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Mf=(()=>{let e=class e{compileModuleSync(r){return new Lh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=_I(r),o=gw(s.declarations).reduce((a,c)=>{let u=hr(c);return u&&a.push(new zs(u)),a},[]);return new qh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kx=(()=>{let e=class e{constructor(){this.zone=T(se),this.applicationRef=T(eo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fx(t){return[{provide:se,useFactory:t},{provide:Ni,multi:!0,useFactory:()=>{let e=T(kx,{optional:!0});return()=>e.initialize()}},{provide:Ni,multi:!0,useFactory:()=>{let e=T(jx);return()=>{e.initialize()}}},{provide:ow,useFactory:Vx}]}function Vx(){let t=T(se),e=T(an);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Lx(t){let e=Fx(()=>new se(Ux(t)));return Lc([[],e])}function Ux(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var jx=(()=>{let e=class e{constructor(){this.subscription=new ye,this.initialized=!1,this.zone=T(se),this.pendingTasks=T(Yc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bx(){return typeof $localize<"u"&&$localize.locale||Oc}var Nf=new A("",{providedIn:"root",factory:()=>T(Nf,j.Optional|j.SkipSelf)||Bx()});var cE=new A("");var gc=null;function $x(t=[],e){return gt.create({name:e,providers:[{provide:Uc,useValue:"platform"},{provide:cE,useValue:new Set([()=>gc=null])},...t]})}function Hx(t=[]){if(gc)return gc;let e=$x(t);return gc=e,Mx(),qx(e),e}function qx(t){t.get(pf,null)?.forEach(n=>n())}var Tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zx;let t=e;return t})();function zx(t){return Gx(nt(),le(),(t&16)===16)}function Gx(t,e,n){if($c(t)&&!n){let r=Fn(t.index,e);return new vr(r,r)}else if(t.type&47){let r=e[jt];return new vr(r,e)}return null}var zh=class{constructor(){}supports(e){return Yw(e)}create(e){return new Gh(e)}},Wx=(t,e)=>e,Gh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Wx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Z_(r,i,s)?n:r,a=Z_(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let p=h<s.length?s[h]:s[h]=0,m=p+h;l<=m&&m<u&&(s[h]=p+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Yw(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,$N(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Wh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new kc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Kh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},kc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Kh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Z_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function X_(){return new xf([new zh])}var xf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||X_()),deps:[[e,new uI,new We]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new S(901,!1)}};e.\u0275prov=x({token:e,providedIn:"root",factory:X_});let t=e;return t})();function uE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Hx(r),s=[Lx(),...n||[]],a=new xc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(se);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(an,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(cE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),xx(u,c,()=>{let p=a.get(aE);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get(Nf,Oc);vx(m||Oc);let v=a.get(eo);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function Xc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var pE=null;function fn(){return pE}function gE(t){pE??=t}var eu=class{};var mt=new A(""),mE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>T(Yx),providedIn:"platform"});let t=e;return t})();var Yx=(()=>{let e=class e extends mE{constructor(){super(),this._doc=T(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fn().getBaseHref(this._doc)}onPopState(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function yE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function lE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function br(t){return t&&t[0]!=="?"?"?"+t:t}var nu=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>T(vE),providedIn:"root"});let t=e;return t})(),Jx=new A(""),vE=(()=>{let e=class e extends nu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??T(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return yE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+br(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+br(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+br(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(mE),B(Jx,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var to=(()=>{let e=class e{constructor(r){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=eP(lE(dE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+br(i))}normalize(r){return e.stripTrailingSlash(Xx(this._basePath,dE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+br(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+br(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=br,e.joinWithSlash=yE,e.stripTrailingSlash=lE,e.\u0275fac=function(i){return new(i||e)(B(nu))},e.\u0275prov=x({token:e,factory:()=>Zx(),providedIn:"root"});let t=e;return t})();function Zx(){return new to(B(nu))}function Xx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dE(t){return t.replace(/\/index.html$/,"")}function eP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function _E(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Pf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Y4=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Pf(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),hE(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);hE(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Z(ji),Z(Kc),Z(xf))},e.\u0275dir=Ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function hE(t,e){t.context.$implicit=e.item}var J4=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Of,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){fE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){fE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Z(ji),Z(Kc))},e.\u0275dir=Ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Of=class{constructor(){this.$implicit=null,this.ngIf=null}};function fE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ge(e)}'.`)}var tP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ze({});let t=e;return t})(),IE="browser",nP="server";function kf(t){return t===nP}var tu=class{};var Lf=class extends eu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Uf=class t extends Lf{static makeCurrent(){gE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rP();return n==null?null:iP(n)}resetBaseElement(){no=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _E(document.cookie,e)}},no=null;function rP(){return no=no||document.querySelector("base"),no?no.getAttribute("href"):null}function iP(t){return new URL(t,document.baseURI).pathname}var sP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),jf=new A(""),CE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(B(jf),B(se))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),ru=class{constructor(e){this._doc=e}},Ff="ng-app-id",TE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ff}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Ff),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ff,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(B(mt),B(ff),B(gf,8),B(Vn))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Vf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$f=/%COMP%/g,bE="%COMP%",oP=`_nghost-${bE}`,aP=`_ngcontent-${bE}`,cP=!0,uP=new A("",{providedIn:"root",factory:()=>cP});function lP(t){return aP.replace($f,t)}function dP(t){return oP.replace($f,t)}function SE(t,e){return e.map(n=>n.replace($f,t))}var wE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=kf(c),this.defaultRenderer=new ro(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vt.ShadowDom&&(i=ie(D({},i),{encapsulation:Vt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof iu?s.applyToHost(r):s instanceof io&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Vt.Emulated:o=new iu(u,l,i,this.appId,d,a,c,h);break;case Vt.ShadowDom:return new Bf(u,l,r,i,a,c,this.nonce,h);default:o=new io(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(B(CE),B(TE),B(ff),B(uP),B(mt),B(Vn),B(se),B(gf))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),ro=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(EE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(EE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Vf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cn.DashCase|cn.Important)?e.style.setProperty(n,r,i&cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=fn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function EE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bf=class extends ro{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=SE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},io=class extends ro{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?SE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},iu=class extends io{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=lP(u),this.hostAttr=dP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},hP=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(B(mt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),DE=["alt","control","meta","shift"],fP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gP=(()=>{let e=class e extends ru{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),DE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=fP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),DE.forEach(a=>{if(a!==s){let c=pP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(B(mt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function bW(t,e){return uE(D({rootComponent:t},mP(e)))}function mP(t){return{appProviders:[...wP,...t?.providers??[]],platformProviders:IP}}function yP(){Uf.makeCurrent()}function vP(){return new an}function _P(){return fw(document),document}var IP=[{provide:Vn,useValue:IE},{provide:pf,useValue:yP,multi:!0},{provide:mt,useFactory:_P,deps:[]}];var wP=[{provide:Uc,useValue:"root"},{provide:an,useFactory:vP,deps:[]},{provide:jf,useClass:hP,multi:!0,deps:[mt,se,Vn]},{provide:jf,useClass:gP,multi:!0,deps:[mt]},wE,TE,CE,{provide:qs,useExisting:wE},{provide:tu,useClass:sP,deps:[]},[]];var AE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(B(mt))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var L="primary",Io=Symbol("RouteTitle"),Wf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zi(t){return new Wf(t)}function CP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function TP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$t(t[n],e[n]))return!1;return!0}function $t(t,e){let n=t?Kf(t):void 0,r=e?Kf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OE(t[i],e[i]))return!1;return!0}function Kf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function OE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function kE(t){return t.length>0?t[t.length-1]:null}function $n(t){return Bd(t)?t:Cr(t)?he(Promise.resolve(t)):F(t)}var bP={exact:VE,subset:LE},FE={exact:SP,subset:AP,ignored:()=>!0};function RE(t,e,n){return bP[n.paths](t.root,e.root,n.matrixParams)&&FE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function SP(t,e){return $t(t,e)}function VE(t,e,n){if(!Ar(t.segments,e.segments)||!au(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!VE(t.children[r],e.children[r],n))return!1;return!0}function AP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OE(t[n],e[n]))}function LE(t,e,n){return UE(t,e,e.segments,n)}function UE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ar(i,n)||e.hasChildren()||!au(i,n,r))}else if(t.segments.length===n.length){if(!Ar(t.segments,n)||!au(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!LE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ar(t.segments,i)||!au(t.segments,i,r)||!t.children[L]?!1:UE(t.children[L],e,s,r)}}function au(t,e,n){return e.every((r,i)=>FE[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return NP.serialize(this)}},ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cu(this)}},Sr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=zi(this.parameters),this._parameterMap}toString(){return BE(this)}};function RP(t,e){return Ar(t,e)&&t.every((n,r)=>$t(n.parameters,e[r].parameters))}function Ar(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function MP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===L&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==L&&(n=n.concat(e(i,r)))}),n}var Ip=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new lu,providedIn:"root"});let t=e;return t})(),lu=class{parse(e){let n=new Yf(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${so(e.root,!0)}`,r=OP(e.queryParams),i=typeof e.fragment=="string"?`#${xP(e.fragment)}`:"";return`${n}${r}${i}`}},NP=new lu;function cu(t){return t.segments.map(e=>BE(e)).join("/")}function so(t,e){if(!t.hasChildren())return cu(t);if(e){let n=t.children[L]?so(t.children[L],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==L&&r.push(`${i}:${so(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=MP(t,(r,i)=>i===L?[so(t.children[L],!1)]:[`${i}:${so(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[L]!=null?`${cu(t)}/${n[0]}`:`${cu(t)}/(${n.join("//")})`}}function jE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(t){return jE(t).replace(/%3B/gi,";")}function xP(t){return encodeURI(t)}function Qf(t){return jE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uu(t){return decodeURIComponent(t)}function ME(t){return uu(t.replace(/\+/g,"%20"))}function BE(t){return`${Qf(t.path)}${PP(t.parameters)}`}function PP(t){return Object.entries(t).map(([e,n])=>`;${Qf(e)}=${Qf(n)}`).join("")}function OP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${su(n)}=${su(i)}`).join("&"):`${su(n)}=${su(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kP=/^[^\/()?;#]+/;function Hf(t){let e=t.match(kP);return e?e[0]:""}var FP=/^[^\/()?;=#]+/;function VP(t){let e=t.match(FP);return e?e[0]:""}var LP=/^[^=?&#]+/;function UP(t){let e=t.match(LP);return e?e[0]:""}var jP=/^[^&#]+/;function BP(t){let e=t.match(jP);return e?e[0]:""}var Yf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[L]=new ne(e,n)),r}parseSegment(){let e=Hf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Sr(uu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=VP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Hf(this.remaining);i&&(r=i,this.capture(r))}e[uu(n)]=uu(r)}parseQueryParam(e){let n=UP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=BP(this.remaining);o&&(r=o,this.capture(r))}let i=ME(n),s=ME(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=L);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[L]:new ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function $E(t){return t.segments.length>0?new ne([],{[L]:t}):t}function HE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=HE(i);if(r===L&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ne(t.segments,e);return $P(n)}function $P(t){if(t.numberOfChildren===1&&t.children[L]){let e=t.children[L];return new ne(t.segments.concat(e.segments),e.children)}return t}function Gi(t){return t instanceof jn}function HP(t,e,n=null,r=null){let i=qE(t);return zE(i,e,n,r)}function qE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ne(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$E(r);return e??i}function zE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return qf(i,i,i,n,r);let s=qP(e);if(s.toRoot())return qf(i,i,new ne([],{}),n,r);let o=zP(s,i,t),a=o.processChildren?co(o.segmentGroup,o.index,s.commands):WE(o.segmentGroup,o.index,s.commands);return qf(i,o.segmentGroup,a,n,r)}function du(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ho(t){return typeof t=="object"&&t!=null&&t.outlets}function qf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=GE(t,e,n);let a=$E(HE(o));return new jn(a,s,i)}function GE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=GE(s,e,n)}),new ne(t.segments,r)}var hu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&du(r[0]))throw new S(4003,!1);let i=r.find(ho);if(i&&i!==kE(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hu(n,e,r)}var Hi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function zP(t,e,n){if(t.isAbsolute)return new Hi(e,!0,0);if(!n)return new Hi(e,!1,NaN);if(n.parent===null)return new Hi(n,!0,0);let r=du(t.commands[0])?0:1,i=n.segments.length-1+r;return GP(n,i,t.numberOfDoubleDots)}function GP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Hi(r,!1,i-s)}function WP(t){return ho(t[0])?t[0].outlets:{[L]:t}}function WE(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return co(t,e,n);let r=KP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ne(t.segments.slice(0,r.pathIndex),{});return s.children[L]=new ne(t.segments.slice(r.pathIndex),t.children),co(s,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?Jf(t,e,n):r.match?co(t,0,i):Jf(t,e,n)}function co(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=WP(n),i={};if(Object.keys(r).some(s=>s!==L)&&t.children[L]&&t.numberOfChildren===1&&t.children[L].segments.length===0){let s=co(t.children[L],e,n);return new ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=WE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ne(t.segments,i)}}function KP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ho(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!xE(c,u,o))return s;r+=2}else{if(!xE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Jf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ho(s)){let c=QP(s.outlets);return new ne(r,c)}if(i===0&&du(n[0])){let c=t.segments[e];r.push(new Sr(c.path,NE(n[0]))),i++;continue}let o=ho(s)?s.outlets[L]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&du(a)?(r.push(new Sr(o,NE(a))),i+=2):(r.push(new Sr(o,{})),i++)}return new ne(r,{})}function QP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Jf(new ne([],{}),0,r))}),e}function NE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xE(t,e,n){return t==n.path&&$t(e,n.parameters)}var uo="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),yt=class{constructor(e,n){this.id=e,this.url=n}},fo=class extends yt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rr=class extends yt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(it||{}),Zf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zf||{}),Bn=class extends yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mr=class extends yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},po=class extends yt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fu=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xf=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends yt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tp=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},np=class extends yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ip=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sp=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ap=class{constructor(e){this.snapshot=e,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cp=class{constructor(e){this.snapshot=e,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var go=class{},mo=class{constructor(e){this.url=e}};var up=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _u,this.attachRef=null}},_u=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new up,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=lp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=lp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=dp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dp(e,this._root).map(n=>n.value)}};function lp(t,e){if(t===e.value)return e;for(let n of e.children){let r=lp(t,n);if(r)return r}return null}function dp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=dp(t,n);if(r.length)return r.unshift(e),r}return[]}var rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function $i(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gu=class extends pu{constructor(e,n){super(e),this.snapshot=n,Ep(this,e)}toString(){return this.snapshot.toString()}};function KE(t){let e=YP(t),n=new Me([new Sr("",{})]),r=new Me({}),i=new Me({}),s=new Me({}),o=new Me(""),a=new Wi(n,r,s,o,i,L,t,e.root);return a.snapshot=e.root,new gu(new rt(a,[]),e)}function YP(t){let e={},n={},r={},i="",s=new yo([],e,r,i,n,L,t,null,{});return new mu("",new rt(s,[]))}var Wi=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(U(u=>u[Io]))??F(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(e=>zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(e=>zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&YE(i)&&(r.resolve[Io]=i.title),r}var yo=class{get title(){return this.data?.[Io]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mu=class extends pu{constructor(e,n){super(n),this.url=e,Ep(this,n)}toString(){return QE(this._root)}};function Ep(t,e){e.value._routerState=t,e.children.forEach(n=>Ep(t,n))}function QE(t){let e=t.children.length>0?` { ${t.children.map(QE).join(", ")} } `:"";return`${t.value}${e}`}function zf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$t(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$t(e.params,n.params)||t.paramsSubject.next(n.params),TP(e.url,n.url)||t.urlSubject.next(n.url),$t(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hp(t,e){let n=$t(t.params,e.params)&&RP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||hp(t.parent,e.parent))}function YE(t){return typeof t.title=="string"||t.title===null}var JP=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=L,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=T(_u),this.location=T(ji),this.changeDetector=T(Tr),this.environmentInjector=T(ft),this.inputBinder=T(Dp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new fp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]});let t=e;return t})(),fp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Wi?this.route:e===_u?this.childContexts:this.parent.get(e,n)}},Dp=new A("");function ZP(t,e,n){let r=vo(t,e._root,n?n._root:void 0);return new gu(r,e)}function vo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=XP(t,e,n);return new rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vo(t,a)),o}}let r=eO(e.value),i=e.children.map(s=>vo(t,s));return new rt(r,i)}}function XP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return vo(t,r,i);return vo(t,r)})}function eO(t){return new Wi(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var JE="ngNavigationCancelingError";function ZE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XE(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function XE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[JE]=!0,n.cancellationCode=e,n}function tO(t){return eD(t)&&Gi(t.url)}function eD(t){return!!t&&t[JE]}var nO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=gI({type:e,selectors:[["ng-component"]],standalone:!0,features:[nE],decls:1,vars:0,template:function(i,s){i&1&&Af(0,"router-outlet")},dependencies:[JP],encapsulation:2});let t=e;return t})();function rO(t,e){return t.providers&&!t._injector&&(t._injector=Sf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cp(t){let e=t.children&&t.children.map(Cp),n=e?ie(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=nO),n}function Ht(t){return t.outlet||L}function iO(t,e){let n=t.filter(r=>Ht(r)===e);return n.push(...t.filter(r=>Ht(r)!==e)),n}function wo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sO=(t,e,n,r)=>U(i=>(new pp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),pp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=$i(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=$i(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new op(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(zf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=wo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},yu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qi=class{constructor(e,n){this.component=e,this.route=n}};function oO(t,e,n){let r=t._root,i=e?e._root:null;return oo(r,i,n,[r.value])}function aO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!nI(t)?t:e.get(t):r}function oo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=$i(e);return t.children.forEach(o=>{cO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>lo(a,n.getContext(o),i)),i}function cO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=uO(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?oo(t,e,a?a.children:null,r,i):oo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qi(a.outlet.component,o))}else o&&lo(e,a,i),i.canActivateChecks.push(new yu(r)),s.component?oo(t,null,a?a.children:null,r,i):oo(t,null,n,r,i);return i}function uO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ar(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ar(t.url,e.url)||!$t(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hp(t,e)||!$t(t.queryParams,e.queryParams);case"paramsChange":default:return!hp(t,e)}}function lo(t,e,n){let r=$i(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?lo(o,e.children.getContext(s),n):lo(o,null,n):lo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new qi(e.outlet.component,i)):n.canDeactivateChecks.push(new qi(null,i)):n.canDeactivateChecks.push(new qi(null,i))}function Eo(t){return typeof t=="function"}function lO(t){return typeof t=="boolean"}function dO(t){return t&&Eo(t.canLoad)}function hO(t){return t&&Eo(t.canActivate)}function fO(t){return t&&Eo(t.canActivateChild)}function pO(t){return t&&Eo(t.canDeactivate)}function gO(t){return t&&Eo(t.canMatch)}function tD(t){return t instanceof sn||t?.name==="EmptyError"}var ou=Symbol("INITIAL_VALUE");function Ki(){return Et(t=>rc(t.map(e=>e.pipe(on(1),ac(ou)))).pipe(U(e=>{for(let n of e)if(n!==!0){if(n===ou)return ou;if(n===!1||n instanceof jn)return n}return!0}),ut(e=>e!==ou),on(1)))}function mO(t,e){return Ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?F(ie(D({},n),{guardsResult:!0})):yO(o,r,i,t).pipe(Ee(a=>a&&lO(a)?vO(r,s,t,e):F(a)),U(a=>ie(D({},n),{guardsResult:a})))})}function yO(t,e,n,r){return he(t).pipe(Ee(i=>DO(i.component,i.route,n,e,r)),Ot(i=>i!==!0,!0))}function vO(t,e,n,r){return he(e).pipe(Ei(i=>wi(IO(i.route.parent,r),_O(i.route,r),EO(t,i.path,n),wO(t,i.route,n))),Ot(i=>i!==!0,!0))}function _O(t,e){return t!==null&&e&&e(new ap(t)),F(!0)}function IO(t,e){return t!==null&&e&&e(new sp(t)),F(!0)}function wO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(s=>ic(()=>{let o=wo(e)??n,a=Qi(s,o),c=hO(a)?a.canActivate(e,t):wr(o,()=>a(e,t));return $n(c).pipe(Ot())}));return F(i).pipe(Ki())}function EO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>aO(o)).filter(o=>o!==null).map(o=>ic(()=>{let a=o.guards.map(c=>{let u=wo(o.node)??n,l=Qi(c,u),d=fO(l)?l.canActivateChild(r,t):wr(u,()=>l(r,t));return $n(d).pipe(Ot())});return F(a).pipe(Ki())}));return F(s).pipe(Ki())}function DO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return F(!0);let o=s.map(a=>{let c=wo(e)??i,u=Qi(a,c),l=pO(u)?u.canDeactivate(t,e,n,r):wr(c,()=>u(t,e,n,r));return $n(l).pipe(Ot())});return F(o).pipe(Ki())}function CO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let s=i.map(o=>{let a=Qi(o,t),c=dO(a)?a.canLoad(e,n):wr(t,()=>a(e,n));return $n(c)});return F(s).pipe(Ki(),nD(r))}function nD(t){return La(De(e=>{if(Gi(e))throw ZE(t,e)}),U(e=>e===!0))}function TO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let s=i.map(o=>{let a=Qi(o,t),c=gO(a)?a.canMatch(e,n):wr(t,()=>a(e,n));return $n(c)});return F(s).pipe(Ki(),nD(r))}var _o=class{constructor(e){this.segmentGroup=e||null}},vu=class extends Error{constructor(e){super(),this.urlTree=e}};function Bi(t){return Ii(new _o(t))}function bO(t){return Ii(new S(4e3,!1))}function SO(t){return Ii(XE(!1,it.GuardRejected))}var gp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[L])return bO(e.redirectTo);i=i.children[L]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new vu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},mp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AO(t,e,n,r,i){let s=Tp(t,e,n);return s.matched?(r=rO(e,r),TO(r,e,n,i).pipe(U(o=>o===!0?s:D({},mp)))):F(s)}function Tp(t,e,n){if(e.path==="**")return RO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},mp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CP)(n,t,e);if(!i)return D({},mp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?D(D({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function RO(t){return{matched:!0,parameters:t.length>0?kE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PE(t,e,n,r){return n.length>0&&xO(t,n,r)?{segmentGroup:new ne(e,NO(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&PO(t,n,r)?{segmentGroup:new ne(t.segments,MO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function MO(t,e,n,r){let i={};for(let s of n)if(Iu(t,e,s)&&!r[Ht(s)]){let o=new ne([],{});i[Ht(s)]=o}return D(D({},r),i)}function NO(t,e){let n={};n[L]=e;for(let r of t)if(r.path===""&&Ht(r)!==L){let i=new ne([],{});n[Ht(r)]=i}return n}function xO(t,e,n){return n.some(r=>Iu(t,e,r)&&Ht(r)!==L)}function PO(t,e,n){return n.some(r=>Iu(t,e,r))}function Iu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function OO(t,e,n,r){return Ht(t)!==r&&(r===L||!Iu(e,n,t))?!1:Tp(e,t,n).matched}function kO(t,e,n){return e.length===0&&!t.children[n]}var yp=class{};function FO(t,e,n,r,i,s,o="emptyOnly"){return new vp(t,e,n,r,i,o,s).recognize()}var VO=31,vp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new gp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=PE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(U(n=>{let r=new yo([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},L,this.rootComponentType,null,{}),i=new rt(r,n),s=new mu("",i),o=HP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,L).pipe(An(r=>{if(r instanceof vu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _o?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=wp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(U(s=>s instanceof rt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return he(i).pipe(Ei(s=>{let o=r.children[s],a=iO(n,s);return this.processSegmentGroup(e,a,o,s)}),oc((s,o)=>(s.push(...o),s)),Rn(null),zd(),Ee(s=>{if(s===null)return Bi(r);let o=rD(s);return LO(o),F(o)}))}processSegment(e,n,r,i,s,o){return he(n).pipe(Ei(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(An(c=>{if(c instanceof _o)return F(null);throw c}))),Ot(a=>!!a),An(a=>{if(tD(a))return kO(r,i,s)?F(new yp):Bi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return OO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Bi(i):Bi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Tp(n,i,s);if(!a)return Bi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ee(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=AO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Et(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Et(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new yo(l,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,jO(r),Ht(r),r.component??r._loadedComponent??null,r,BO(r)),{segmentGroup:m,slicedSegments:v}=PE(n,l,d,c);if(v.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(U(C=>C===null?null:new rt(p,C)));if(c.length===0&&v.length===0)return F(new rt(p,[]));let _=Ht(r)===s;return this.processSegment(u,c,m,v,_?L:s,!0).pipe(U(C=>new rt(p,C instanceof rt?[C]:[])))}))):Bi(n)))}getChildConfig(e,n,r){return n.children?F({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?F({routes:n._loadedRoutes,injector:n._loadedInjector}):CO(e,n,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(e,n).pipe(De(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):SO(n))):F({routes:[],injector:e})}};function LO(t){t.sort((e,n)=>e.value.outlet===L?-1:n.value.outlet===L?1:e.value.outlet.localeCompare(n.value.outlet))}function UO(t){let e=t.value.routeConfig;return e&&e.path===""}function rD(t){let e=[],n=new Set;for(let r of t){if(!UO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rD(r.children);e.push(new rt(r.value,i))}return e.filter(r=>!n.has(r))}function jO(t){return t.data||{}}function BO(t){return t.resolve||{}}function $O(t,e,n,r,i,s){return Ee(o=>FO(t,e,n,r,o.extractedUrl,i,s).pipe(U(({state:a,tree:c})=>ie(D({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function HO(t,e){return Ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of iD(c))o.add(u);let a=0;return he(o).pipe(Ei(c=>s.has(c)?qO(c,r,t,e):(c.data=wp(c,c.parent,t).resolve,F(void 0))),De(()=>a++),Di(1),Ee(c=>a===o.size?F(n):tt))})}function iD(t){let e=t.children.map(n=>iD(n)).flat();return[t,...e]}function qO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!YE(i)&&(s[Io]=i.title),zO(s,t,e,r).pipe(U(o=>(t._resolvedData=o,t.data=wp(t,t.parent,n).resolve,null)))}function zO(t,e,n,r){let i=Kf(t);if(i.length===0)return F({});let s={};return he(i).pipe(Ee(o=>GO(t[o],e,n,r).pipe(Ot(),De(a=>{s[o]=a}))),Di(1),qd(s),An(o=>tD(o)?tt:Ii(o)))}function GO(t,e,n,r){let i=wo(e)??r,s=Qi(t,i),o=s.resolve?s.resolve(e,n):wr(i,()=>s(e,n));return $n(o)}function Gf(t){return Et(e=>{let n=t(e);return n?he(n).pipe(U(()=>e)):F(e)})}var sD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===L);return i}getResolvedTitleForRoute(r){return r.data[Io]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>T(WO),providedIn:"root"});let t=e;return t})(),WO=(()=>{let e=class e extends sD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(B(AE))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bp=new A("",{providedIn:"root",factory:()=>({})}),Sp=new A(""),KO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(Mf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return F(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=$n(r.loadComponent()).pipe(U(oD),De(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Os(()=>{this.componentLoaders.delete(r)})),s=new mi(i,()=>new qe).pipe(gi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return F({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=QO(i,this.compiler,r,this.onLoadEndListener).pipe(Os(()=>{this.childrenLoaders.delete(i)})),a=new mi(o,()=>new qe).pipe(gi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QO(t,e,n,r){return $n(t.loadChildren()).pipe(U(oD),Ee(i=>i instanceof Gs||Array.isArray(i)?F(i):he(e.compileModuleAsync(i))),U(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Sp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Cp),injector:s}}))}function YO(t){return t&&typeof t=="object"&&"default"in t}function oD(t){return YO(t)?t.default:t}var Ap=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>T(JO),providedIn:"root"});let t=e;return t})(),JO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZO=new A("");var XO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=T(KO),this.environmentInjector=T(ft),this.urlSerializer=T(Ip),this.rootContexts=T(_u),this.location=T(to),this.inputBindingEnabled=T(Dp,{optional:!0})!==null,this.titleStrategy=T(sD),this.options=T(bp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=T(Ap),this.createViewTransition=T(ZO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let r=s=>this.events.next(new rp(s)),i=s=>this.events.next(new ip(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ie(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:uo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),U(o=>ie(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Et(o=>{let a=!1,c=!1;return F(o).pipe(Et(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),tt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ie(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Mr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Zf.IgnoredSameUrlNavigation)),u.resolve(null),tt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return F(u).pipe(Et(h=>{let p=this.transitions?.getValue();return this.events.next(new fo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?tt:Promise.resolve(h)}),$O(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),De(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ie(D({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new fu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:v,extras:_}=u,C=new fo(h,this.urlSerializer.serialize(p),m,v);this.events.next(C);let Q=KE(this.rootComponentType).snapshot;return this.currentTransition=o=ie(D({},u),{targetSnapshot:Q,urlAfterRedirects:p,extras:ie(D({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,F(o)}else{let h="";return this.events.next(new Mr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Zf.IgnoredByUrlHandlingStrategy)),u.resolve(null),tt}}),De(u=>{let l=new Xf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),U(u=>(this.currentTransition=o=ie(D({},u),{guards:oO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),mO(this.environmentInjector,u=>this.events.next(u)),De(u=>{if(o.guardsResult=u.guardsResult,Gi(u.guardsResult))throw ZE(this.urlSerializer,u.guardsResult);let l=new ep(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ut(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",it.GuardRejected),!1)),Gf(u=>{if(u.guards.canActivateChecks.length)return F(u).pipe(De(l=>{let d=new tp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Et(l=>{let d=!1;return F(l).pipe(HO(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",it.NoDataFromResolver)}}))}),De(l=>{let d=new np(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Gf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(De(p=>{d.component=p}),U(()=>{})));for(let p of d.children)h.push(...l(p));return h};return rc(l(u.targetSnapshot.root)).pipe(Rn(null),on(1))}),Gf(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?he(d).pipe(U(()=>o)):F(o)}),U(u=>{let l=ZP(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ie(D({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),De(()=>{this.events.next(new go)}),sO(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),on(1),De({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Gd(this.transitionAbortSubject.pipe(De(u=>{throw u}))),Os(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),An(u=>{if(c=!0,eD(u))this.events.next(new Bn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),tO(u)?this.events.next(new mo(u.url)):o.resolve(!1);else{this.events.next(new po(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return tt}))}))}cancelNavigationTransition(r,i,s){let o=new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ek(t){return t!==uo}var tk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>T(nk),providedIn:"root"});let t=e;return t})(),_p=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nk=(()=>{let e=class e extends _p{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Js(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>T(rk),providedIn:"root"});let t=e;return t})(),rk=(()=>{let e=class e extends aD{constructor(){super(...arguments),this.location=T(to),this.urlSerializer=T(Ip),this.options=T(bp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=T(Ap),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof fo)this.stateMemento=this.createStateMemento();else if(r instanceof Mr)this.rawUrlTree=i.initialUrl;else if(r instanceof fu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof go?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Bn&&(r.code===it.GuardRejected||r.code===it.NoDataFromResolver)?this.restoreHistory(i):r instanceof po?this.restoreHistory(i,!0):r instanceof Rr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Js(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ao=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ao||{});function ik(t,e){t.events.pipe(ut(n=>n instanceof Rr||n instanceof Bn||n instanceof po||n instanceof Mr),U(n=>n instanceof Rr||n instanceof Mr?ao.COMPLETE:(n instanceof Bn?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?ao.REDIRECTING:ao.FAILED),ut(n=>n!==ao.REDIRECTING),on(1)).subscribe(()=>{e()})}function sk(t){throw t}var ok={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ak={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cD=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=T(Zc),this.stateManager=T(aD),this.options=T(bp,{optional:!0})||{},this.pendingTasks=T(Yc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=T(XO),this.urlSerializer=T(Ip),this.location=T(to),this.urlHandlingStrategy=T(Ap),this._events=new qe,this.errorHandler=this.options.errorHandler||sk,this.navigated=!1,this.routeReuseStrategy=T(tk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=T(Sp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!T(Dp,{optional:!0}),this.eventsSubscription=new ye,this.isNgZoneEnabled=T(se)instanceof se&&se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Bn&&i.code!==it.Redirect&&i.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Rr)this.navigated=!0;else if(i instanceof mo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ek(s.source)};this.scheduleNavigation(a,uo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}uk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=D({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Cp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=qE(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return zE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Gi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,uo,null,i)}navigate(r,i={skipLocationChange:!1}){return ck(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=D({},ok):i===!1?s=D({},ak):s=i,Gi(r))return RE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return RE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return ik(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ck(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function uk(t){return!(t instanceof go)&&!(t instanceof mo)}var lk=new A("");function e9(t,...e){return Lc([{provide:Sp,multi:!0,useValue:t},[],{provide:Wi,useFactory:dk,deps:[cD]},{provide:Rf,multi:!0,useFactory:hk},e.map(n=>n.\u0275providers)])}function dk(t){return t.routerState.root}function hk(){let t=T(gt);return e=>{let n=t.get(eo);if(e!==n.components[0])return;let r=t.get(cD),i=t.get(fk);t.get(pk)===1&&r.initialNavigation(),t.get(gk,null,j.Optional)?.setUpPreloading(),t.get(lk,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fk=new A("",{factory:()=>new qe}),pk=new A("",{providedIn:"root",factory:()=>1});var gk=new A("");var lD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Mp;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Mp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yk=function(t){let e=lD(t);return dD.encodeByteArray(e,!0)},Do=function(t){return yk(t).replace(/\./g,"")},xp=function(t){try{return dD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _k=()=>vk().__FIREBASE_DEFAULTS__,Ik=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xp(t[1]);return e&&JSON.parse(e)},Eu=()=>{try{return _k()||Ik()||wk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pp=t=>{var e,n;return(n=(e=Eu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hD=t=>{let e=Pp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Op=()=>{var t;return(t=Eu())===null||t===void 0?void 0:t.config},kp=t=>{var e;return(e=Eu())===null||e===void 0?void 0:e[`_${t}`]};var wu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function fD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Do(JSON.stringify(n)),Do(JSON.stringify(o)),""].join(".")}function fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function Ek(){var t;let e=(t=Eu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yD(){let t=fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vD(){return!Ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Du(){try{return typeof indexedDB=="object"}catch{return!1}}function _D(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Dk="FirebaseError",st=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pn.prototype.create)}},pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ck(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new st(i,a,r)}};function Ck(t,e){return t.replace(Tk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Tk=/\{\$([^}]+)}/g;function ID(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(uD(s)&&uD(o)){if(!Nr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uD(t){return t!==null&&typeof t=="object"}function Co(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yi(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ji(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wD(t,e){let n=new Np(t,e);return n.subscribe.bind(n)}var Np=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rp),i.error===void 0&&(i.error=Rp),i.complete===void 0&&(i.complete=Rp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rp(){}var r9=4*60*60*1e3;function Ue(t){return t&&t._delegate?t._delegate:t}var vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var xr="[DEFAULT]";var Fp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new wu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ak(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sk(t){return t===xr?void 0:t}function Ak(t){return t.instantiationMode==="EAGER"}var Cu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Rk=[],z=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(z||{}),Mk={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Nk=z.INFO,xk={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Pk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=xk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hn=class{constructor(e){this.name=e,this._logLevel=Nk,this._logHandler=Pk,this._userLogHandler=null,Rk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...e),this._logHandler(this,z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...e),this._logHandler(this,z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,z.INFO,...e),this._logHandler(this,z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,z.WARN,...e),this._logHandler(this,z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...e),this._logHandler(this,z.ERROR,...e)}};var Ok=(t,e)=>e.some(n=>t instanceof n),ED,DD;function kk(){return ED||(ED=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fk(){return DD||(DD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CD=new WeakMap,Lp=new WeakMap,TD=new WeakMap,Vp=new WeakMap,jp=new WeakMap;function Vk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CD.set(n,t)}).catch(()=>{}),jp.set(e,t),e}function Lk(t){if(Lp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lp.set(t,e)}var Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bD(t){Up=t(Up)}function Uk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Tu(this),e,...n);return TD.set(r,e.sort?e.sort():[e]),qt(r)}:Fk().includes(t)?function(...e){return t.apply(Tu(this),e),qt(CD.get(this))}:function(...e){return qt(t.apply(Tu(this),e))}}function jk(t){return typeof t=="function"?Uk(t):(t instanceof IDBTransaction&&Lk(t),Ok(t,kk())?new Proxy(t,Up):t)}function qt(t){if(t instanceof IDBRequest)return Vk(t);if(Vp.has(t))return Vp.get(t);let e=jk(t);return e!==t&&(Vp.set(t,e),jp.set(e,t)),e}var Tu=t=>jp.get(t);function AD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=qt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qt(o.result),c.oldVersion,c.newVersion,qt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Bk=["get","getKey","getAll","getAllKeys","count"],$k=["put","add","delete","clear"],Bp=new Map;function SD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=$k.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Bk.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Bp.set(e,s),s}bD(t=>ie(D({},t),{get:(e,n,r)=>SD(e,n)||t.get(e,n,r),has:(e,n)=>!!SD(e,n)||t.has(e,n)}));var Hp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Hk(t){let e=t.getComponent();return e?.type==="VERSION"}var qp="@firebase/app",RD="0.10.1";var Pr=new Hn("@firebase/app"),qk="@firebase/app-compat",zk="@firebase/analytics-compat",Gk="@firebase/analytics",Wk="@firebase/app-check-compat",Kk="@firebase/app-check",Qk="@firebase/auth",Yk="@firebase/auth-compat",Jk="@firebase/database",Zk="@firebase/database-compat",Xk="@firebase/functions",e1="@firebase/functions-compat",t1="@firebase/installations",n1="@firebase/installations-compat",r1="@firebase/messaging",i1="@firebase/messaging-compat",s1="@firebase/performance",o1="@firebase/performance-compat",a1="@firebase/remote-config",c1="@firebase/remote-config-compat",u1="@firebase/storage",l1="@firebase/storage-compat",d1="@firebase/firestore",h1="@firebase/firestore-compat",f1="firebase",p1="10.11.0";var zp="[DEFAULT]",g1={[qp]:"fire-core",[qk]:"fire-core-compat",[Gk]:"fire-analytics",[zk]:"fire-analytics-compat",[Kk]:"fire-app-check",[Wk]:"fire-app-check-compat",[Qk]:"fire-auth",[Yk]:"fire-auth-compat",[Jk]:"fire-rtdb",[Zk]:"fire-rtdb-compat",[Xk]:"fire-fn",[e1]:"fire-fn-compat",[t1]:"fire-iid",[n1]:"fire-iid-compat",[r1]:"fire-fcm",[i1]:"fire-fcm-compat",[s1]:"fire-perf",[o1]:"fire-perf-compat",[a1]:"fire-rc",[c1]:"fire-rc-compat",[u1]:"fire-gcs",[l1]:"fire-gcs-compat",[d1]:"fire-fst",[h1]:"fire-fst-compat","fire-js":"fire-js",[f1]:"fire-js-all"};var To=new Map,m1=new Map,Gp=new Map;function MD(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zn(t){let e=t.name;if(Gp.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(let n of To.values())MD(n,t);for(let n of m1.values())MD(n,t);return!0}function So(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function St(t){return t.settings!==void 0}var y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qn=new pn("app","Firebase",y1);var Wp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}};var Gn=p1;function OD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qn.create("bad-app-name",{appName:String(i)});if(n||(n=Op()),!n)throw qn.create("no-options");let s=To.get(i);if(s){if(Nr(n,s.options)&&Nr(r,s.config))return s;throw qn.create("duplicate-app",{appName:i})}let o=new Cu(i);for(let c of Gp.values())o.addComponent(c);let a=new Wp(n,r,o);return To.set(i,a),a}function Zi(t=zp){let e=To.get(t);if(!e&&t===zp&&Op())return OD();if(!e)throw qn.create("no-app",{appName:t});return e}function bu(){return Array.from(To.values())}function Ce(t,e,n){var r;let i=(r=g1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}zn(new vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var v1="firebase-heartbeat-database",_1=1,bo="firebase-heartbeat-store",$p=null;function kD(){return $p||($p=AD(v1,_1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bo)}catch(n){console.warn(n)}}}}).catch(t=>{throw qn.create("idb-open",{originalErrorMessage:t.message})})),$p}function I1(t){return f(this,null,function*(){try{let n=(yield kD()).transaction(bo),r=yield n.objectStore(bo).get(FD(t));return yield n.done,r}catch(e){if(e instanceof st)Pr.warn(e.message);else{let n=qn.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(n.message)}}})}function ND(t,e){return f(this,null,function*(){try{let r=(yield kD()).transaction(bo,"readwrite");yield r.objectStore(bo).put(e,FD(t)),yield r.done}catch(n){if(n instanceof st)Pr.warn(n.message);else{let r=qn.create("idb-set",{originalErrorMessage:n?.message});Pr.warn(r.message)}}})}function FD(t){return`${t.name}!${t.options.appId}`}var w1=1024,E1=30*24*60*60*1e3,Kp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Qp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=E1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=xD(),{heartbeatsToSend:r,unsentEntries:i}=D1(this._heartbeatsCache.heartbeats),s=Do(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function xD(){return new Date().toISOString().substring(0,10)}function D1(t,e=w1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Qp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Du()?_D().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield I1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ND(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ND(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PD(t){return Do(JSON.stringify({version:2,heartbeats:t})).length}function C1(t){zn(new vt("platform-logger",e=>new Hp(e),"PRIVATE")),zn(new vt("heartbeat",e=>new Kp(e),"PRIVATE")),Ce(qp,RD,t),Ce(qp,RD,"esm2017"),Ce("fire-js","")}C1("");var T1="firebase",b1="10.11.0";Ce(T1,b1,"app");var kr=new un("ANGULARFIRE2_VERSION");function Au(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ao=(t,e)=>{let n=e?[e]:bu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},es=class{constructor(){return Ao(S1)}},S1="app-check";function Xi(){}var Su=class{zone;delegate;constructor(e,n=Ud){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Yp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xi,{},Xi,Xi)),n.pipe(De({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ts=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Su(Zone.current)),this.insideAngular=n.run(()=>new Su(Zone.current,Ld)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(se))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ru(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function A1(t){return Ru().ngZone.runOutsideAngular(()=>t())}function Or(t){return Ru().ngZone.run(()=>t())}function R1(t){return M1(Ru())(t)}function M1(t){return function(n){return n=n.lift(new Yp(t.ngZone)),n.pipe(Sn(t.outsideAngular),bn(t.insideAngular))}}var N1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Or(()=>t.apply(void 0,r))},_t=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Or(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xi,{},Xi,Xi))),r[s]=N1(r[s],n));let i=A1(()=>t.apply(this,r));if(!e)if(i instanceof H){let s=Ru();return i.pipe(Sn(s.outsideAngular),bn(s.insideAngular))}else return Or(()=>i);return i instanceof H?i.pipe(R1):i instanceof Promise?Or(()=>new Promise((s,o)=>i.then(a=>Or(()=>s(a)),a=>Or(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Or(()=>i)};var gn=class{constructor(e){return e}},Fr=class{constructor(){return bu()}};function x1(t){return t&&t.length===1?t[0]:new gn(Zi())}var Jp=new A("angularfire2._apps"),P1={provide:gn,useFactory:x1,deps:[[new We,Jp]]},O1={provide:Fr,deps:[[new We,Jp]]};function k1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gn(r)}}var F1=(()=>{class t{constructor(n){Ce("angularfire",kr.full,"core"),Ce("angularfire",kr.full,"app"),Ce("angular",rE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(B(Vn))};static \u0275mod=Xe({type:t});static \u0275inj=Ze({providers:[P1,O1]})}return t})();function B9(t,...e){return{ngModule:F1,providers:[{provide:Jp,useFactory:k1(t),multi:!0,deps:[se,gt,ts,...e]}]}}function XD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eC=XD,tC=new pn("auth","Firebase",XD());var ku=new Hn("@firebase/auth");function V1(t,...e){ku.logLevel<=z.WARN&&ku.warn(`Auth (${Gn}): ${t}`,...e)}function Nu(t,...e){ku.logLevel<=z.ERROR&&ku.error(`Auth (${Gn}): ${t}`,...e)}function Gt(t,...e){throw Ig(t,...e)}function Vr(t,...e){return Ig(t,...e)}function nC(t,e,n){let r=Object.assign(Object.assign({},eC()),{[e]:n});return new pn("auth","Firebase",r).create(e,{appName:t.name})}function vn(t){return nC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ig(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tC.create(t,...e)}function R(t,e,...n){if(!t)throw Ig(e,...n)}function mn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Nu(e),new Error(e)}function Kn(t,e){t||mn(e)}function tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L1(){return VD()==="http:"||VD()==="https:"}function VD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function U1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L1()||gD()||"connection"in navigator)?navigator.onLine:!0}function j1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Lr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=pD()||mD()}get(){return U1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wg(t,e){Kn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var B1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $1=new Lr(3e4,6e4);function Qn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yn(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return rC(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Co(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Fu.fetch()(iC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function rC(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},B1),e);try{let i=new ng(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Mu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Mu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nC(t,l,u);Gt(t,l)}}catch(i){if(i instanceof st)throw i;Gt(t,"network-request-failed",{message:String(i)})}})}function Fo(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield Yn(t,e,n,r,i);return"mfaPendingCredential"in u&&Gt(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function iC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?wg(t.config,i):`${t.config.apiScheme}://${i}`}function H1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ng=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),$1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Mu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Vr(t,e,r);return i.customData._tokenResponse=n,i}function LD(t){return t!==void 0&&t.enterprise!==void 0}var rg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function q1(t,e){return f(this,null,function*(){return Yn(t,"GET","/v2/recaptchaConfig",Qn(t,e))})}function z1(t,e){return f(this,null,function*(){return Yn(t,"POST","/v1/accounts:delete",e)})}function sC(t,e){return f(this,null,function*(){return Yn(t,"POST","/v1/accounts:lookup",e)})}function Ro(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Eg(t,e=!1){return f(this,null,function*(){let n=Ue(t),r=yield n.getIdToken(e),i=Dg(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ro(Zp(i.auth_time)),issuedAtTime:Ro(Zp(i.iat)),expirationTime:Ro(Zp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Zp(t){return Number(t)*1e3}function Dg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{let i=xp(n);return i?JSON.parse(i):(Nu("Failed to decode base64 JWT payload"),null)}catch(i){return Nu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UD(t){let e=Dg(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function No(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof st&&G1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function G1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ig=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vu(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield No(t,sC(n,{idToken:r}));R(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oC(s.providerUserInfo):[],a=W1(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Cg(t){return f(this,null,function*(){let e=Ue(t);yield Vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function W1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oC(t){return t.map(e=>{var{providerId:n}=e,r=jd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function K1(t,e){return f(this,null,function*(){let n=yield rC(t,{},()=>f(this,null,function*(){let r=Co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Q1(t,e){return f(this,null,function*(){return Yn(t,"POST","/v2/accounts:revokeToken",Qn(t,e))})}var Mo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");let n=UD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield K1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(R(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(R(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return mn("not implemented")}};function Wn(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ns=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ig(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield No(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Eg(this,e)}reload(){return Cg(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(St(this.auth.app))return Promise.reject(vn(this.auth));let e=yield this.getIdToken();return yield No(this,z1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Q=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:$,emailVerified:ae,isAnonymous:Re,providerData:te,stsTokenManager:Fe}=n;R($&&Fe,e,"internal-error");let Pt=Mo.fromJSON(this.name,Fe);R(typeof $=="string",e,"internal-error"),Wn(d,e.name),Wn(h,e.name),R(typeof ae=="boolean",e,"internal-error"),R(typeof Re=="boolean",e,"internal-error"),Wn(p,e.name),Wn(m,e.name),Wn(v,e.name),Wn(_,e.name),Wn(C,e.name),Wn(Q,e.name);let sr=new t({uid:$,auth:e,email:h,emailVerified:ae,displayName:d,isAnonymous:Re,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:Pt,createdAt:C,lastLoginAt:Q});return te&&Array.isArray(te)&&(sr.providerData=te.map(ui=>Object.assign({},ui))),_&&(sr._redirectEventId=_),sr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Mo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];R(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?oC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Mo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var jD=new Map;function yn(t){Kn(t instanceof Function,"Expected a class definition");let e=jD.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jD.set(t,e),e)}var Y1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),sg=Y1;function xu(t,e,n){return`firebase:${t}:${e}:${n}`}var Lu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=xu(this.userKey,i.apiKey,s),this.fullPersistenceKey=xu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(yn(sg),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||yn(sg),o=xu(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=ns._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function BD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dC(e))return"Blackberry";if(hC(e))return"Webos";if(Tg(e))return"Safari";if((e.includes("chrome/")||cC(e))&&!e.includes("edge/"))return"Chrome";if(lC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aC(t=fe()){return/firefox\//i.test(t)}function Tg(t=fe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cC(t=fe()){return/crios\//i.test(t)}function uC(t=fe()){return/iemobile/i.test(t)}function lC(t=fe()){return/android/i.test(t)}function dC(t=fe()){return/blackberry/i.test(t)}function hC(t=fe()){return/webos/i.test(t)}function Gu(t=fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function J1(t=fe()){var e;return Gu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z1(){return yD()&&document.documentMode===10}function fC(t=fe()){return Gu(t)||lC(t)||hC(t)||dC(t)||/windows phone/i.test(t)||uC(t)}function X1(){try{return!!(window&&window!==window.top)}catch{return!1}}function pC(t,e=[]){let n;switch(t){case"Browser":n=BD(fe());break;case"Worker":n=`${BD(fe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gn}/${r}`}var og=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function eF(n){return f(this,arguments,function*(t,e={}){return Yn(t,"GET","/v2/passwordPolicy",Qn(t,e))})}var tF=6,ag=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var cg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uu(this),this.idTokenSubscription=new Uu(this),this.beforeStateQueue=new og(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Lu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield sC(this,{idToken:e}),r=yield ns._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(St(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield Vu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=j1()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(St(this.app))return Promise.reject(vn(this));let n=e?Ue(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return St(this.app)?Promise.reject(vn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return St(this.app)?Promise.reject(vn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(yn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield eF(this),n=new ag(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Q1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&yn(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=yield Lu.create(this,[yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&V1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jr(t){return Ue(t)}var Uu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wD(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Wu={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nF(t){Wu=t}function gC(t){return Wu.loadJS(t)}function rF(){return Wu.recaptchaEnterpriseScript}function iF(){return Wu.gapiScript}function mC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var sF="recaptcha-enterprise",oF="NO_RECAPTCHA",ug=class{constructor(e){this.type=sF,this.auth=jr(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){q1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new rg(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;LD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(oF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&LD(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=rF();c.length!==0&&(c+=a),gC(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function $D(t,e,n,r=!1){return f(this,null,function*(){let i=new ug(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function lg(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield $D(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield $D(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function bg(t,e){let n=So(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Nr(s,e??{}))return i;Gt(i,"already-initialized")}return n.initialize({options:e})}function aF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Sg(t,e,n){let r=jr(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=yC(e),{host:o,port:a}=cF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uF()}function yC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cF(t){let e=yC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:HD(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:HD(o)}}}function HD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function uF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Po=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mn("not implemented")}_getIdTokenResponse(e){return mn("not implemented")}_linkToIdToken(e,n){return mn("not implemented")}_getReauthenticationResolver(e){return mn("not implemented")}};function lF(t,e){return f(this,null,function*(){return Yn(t,"POST","/v1/accounts:signUp",e)})}function dF(t,e){return f(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithPassword",Qn(t,e))})}function hF(t,e){return f(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))})}function fF(t,e){return f(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",Qn(t,e))})}var Oo=class t extends Po{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,n,"signInWithPassword",dF);case"emailLink":return hF(e,{email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,r,"signUpPassword",lF);case"emailLink":return fF(e,{idToken:n,email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Xp(t,e){return f(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithIdp",Qn(t,e))})}function pF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gF(t){let e=Yi(Ji(t)).link,n=e?Yi(Ji(e)).deep_link_id:null,r=Yi(Ji(t)).deep_link_id;return(r?Yi(Ji(r)).link:null)||r||n||e||t}var ju=class t{constructor(e){var n,r,i,s,o,a;let c=Yi(Ji(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=pF((i=c.mode)!==null&&i!==void 0?i:null);R(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=gF(e);try{return new t(n)}catch{return null}}};var vC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Oo._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ju.parseLink(r);return R(i,"argument-error"),Oo._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Bu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var dg=class extends Bu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function mF(t,e){return f(this,null,function*(){return Fo(t,"POST","/v1/accounts:signUp",Qn(t,e))})}var rs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield ns._fromIdTokenResponse(e,r,i),o=qD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function qD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var hg=class t extends st{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function _C(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hg._fromErrorAndOperation(t,s,e,r):s})}function yF(t,e,n=!1){return f(this,null,function*(){let r=yield No(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return rs._forOperation(t,"link",r)})}function vF(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(St(r.app))return Promise.reject(vn(r));let i="reauthenticate";try{let s=yield No(t,_C(r,i,e,t),n);R(s.idToken,r,"internal-error");let o=Dg(s.idToken);R(o,r,"internal-error");let{sub:a}=o;return R(t.uid===a,r,"user-mismatch"),rs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Gt(r,"user-mismatch"),s}})}function IC(t,e,n=!1){return f(this,null,function*(){if(St(t.app))return Promise.reject(vn(t));let r="signIn",i=yield _C(t,r,e),s=yield rs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Ag(t,e){return f(this,null,function*(){return IC(jr(t),e)})}function wC(t){return f(this,null,function*(){let e=jr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Rg(t,e,n){return f(this,null,function*(){if(St(t.app))return Promise.reject(vn(t));let r=jr(t),o=yield lg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wC(t),c}),a=yield rs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Mg(t,e,n){return St(t.app)?Promise.reject(vn(t)):Ag(Ue(t),vC.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&wC(t),r}))}function Ng(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function xg(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}var $u="__sak";var Hu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function _F(){let t=fe();return Tg(t)||Gu(t)}var IF=1e3,wF=10,EF=(()=>{class t extends Hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_F()&&X1(),this.fallbackToPolling=fC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Z1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,wF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},IF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Cn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Cn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Cn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),EC=EF;var DF=(()=>{class t extends Hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Pg=DF;function CF(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var TF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield CF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function DC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var fg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=DC("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function zt(){return window}function bF(t){zt().location.href=t}function CC(){return typeof zt().WorkerGlobalScope<"u"&&typeof zt().importScripts=="function"}function SF(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function AF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RF(){return CC()?self:null}var TC="firebaseLocalStorageDb",MF=1,qu="firebaseLocalStorage",bC="fbase_key",Ur=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ku(t,e){return t.transaction([qu],e?"readwrite":"readonly").objectStore(qu)}function NF(){let t=indexedDB.deleteDatabase(TC);return new Ur(t).toPromise()}function pg(){let t=indexedDB.open(TC,MF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(qu,{keyPath:bC})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(qu)?e(r):(r.close(),yield NF(),e(yield pg()))}))})}function zD(t,e,n){return f(this,null,function*(){let r=Ku(t,!0).put({[bC]:e,value:n});return new Ur(r).toPromise()})}function xF(t,e){return f(this,null,function*(){let n=Ku(t,!1).get(e),r=yield new Ur(n).toPromise();return r===void 0?null:r.value})}function GD(t,e){let n=Ku(t,!0).delete(e);return new Ur(n).toPromise()}var PF=800,OF=3,kF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield pg(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>OF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return CC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=TF._getInstance(RF()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield SF(),!this.activeServiceWorker)return;this.sender=new fg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||AF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield pg();return yield zD(n,$u,"1"),yield GD(n,$u),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>zD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>xF(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>GD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ku(s,!1).getAll();return new Ur(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),PF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),SC=kF;var Q9=mC("rcb"),Y9=new Lr(3e4,6e4);function FF(t,e){return e?yn(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ko=class extends Po{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xp(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function VF(t){return IC(t.auth,new ko(t),t.bypassAuthState)}function LF(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),vF(n,new ko(t),t.bypassAuthState)}function UF(t){return f(this,null,function*(){let{auth:e,user:n}=t;return R(n,e,"internal-error"),yF(n,new ko(t),t.bypassAuthState)})}var gg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VF;case"linkViaPopup":case"linkViaRedirect":return UF;case"reauthViaPopup":case"reauthViaRedirect":return LF;default:Gt(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var J9=new Lr(2e3,1e4);var jF="pendingRedirect",Pu=new Map,mg=class t extends gg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Pu.get(this.auth._key());if(!e){try{let r=(yield BF(this.resolver,this.auth))?yield Cn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Cn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Cn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function BF(t,e){return f(this,null,function*(){let n=qF(e),r=HF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function $F(t,e){Pu.set(t._key(),e)}function HF(t){return yn(t._redirectPersistence)}function qF(t){return xu(jF,t.config.apiKey,t.name)}function zF(t,e,n=!1){return f(this,null,function*(){if(St(t.app))return Promise.reject(vn(t));let r=jr(t),i=FF(r,e),o=yield new mg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var GF=10*60*1e3,yg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GF&&this.cachedEventUids.clear(),this.cachedEventUids.has(WD(e))}saveEventToCache(e){this.cachedEventUids.add(WD(e)),this.lastProcessedEventTime=Date.now()}};function WD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function WF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(t);default:return!1}}function KF(n){return f(this,arguments,function*(t,e={}){return Yn(t,"GET","/v1/projects",e)})}var QF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YF=/^https?/;function JF(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield KF(t);for(let n of e)try{if(ZF(n))return}catch{}Gt(t,"unauthorized-domain")})}function ZF(t){let e=tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YF.test(n))return!1;if(QF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var XF=new Lr(3e4,6e4);function KD(){let t=zt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eV(t){return new Promise((e,n)=>{var r,i,s;function o(){KD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KD(),n(Vr(t,"network-request-failed"))},timeout:XF.get()})}if(!((i=(r=zt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zt().gapi)===null||s===void 0)&&s.load)o();else{let a=mC("iframefcb");return zt()[a]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},gC(`${iF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ou=null,e})}var Ou=null;function tV(t){return Ou=Ou||eV(t),Ou}var nV=new Lr(5e3,15e3),rV="__/auth/iframe",iV="emulator/auth/iframe",sV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aV(t){let e=t.config;R(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?wg(e,iV):`https://${t.config.authDomain}/${rV}`,r={apiKey:e.apiKey,appName:t.name,v:Gn},i=oV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Co(r).slice(1)}`}function cV(t){return f(this,null,function*(){let e=yield tV(t),n=zt().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:aV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sV,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Vr(t,"network-request-failed"),a=zt().setTimeout(()=>{s(o)},nV.get());function c(){zt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var uV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lV=500,dV=600,hV="_blank",fV="http://localhost",zu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function pV(t,e,n,r=lV,i=dV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},uV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=fe().toLowerCase();n&&(a=cC(u)?hV:n),aC(u)&&(e=e||fV,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(J1(u)&&a!=="_self")return gV(e||"",a),new zu(null);let d=window.open(e||"",a,l);R(d,t,"popup-blocked");try{d.focus()}catch{}return new zu(d)}function gV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var mV="__/auth/handler",yV="emulator/auth/handler",vV=encodeURIComponent("fac");function QD(t,e,n,r,i,s){return f(this,null,function*(){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(e instanceof Bu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ID(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof dg){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${vV}=${encodeURIComponent(c)}`:"";return`${_V(t)}?${Co(a).slice(1)}${u}`})}function _V({config:t}){return t.emulator?wg(t,yV):`https://${t.authDomain}/${mV}`}var eg="webStorageSupport",vg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pg,this._completeRedirectFn=zF,this._overrideRedirectResult=$F}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Kn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield QD(e,n,r,tg(),i);return pV(e,o,DC())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield QD(e,n,r,tg(),i);return bF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield cV(e),r=new yg(e);return n.register("authEvent",i=>(R(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eg,{type:eg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[eg];o!==void 0&&n(!!o),Gt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fC()||Tg()||Gu()}},RC=vg;var YD="@firebase/auth",JD="1.7.1";var _g=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function IV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wV(t){zn(new vt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pC(t)},u=new cg(r,i,s,c);return aF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zn(new vt("auth-internal",e=>{let n=jr(e.getProvider("auth").getImmediate());return(r=>new _g(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(YD,JD,IV(t)),Ce(YD,JD,"esm2017")}var EV=5*60,DV=kp("authIdTokenMaxAge")||EV,ZD=null,CV=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DV)return;let i=n?.token;ZD!==i&&(ZD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Og(t=Zi()){let e=So(t,"auth");if(e.isInitialized())return e.getImmediate();let n=bg(t,{popupRedirectResolver:RC,persistence:[SC,EC,Pg]}),r=kp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=CV(s.toString());xg(n,o,()=>o(n.currentUser)),Ng(n,a=>o(a))}}let i=Pp("auth");return i&&Sg(n,`http://${i}`),n}function TV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wV("Browser");var MC="auth",Vo=class{constructor(e){return e}},Lo=class{constructor(){return Ao(MC)}};var kg=new A("angularfire2.auth-instances");function mL(t,e){let n=Au(MC,t,e);return n&&new Vo(n)}function yL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vo(r)}}var vL={provide:Lo,deps:[[new We,kg]]},_L={provide:Vo,useFactory:mL,deps:[[new We,kg],gn]},IL=(()=>{class t{constructor(){Ce("angularfire",kr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xe({type:t});static \u0275inj=Ze({providers:[_L,vL]})}return t})();function O3(t,...e){return{ngModule:IL,providers:[{provide:kg,useFactory:yL(t),multi:!0,deps:[se,gt,ts,Fr,[new We,es],...e]}]}}var k3=_t(Rg,!0);var F3=_t(Og,!0);var V3=_t(Mg,!0);var wL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rt={},I,rm=rm||{},P=wL||self;function cl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function EL(t){return Object.prototype.hasOwnProperty.call(t,Fg)&&t[Fg]||(t[Fg]=++DL)}var Fg="closure_uid_"+(1e9*Math.random()>>>0),DL=0;function CL(t,e,n){return t.call.apply(t.bind,arguments)}function TL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?je=CL:je=TL,je.apply(null,arguments)}function Qu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Se(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Jn(){this.s=this.s,this.o=this.o}var bL=0;Jn.prototype.s=!1;Jn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),bL!=0)&&EL(this)};Jn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var HC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function im(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function NC(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(cl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Be(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var SL=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};P.addEventListener("test",n,e),P.removeEventListener("test",n,e)}catch{}return t}();function qo(t){return/^[\s\xa0]*$/.test(t)}function ul(){var t=P.navigator;return t&&(t=t.userAgent)?t:""}function Wt(t){return ul().indexOf(t)!=-1}function sm(t){return sm[" "](t),t}sm[" "]=function(){};function AL(t,e){var n=mU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var RL=Wt("Opera"),as=Wt("Trident")||Wt("MSIE"),qC=Wt("Edge"),Bg=qC||as,zC=Wt("Gecko")&&!(ul().toLowerCase().indexOf("webkit")!=-1&&!Wt("Edge"))&&!(Wt("Trident")||Wt("MSIE"))&&!Wt("Edge"),ML=ul().toLowerCase().indexOf("webkit")!=-1&&!Wt("Edge");function GC(){var t=P.document;return t?t.documentMode:void 0}var $g;e:{if(Yu="",Ju=function(){var t=ul();if(zC)return/rv:([^\);]+)(\)|;)/.exec(t);if(qC)return/Edge\/([\d\.]+)/.exec(t);if(as)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ML)return/WebKit\/(\S+)/.exec(t);if(RL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Ju&&(Yu=Ju?Ju[1]:""),as&&(Zu=GC(),Zu!=null&&Zu>parseFloat(Yu))){$g=String(Zu);break e}$g=Yu}var Yu,Ju,Zu,Hg;P.document&&as?(Vg=GC(),Hg=Vg||parseInt($g,10)||void 0):Hg=void 0;var Vg,NL=Hg;function zo(t,e){if(Be.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(zC){e:{try{sm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zo.$.h.call(this)}}Se(zo,Be);var xL={2:"touch",3:"pen",4:"mouse"};zo.prototype.h=function(){zo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xo="closure_listenable_"+(1e6*Math.random()|0),PL=0;function OL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++PL,this.fa=this.ia=!1}function ll(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function om(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function kL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function WC(t){let e={};for(let n in t)e[n]=t[n];return e}var xC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<xC.length;s++)n=xC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dl(t){this.src=t,this.g={},this.h=0}dl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new OL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function qg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=HC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ll(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var am="closure_lm_"+(1e6*Math.random()|0),Lg={};function QC(t,e,n,r,i){if(r&&r.once)return JC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)QC(t,e[s],n,r,i);return null}return n=lm(n),t&&t[Xo]?t.O(e,n,Zo(r)?!!r.capture:!!r,i):YC(t,e,n,!1,r,i)}function YC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Zo(i)?!!i.capture:!!i,a=um(t);if(a||(t[am]=a=new dl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=FL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)SL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(XC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FL(){function t(n){return e.call(t.src,t.listener,n)}let e=VL;return t}function JC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)JC(t,e[s],n,r,i);return null}return n=lm(n),t&&t[Xo]?t.P(e,n,Zo(r)?!!r.capture:!!r,i):YC(t,e,n,!0,r,i)}function ZC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ZC(t,e[s],n,r,i);else r=Zo(r)?!!r.capture:!!r,n=lm(n),t&&t[Xo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zg(s,n,r,i),-1<n&&(ll(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=um(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zg(e,n,r,i)),(n=-1<t?e[t]:null)&&cm(n))}function cm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Xo])qg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(XC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=um(e))?(qg(n,t),n.h==0&&(n.src=null,e[am]=null)):ll(t)}}}function XC(t){return t in Lg?Lg[t]:Lg[t]="on"+t}function VL(t,e){if(t.fa)t=!0;else{e=new zo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cm(t),t=n.call(r,e)}return t}function um(t){return t=t[am],t instanceof dl?t:null}var Ug="__closure_events_fn_"+(1e9*Math.random()>>>0);function lm(t){return typeof t=="function"?t:(t[Ug]||(t[Ug]=function(e){return t.handleEvent(e)}),t[Ug])}function be(){Jn.call(this),this.i=new dl(this),this.S=this,this.J=null}Se(be,Jn);be.prototype[Xo]=!0;be.prototype.removeEventListener=function(t,e,n,r){ZC(this,t,e,n,r)};function Oe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Be(e,t);else if(e instanceof Be)e.target=e.target||t;else{var i=e;e=new Be(r,t),KC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Xu(o,r,!0,e)&&i}if(o=e.g=t,i=Xu(o,r,!0,e)&&i,i=Xu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Xu(o,r,!1,e)&&i}be.prototype.N=function(){if(be.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ll(n[r]);delete t.g[e],t.h--}}this.J=null};be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};be.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Xu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&qg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var dm=P.JSON.stringify,Gg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function LL(){var t=hm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Wg=class{constructor(){this.h=this.g=null}add(e,n){let r=eT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},eT=new Gg(()=>new Kg,t=>t.reset()),Kg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function UL(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function jL(t){P.setTimeout(()=>{throw t},0)}var Go,Wo=!1,hm=new Wg,tT=()=>{let t=P.Promise.resolve(void 0);Go=()=>{t.then(BL)}},BL=()=>{for(var t;t=LL();){try{t.h.call(t.g)}catch(n){jL(n)}var e=eT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wo=!1};function hl(t,e){be.call(this),this.h=t||1,this.g=e||P,this.j=je(this.qb,this),this.l=Date.now()}Se(hl,be);I=hl.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oe(this,"tick"),this.ga&&(fm(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){hl.$.N.call(this),fm(this),delete this.g};function pm(t,e,n){if(typeof t=="function")n&&(t=je(t,n));else if(t&&typeof t.handleEvent=="function")t=je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:P.setTimeout(t,e||0)}function nT(t){t.g=pm(()=>{t.g=null,t.i&&(t.i=!1,nT(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Qg=class extends Jn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nT(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ko(t){Jn.call(this),this.h=t,this.g={}}Se(Ko,Jn);var PC=[];function rT(t,e,n,r){Array.isArray(n)||(n&&(PC[0]=n.toString()),n=PC);for(var i=0;i<n.length;i++){var s=QC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function iT(t){om(t.g,function(e,n){this.g.hasOwnProperty(n)&&cm(e)},t),t.g={}}Ko.prototype.N=function(){Ko.$.N.call(this),iT(this)};Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fl(){this.g=!0}fl.prototype.Ea=function(){this.g=!1};function $L(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function HL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ss(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zL(t,n)+(r?" "+r:"")})}function qL(t,e){t.info(function(){return"TIMEOUT: "+e})}fl.prototype.info=function(){};function zL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return dm(n)}catch{return e}}var qr={},OC=null;function pl(){return OC=OC||new be}qr.Ta="serverreachability";function sT(t){Be.call(this,qr.Ta,t)}Se(sT,Be);function Qo(t){let e=pl();Oe(e,new sT(e))}qr.STAT_EVENT="statevent";function oT(t,e){Be.call(this,qr.STAT_EVENT,t),this.stat=e}Se(oT,Be);function Qe(t){let e=pl();Oe(e,new oT(e,t))}qr.Ua="timingevent";function aT(t,e){Be.call(this,qr.Ua,t),this.size=e}Se(aT,Be);function ea(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){t()},e)}var gl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gm(){}gm.prototype.h=null;function kC(t){return t.h||(t.h=t.i())}function uT(){}var ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mm(){Be.call(this,"d")}Se(mm,Be);function ym(){Be.call(this,"c")}Se(ym,Be);var Yg;function ml(){}Se(ml,gm);ml.prototype.g=function(){return new XMLHttpRequest};ml.prototype.i=function(){return{}};Yg=new ml;function na(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ko(this),this.P=GL,t=Bg?125:void 0,this.V=new hl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lT}function lT(){this.i=null,this.g="",this.h=!1}var GL=45e3,dT={},Jg={};I=na.prototype;I.setTimeout=function(t){this.P=t};function Zg(t,e,n){t.L=1,t.A=vl(In(e)),t.u=n,t.S=!0,hT(t,null)}function hT(t,e){t.G=Date.now(),ra(t),t.B=In(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),IT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new lT,t.g=BT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Qg(je(t.Pa,t,t.g),t.O)),rT(t.U,t.g,"readystatechange",t.nb),e=t.I?WC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Qo(),$L(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&Kt(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let l=Kt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Bg||this.g&&(this.h.h||this.g.ja()||UC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Qo(3):Qo(2)),yl(this);var n=this.g.da();this.ca=n;t:if(fT(this)){var r=UC(this.g);t="";var i=r.length,s=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),Ho(this);var o="";break t}this.h.i=new P.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,HL(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qo(a)){var u=a;break t}}u=null}if(n=u)ss(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xg(this,n);else{this.i=!1,this.s=3,Qe(12),Br(this),Ho(this);break e}}this.S?(pT(this,l,o),Bg&&this.i&&l==3&&(rT(this.U,this.V,"tick",this.mb),this.V.start())):(ss(this.j,this.m,o,null),Xg(this,o)),l==4&&Br(this),this.i&&!this.J&&(l==4?VT(this.l,this):(this.i=!1,ra(this)))}else fU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Br(this),Ho(this)}}}catch{}finally{}};function fT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function pT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=WL(t,n),i==Jg){e==4&&(t.s=4,Qe(14),r=!1),ss(t.j,t.m,null,"[Incomplete Response]");break}else if(i==dT){t.s=4,Qe(15),ss(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ss(t.j,t.m,i,null),Xg(t,i);fT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dm(e),e.M=!0,Qe(11))):(ss(t.j,t.m,n,"[Invalid Chunked Response]"),Br(t),Ho(t))}I.mb=function(){if(this.g){var t=Kt(this.g),e=this.g.ja();this.o<e.length&&(yl(this),pT(this,t,e),this.i&&t!=4&&ra(this))}};function WL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Jg:(n=Number(e.substring(n,r)),isNaN(n)?dT:(r+=1,r+n>e.length?Jg:(e=e.slice(r,r+n),t.o=r+n,e)))}I.cancel=function(){this.J=!0,Br(this)};function ra(t){t.Y=Date.now()+t.P,gT(t,t.P)}function gT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ea(je(t.lb,t),e)}function yl(t){t.C&&(P.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(qL(this.j,this.B),this.L!=2&&(Qo(),Qe(17)),Br(this),this.s=2,Ho(this)):gT(this,this.Y-t)};function Ho(t){t.l.H==0||t.J||VT(t.l,t)}function Br(t){yl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,fm(t.V),iT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Xg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||em(n.i,t))){if(!t.K&&em(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)il(n),wl(n);else break e;Em(n),Qe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ea(je(n.ib,n),6e3));if(1>=DT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $r(n,11)}else if((t.K||n.g==t)&&il(n),!qo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(vm(s,s.h),s.h=null))}if(r.F){let v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ue(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=jT(r,r.J?r.pa:null,r.Y),o.K){CT(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(yl(a),ra(a)),r.g=o}else kT(r);0<n.j.length&&El(n)}else u[0]!="stop"&&u[0]!="close"||$r(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?$r(n,7):wm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Qo(4)}catch{}}function KL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(cl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function QL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function mT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(cl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=QL(t),r=KL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var yT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Hr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hr){this.h=t.h,nl(this,t.j),this.s=t.s,this.g=t.g,rl(this,t.m),this.l=t.l;var e=t.i,n=new Yo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),FC(this,n),this.o=t.o}else t&&(e=String(t).match(yT))?(this.h=!1,nl(this,e[1]||"",!0),this.s=Bo(e[2]||""),this.g=Bo(e[3]||"",!0),rl(this,e[4]),this.l=Bo(e[5]||"",!0),FC(this,e[6]||"",!0),this.o=Bo(e[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Hr.prototype.toString=function(){var t=[],e=this.j;e&&t.push($o(e,VC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($o(e,VC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($o(n,n.charAt(0)=="/"?XL:ZL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$o(n,tU)),t.join("")};function In(t){return new Hr(t)}function nl(t,e,n){t.j=n?Bo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function FC(t,e,n){e instanceof Yo?(t.i=e,nU(t.i,t.h)):(n||(e=$o(e,eU)),t.i=new Yo(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function vl(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $o(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VC=/[#\/\?@]/g,ZL=/[#\?:]/g,XL=/[#\?]/g,eU=/[#\?@]/g,tU=/#/g;function Yo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zn(t){t.g||(t.g=new Map,t.h=0,t.i&&YL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=Yo.prototype;I.add=function(t,e){Zn(this),this.i=null,t=cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function vT(t,e){Zn(t),e=cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _T(t,e){return Zn(t),e=cs(t,e),t.g.has(e)}I.forEach=function(t,e){Zn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};I.ta=function(){Zn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};I.Z=function(t){Zn(this);let e=[];if(typeof t=="string")_T(this,t)&&(e=e.concat(this.g.get(cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return Zn(this),this.i=null,t=cs(this,t),_T(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function IT(t,e,n){vT(t,e),0<n.length&&(t.i=null,t.g.set(cs(t,e),im(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nU(t,e){e&&!t.j&&(Zn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vT(this,r),IT(this,i,n))},t)),t.j=e}var rU=class{constructor(t,e){this.g=t,this.map=e}};function wT(t){this.l=t||iU,P.PerformanceNavigationTiming?(t=P.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(P.g&&P.g.Ka&&P.g.Ka()&&P.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iU=10;function ET(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DT(t){return t.h?1:t.g?t.g.size:0}function em(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vm(t,e){t.g?t.g.add(e):t.h=e}function CT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}wT.prototype.cancel=function(){if(this.i=TT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function TT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return im(t.i)}var sU=class{stringify(t){return P.JSON.stringify(t,void 0)}parse(t){return P.JSON.parse(t,void 0)}};function oU(){this.g=new sU}function aU(t,e,n){let r=n||"";try{mT(t,function(i,s){let o=i;Zo(i)&&(o=dm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cU(t,e){let n=new fl;if(P.Image){let r=new Image;r.onload=Qu(el,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qu(el,n,r,"TestLoadImage: error",!1,e),r.onabort=Qu(el,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qu(el,n,r,"TestLoadImage: timeout",!1,e),P.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function el(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ia(t){this.l=t.ec||null,this.j=t.ob||!1}Se(ia,gm);ia.prototype.g=function(){return new _l(this.l,this.j)};ia.prototype.i=function(t){return function(){return t}}({});function _l(t,e){be.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Se(_l,be);var _m=0;I=_l.prototype;I.open=function(t,e){if(this.readyState!=_m)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jo(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||P).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=_m};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sa(this):Jo(this),this.readyState==3&&bT(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,sa(this))};I.Ya=function(t){this.g&&(this.response=t,sa(this))};I.ka=function(){this.g&&sa(this)};function sa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jo(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var uU=P.JSON.parse;function pe(t){be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ST,this.L=this.M=!1}Se(pe,be);var ST="",lU=/^https?$/i,dU=["POST","PUT"];I=pe.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yg.g(),this.C=this.u?kC(this.u):kC(Yg),this.g.onreadystatechange=je(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){LC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=P.FormData&&t instanceof P.FormData,!(0<=HC(dU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MT(this),0<this.B&&((this.L=hU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=je(this.ua,this)):this.A=pm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){LC(this,s)}};function hU(t){return as&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof rm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))};function LC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AT(t),Il(t)}function AT(t){t.F||(t.F=!0,Oe(t,"complete"),Oe(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Oe(this,"complete"),Oe(this,"abort"),Il(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Il(this,!0)),pe.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?RT(this):this.kb())};I.kb=function(){RT(this)};function RT(t){if(t.h&&typeof rm<"u"&&(!t.C[1]||Kt(t)!=4||t.da()!=2)){if(t.v&&Kt(t)==4)pm(t.La,0,t);else if(Oe(t,"readystatechange"),Kt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(yT)[1]||null;!i&&P.self&&P.self.location&&(i=P.self.location.protocol.slice(0,-1)),r=!lU.test(i?i.toLowerCase():"")}n=r}if(n)Oe(t,"complete"),Oe(t,"success");else{t.m=6;try{var s=2<Kt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",AT(t)}}finally{Il(t)}}}}function Il(t,e){if(t.g){MT(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Oe(t,"ready");try{n.onreadystatechange=r}catch{}}}function MT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(P.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function Kt(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),uU(e)}};function UC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ST:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function fU(t){let e={};t=(t.g&&2<=Kt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(qo(t[r]))continue;var n=UL(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}kL(e,function(r){return r.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function NT(t){let e="";return om(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Im(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=NT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ue(t,e,n))}function Uo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xT(t){this.Ga=0,this.j=[],this.l=new fl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uo("baseRetryDelayMs",5e3,t),this.hb=Uo("retryDelaySeedMs",1e4,t),this.eb=Uo("forwardChannelMaxRetries",2,t),this.xa=Uo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new wT(t&&t.concurrentRequestLimit),this.Ja=new oU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=xT.prototype;I.ra=8;I.H=1;function wm(t){if(PT(t),t.H==3){var e=t.W++,n=In(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),oa(t,n),e=new na(t,t.l,e),e.L=2,e.A=vl(In(n)),n=!1,P.navigator&&P.navigator.sendBeacon)try{n=P.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&P.Image&&(new Image().src=e.A,n=!0),n||(e.g=BT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ra(e)}UT(t)}function wl(t){t.g&&(Dm(t),t.g.cancel(),t.g=null)}function PT(t){wl(t),t.u&&(P.clearTimeout(t.u),t.u=null),il(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&P.clearTimeout(t.m),t.m=null)}function El(t){if(!ET(t.i)&&!t.m){t.m=!0;var e=t.Na;Go||tT(),Wo||(Go(),Wo=!0),hm.add(e,t),t.C=0}}function pU(t,e){return DT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ea(je(t.Na,t,e),LT(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new na(this,this.l,t),s=this.s;if(this.U&&(s?(s=WC(s),KC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=OT(this,i,e),n=In(this.I),ue(n,"RID",t),ue(n,"CVER",22),this.F&&ue(n,"X-HTTP-Session-Id",this.F),oa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(NT(s)))+"&"+e:this.o&&Im(n,this.o,s)),vm(this.i,i),this.bb&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.aa=!0,Zg(i,n,null)):Zg(i,n,e),this.H=2}}else this.H==3&&(t?jC(this,t):this.j.length==0||ET(this.i)||jC(this))};function jC(t,e){var n;e?n=e.m:n=t.W++;let r=In(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.V),oa(t,r),t.o&&t.s&&Im(r,t.o,t.s),n=new na(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=OT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vm(t.i,n),Zg(n,r,e)}function oa(t,e){t.na&&om(t.na,function(n,r){ue(e,r,n)}),t.h&&mT({},function(n,r){ue(e,r,n)})}function OT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?je(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{aU(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function kT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Go||tT(),Wo||(Go(),Wo=!0),hm.add(e,t),t.A=0}}function Em(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ea(je(t.Ma,t),LT(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,FT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ea(je(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qe(10),wl(this),FT(this))};function Dm(t){t.B!=null&&(P.clearTimeout(t.B),t.B=null)}function FT(t){t.g=new na(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=In(t.wa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.V),ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ue(e,"TO",t.qa),ue(e,"TYPE","xmlhttp"),oa(t,e),t.o&&t.s&&Im(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=vl(In(e)),n.u=null,n.S=!0,hT(n,t)}I.ib=function(){this.v!=null&&(this.v=null,wl(this),Em(this),Qe(19))};function il(t){t.v!=null&&(P.clearTimeout(t.v),t.v=null)}function VT(t,e){var n=null;if(t.g==e){il(t),Dm(t),t.g=null;var r=2}else if(em(t.i,e))n=e.F,CT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=pl(),Oe(r,new aT(r,n)),El(t)}else kT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&pU(t,e)||r==2&&Em(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$r(t,5);break;case 4:$r(t,10);break;case 3:$r(t,6);break;default:$r(t,2)}}}function LT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $r(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=je(t.pb,t);n||(n=new Hr("//www.google.com/images/cleardot.gif"),P.location&&P.location.protocol=="http"||nl(n,"https"),vl(n)),cU(n.toString(),r)}else Qe(2);t.H=0,t.h&&t.h.za(e),UT(t),PT(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qe(2)):(this.l.info("Failed to ping google.com"),Qe(1))};function UT(t){if(t.H=0,t.ma=[],t.h){let e=TT(t.i);(e.length!=0||t.j.length!=0)&&(NC(t.ma,e),NC(t.ma,t.j),t.i.i.length=0,im(t.j),t.j.length=0),t.h.ya()}}function jT(t,e,n){var r=n instanceof Hr?In(n):new Hr(n);if(r.g!="")e&&(r.g=e+"."+r.g),rl(r,r.m);else{var i=P.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Hr(null);r&&nl(s,r),e&&(s.g=e),i&&rl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ue(r,n,e),ue(r,"VER",t.ra),oa(t,r),r}function BT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new pe(new ia({ob:n})):new pe(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function $T(){}I=$T.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function sl(){if(as&&!(10<=Number(NL)))throw Error("Environmental error: no available transport.")}sl.prototype.g=function(t,e){return new ot(t,e)};function ot(t,e){be.call(this),this.g=new xT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new us(this)}Se(ot,be);ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qe(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jT(t,null,t.Y),El(t)};ot.prototype.close=function(){wm(this.g)};ot.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dm(t),t=n);e.j.push(new rU(e.fb++,t)),e.H==3&&El(e)};ot.prototype.N=function(){this.g.h=null,delete this.j,wm(this.g),delete this.g,ot.$.N.call(this)};function HT(t){mm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Se(HT,mm);function qT(){ym.call(this),this.status=1}Se(qT,ym);function us(t){this.g=t}Se(us,$T);us.prototype.Ba=function(){Oe(this.g,"a")};us.prototype.Aa=function(t){Oe(this.g,new HT(t))};us.prototype.za=function(t){Oe(this.g,new qT)};us.prototype.ya=function(){Oe(this.g,"b")};function gU(){this.blockSize=-1}function At(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Se(At,gU);At.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}At.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)jg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jg(this,r),i=0;break}}this.h=i,this.i+=e};At.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function re(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var mU={};function Cm(t){return-128<=t&&128>t?AL(t,function(e){return new re([e|0],0>e?-1:0)}):new re([t|0],0>t?-1:0)}function Qt(t){if(isNaN(t)||!isFinite(t))return os;if(0>t)return Pe(Qt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tm;return new re(e,0)}function zT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pe(zT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qt(Math.pow(e,8)),r=os,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Qt(Math.pow(e,s)),r=r.R(s).add(Qt(o))):(r=r.R(n),r=r.add(Qt(o)))}return r}var tm=4294967296,os=Cm(0),nm=Cm(1),BC=Cm(16777216);I=re.prototype;I.ea=function(){if(It(this))return-Pe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tm+r)*e,e*=tm}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_n(this))return"0";if(It(this))return"-"+Pe(this).toString(t);for(var e=Qt(Math.pow(t,6)),n=this,r="";;){var i=al(n,e).g;n=ol(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,_n(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _n(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function It(t){return t.h==-1}I.X=function(t){return t=ol(this,t),It(t)?-1:_n(t)?0:1};function Pe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new re(n,~t.h).add(nm)}I.abs=function(){return It(this)?Pe(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new re(n,n[n.length-1]&-2147483648?-1:0)};function ol(t,e){return t.add(Pe(e))}I.R=function(t){if(_n(this)||_n(t))return os;if(It(this))return It(t)?Pe(this).R(Pe(t)):Pe(Pe(this).R(t));if(It(t))return Pe(this.R(Pe(t)));if(0>this.X(BC)&&0>t.X(BC))return Qt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,tl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,tl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,tl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,tl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new re(n,0)};function tl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function jo(t,e){this.g=t,this.h=e}function al(t,e){if(_n(e))throw Error("division by zero");if(_n(t))return new jo(os,os);if(It(t))return e=al(Pe(t),e),new jo(Pe(e.g),Pe(e.h));if(It(e))return e=al(t,Pe(e)),new jo(Pe(e.g),e.h);if(30<t.g.length){if(It(t)||It(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nm,r=e;0>=r.X(t);)n=$C(n),r=$C(r);var i=is(n,1),s=is(r,1);for(r=is(r,2),n=is(n,2);!_n(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=is(r,1),n=is(n,1)}return e=ol(t,i.R(e)),new jo(i,e)}for(i=os;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Qt(n),o=s.R(e);It(o)||0<o.X(t);)n-=r,s=Qt(n),o=s.R(e);_n(s)&&(s=nm),i=i.add(s),t=ol(t,o)}return new jo(i,t)}I.gb=function(t){return al(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new re(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new re(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new re(n,this.h^t.h)};function $C(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new re(n,t.h)}function is(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new re(i,t.h)}sl.prototype.createWebChannel=sl.prototype.g;ot.prototype.send=ot.prototype.u;ot.prototype.open=ot.prototype.m;ot.prototype.close=ot.prototype.close;gl.NO_ERROR=0;gl.TIMEOUT=8;gl.HTTP_ERROR=6;cT.COMPLETE="complete";uT.EventType=ta;ta.OPEN="a";ta.CLOSE="b";ta.ERROR="c";ta.MESSAGE="d";be.prototype.listen=be.prototype.O;pe.prototype.listenOnce=pe.prototype.P;pe.prototype.getLastError=pe.prototype.Sa;pe.prototype.getLastErrorCode=pe.prototype.Ia;pe.prototype.getStatus=pe.prototype.da;pe.prototype.getResponseJson=pe.prototype.Wa;pe.prototype.getResponseText=pe.prototype.ja;pe.prototype.send=pe.prototype.ha;pe.prototype.setWithCredentials=pe.prototype.Oa;At.prototype.digest=At.prototype.l;At.prototype.reset=At.prototype.reset;At.prototype.update=At.prototype.j;re.prototype.add=re.prototype.add;re.prototype.multiply=re.prototype.R;re.prototype.modulo=re.prototype.gb;re.prototype.compare=re.prototype.X;re.prototype.toNumber=re.prototype.ea;re.prototype.toString=re.prototype.toString;re.prototype.getBits=re.prototype.D;re.fromNumber=Qt;re.fromString=zT;var GT=Rt.createWebChannelTransport=function(){return new sl},WT=Rt.getStatEventTarget=function(){return pl()},Dl=Rt.ErrorCode=gl,KT=Rt.EventType=cT,QT=Rt.Event=qr,Tm=Rt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},j3=Rt.FetchXmlHttpFactory=ia,aa=Rt.WebChannel=uT,YT=Rt.XhrIo=pe,JT=Rt.Md5=At,zr=Rt.Integer=re;var ZT="@firebase/firestore";var Ae=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");var As="10.11.0";var Zr=new Hn("@firebase/firestore");function ca(){return Zr.logLevel}function w(t,...e){if(Zr.logLevel<=z.DEBUG){let n=e.map(pv);Zr.debug(`Firestore (${As}): ${t}`,...n)}}function nn(t,...e){if(Zr.logLevel<=z.ERROR){let n=e.map(pv);Zr.error(`Firestore (${As}): ${t}`,...n)}}function ms(t,...e){if(Zr.logLevel<=z.WARN){let n=e.map(pv);Zr.warn(`Firestore (${As}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function M(t="Unexpected state"){let e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+t;throw nn(e),new Error(e)}function ce(t,e){t||M()}function k(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=class extends st{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Al=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Mm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ae.UNAUTHENTICATED))}shutdown(){}},Nm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},xm=class{constructor(e){this.t=e,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{w("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(w("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(w("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new Al(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new Ae(e)}},Pm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Om=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}},km=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&w("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,w("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{w("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):w("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.R=n.token,new km(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function yU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Rl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=yU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ee(t,e){return t<e?-1:t>e?1:0}function ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ke=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var V=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ke(0,0))}static max(){return new t(new ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ml=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&M(),r===void 0?r=e.length-n:r>e.length-n&&M(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},de=class t extends Ml{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new E(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},vU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=class t extends Ml{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return vU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new E(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new E(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new E(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var b=class t{constructor(e){this.path=e}static fromPath(e){return new t(de.fromString(e))}static fromName(e){return new t(de.fromString(e).popFirst(5))}static empty(){return new t(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new de(e.slice()))}};var Vm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vm.UNKNOWN_ID=-1;function _U(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Xr(i,b.empty(),e)}function IU(t){return new Xr(t.readTime,t.key,-1)}var Xr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(V.min(),b.empty(),-1)}static max(){return new t(V.max(),b.empty(),-1)}};function wU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=b.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}var EU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ba(t){return f(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==EU)throw t;w("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Um=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Zt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Yr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=gv(r.target.error);this.V.reject(new Yr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Yr(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(w("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Bm(n)}},Nl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(fe())===12.2&&nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return w("SimpleDb","Removing database:",e),Gr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Du())return!1;if(t.C())return!0;let e=fe(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(w("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Yr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new E(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new E(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Yr(e,o))},i.onupgradeneeded=s=>{w("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{w("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Um.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(w("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},jm=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gr(this.k.delete())}},Yr=class extends E{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Sa(t){return t.name==="IndexedDbTransactionError"}var Bm=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(w("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(w("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gr(r)}add(e){return w("SimpleDb","ADD",this.store.name,e,e),Gr(this.store.add(e))}get(e){return Gr(this.store.get(e)).next(n=>(n===void 0&&(n=null),w("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return w("SimpleDb","DELETE",this.store.name,e),Gr(this.store.delete(e))}count(){return w("SimpleDb","COUNT",this.store.name),Gr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){w("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=gv(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new jm(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Gr(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=gv(r.target.error);n(i)}})}var XT=!1;function gv(t){let e=Nl.S(fe());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new E("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XT||(XT=!0,setTimeout(()=>{throw r},0)),r}}return t}var xb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function od(t){return t==null}function ga(t){return t===0&&1/t==-1/0}function DU(t){return typeof t=="number"&&Number.isInteger(t)&&!ga(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var CU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y3=[...CU,"documentOverlays"],TU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bU=TU,J3=[...bU,"indexConfiguration","indexState","indexEntries"];function eb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Pb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var me=class t{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();let e=this.left.check();if(e!==this.right.check())throw M();return e+(this.isRed()?0:1)}};Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw M()}get value(){throw M()}get color(){throw M()}get left(){throw M()}get right(){throw M()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var He=class t{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xl(this.data.getIterator())}getIteratorFrom(e){return new xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jt=class t{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new t([])}unionWith(e){let n=new He(at.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Pl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ye=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Pl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ye.EMPTY_BYTE_STRING=new Ye("");var SU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wn(t){if(ce(!!t),typeof t=="string"){let e=0,n=SU.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(t.seconds),nanos:ge(t.nanos)}}function ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function er(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}function mv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yv(t){let e=t.mapValue.fields.__previous_value__;return mv(e)?yv(e):e}function ma(t){let e=wn(t.mapValue.fields.__local_write_time__.timestampValue);return new ke(e.seconds,e.nanos)}var $m=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ol=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mv(t)?4:Ob(t)?9007199254740991:10:M()}function rn(t,e){if(t===e)return!0;let n=ei(t);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ma(t).isEqual(ma(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=wn(i.timestampValue),a=wn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return er(i.bytesValue).isEqual(er(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ge(i.geoPointValue.latitude)===ge(s.geoPointValue.latitude)&&ge(i.geoPointValue.longitude)===ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ge(i.integerValue)===ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ge(i.doubleValue),a=ge(s.doubleValue);return o===a?ga(o)===ga(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],rn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(eb(o)!==eb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!rn(o[c],a[c])))return!1;return!0}(t,e);default:return M()}}function ya(t,e){return(t.values||[]).find(n=>rn(n,e))!==void 0}function vs(t,e){if(t===e)return 0;let n=ei(t),r=ei(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ge(s.integerValue||s.doubleValue),c=ge(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return tb(t.timestampValue,e.timestampValue);case 4:return tb(ma(t),ma(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=er(s),c=er(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ee(a[u],c[u]);if(l!==0)return l}return ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ee(ge(s.latitude),ge(o.latitude));return a!==0?a:ee(ge(s.longitude),ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=vs(a[u],c[u]);if(l)return l}return ee(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Cl.mapValue&&o===Cl.mapValue)return 0;if(s===Cl.mapValue)return 1;if(o===Cl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ee(c[d],l[d]);if(h!==0)return h;let p=vs(a[c[d]],u[l[d]]);if(p!==0)return p}return ee(c.length,l.length)}(t.mapValue,e.mapValue);default:throw M()}}function tb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);let n=wn(t),r=wn(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function _s(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=wn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return b.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Hm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Hm(n.fields[o])}`;return i+"}"}(t.mapValue):M()}function nb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qm(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function rb(t){return!!t&&"nullValue"in t}function ib(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bl(t){return!!t&&"mapValue"in t}function la(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=la(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=la(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ob(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=la(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=la(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(la(this.value))}};function kb(t){let e=[];return Rs(t.fields,(n,r)=>{let i=new at([n]);if(bl(r)){let s=kb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}var Nt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,V.min(),V.min(),V.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,V.min(),V.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,V.min(),V.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Is=class{constructor(e,n){this.position=e,this.inclusive=n}};function sb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=b.comparator(b.fromName(o.referenceValue),n.key):r=vs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ob(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rn(t.position[n],e.position[n]))return!1;return!0}var ti=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function AU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var kl=class{},we=class t extends kl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gm(e,n,r):n==="array-contains"?new Qm(e,r):n==="in"?new Ym(e,r):n==="not-in"?new Jm(e,r):n==="array-contains-any"?new Zm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wm(e,r):new Km(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vs(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return M()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xt=class t extends kl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Fb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Fb(t){return t.op==="and"}function Vb(t){return RU(t)&&Fb(t)}function RU(t){for(let e of t.filters)if(e instanceof xt)return!1;return!0}function zm(t){if(t instanceof we)return t.field.canonicalString()+t.op.toString()+_s(t.value);if(Vb(t))return t.filters.map(e=>zm(e)).join(",");{let e=t.filters.map(n=>zm(n)).join(",");return`${t.op}(${e})`}}function Lb(t,e){return t instanceof we?function(r,i){return i instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&rn(r.value,i.value)}(t,e):t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Lb(o,i.filters[a]),!0):!1}(t,e):void M()}function Ub(t){return t instanceof we?function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`}(t):t instanceof xt?function(n){return n.op.toString()+" {"+n.getFilters().map(Ub).join(" ,")+"}"}(t):"Filter"}var Gm=class extends we{constructor(e,n,r){super(e,n,r),this.key=b.fromName(r.referenceValue)}matches(e){let n=b.comparator(e.key,this.key);return this.matchesComparison(n)}},Wm=class extends we{constructor(e,n){super(e,"in",n),this.keys=jb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Km=class extends we{constructor(e,n){super(e,"not-in",n),this.keys=jb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function jb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>b.fromName(r.referenceValue))}var Qm=class extends we{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return vv(n)&&ya(n.arrayValue,this.value)}},Ym=class extends we{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ya(this.value.arrayValue,n)}},Jm=class extends we{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ya(this.value.arrayValue,n)}},Zm=class extends we{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ya(this.value.arrayValue,r))}};var Xm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function ab(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xm(t,e,n,r,i,s,o)}function _v(t){let e=k(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_s(r)).join(",")),e.ce=n}return e.ce}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Lb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ob(t.startAt,e.startAt)&&ob(t.endAt,e.endAt)}function ey(t){return b.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var tr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function MU(t,e,n,r,i,s,o,a){return new tr(t,e,n,r,i,s,o,a)}function wv(t){return new tr(t)}function cb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bb(t){return t.collectionGroup!==null}function da(t){let e=k(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new He(at.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ti(s,r))}),n.has(at.keyField().canonicalString())||e.le.push(new ti(at.keyField(),r))}return e.le}function en(t){let e=k(t);return e.he||(e.he=NU(e,da(t))),e.he}function NU(t,e){if(t.limitType==="F")return ab(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ti(i.field,s)});let n=t.endAt?new Is(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Is(t.startAt.position,t.startAt.inclusive):null;return ab(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ty(t,e){let n=t.filters.concat([e]);return new tr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ny(t,e,n){return new tr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return Iv(en(t),en(e))&&t.limitType===e.limitType}function $b(t){return`${_v(en(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ub(i)).join(", ")}]`),od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_s(i)).join(",")),`Target(${r})`}(en(t))}; limitType=${t.limitType})`}function cd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):b.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of da(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=sb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,da(r),i)||r.endAt&&!function(o,a,c){let u=sb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,da(r),i))}(t,e)}function xU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hb(t){return(e,n)=>{let r=!1;for(let i of da(t)){let s=PU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PU(t,e,n){let r=t.field.isKeyField()?b.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?vs(c,u):M()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return M()}}var nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}};var OU=new me(b.comparator);function En(){return OU}var qb=new me(b.comparator);function ua(...t){let e=qb;for(let n of t)e=e.insert(n.key,n);return e}function zb(t){let e=qb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return ha()}function Gb(){return ha()}function ha(){return new nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var kU=new me(b.comparator),FU=new He(b.comparator);function G(...t){let e=FU;for(let n of t)e=e.add(n);return e}var VU=new He(ee);function LU(){return VU}function Wb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ga(e)?"-0":e}}function Kb(t){return{integerValue:""+t}}function UU(t,e){return DU(e)?Kb(e):Wb(t,e)}var ws=class{constructor(){this._=void 0}};function jU(t,e,n){return t instanceof Es?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mv(s)&&(s=yv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ni?Yb(t,e):t instanceof ri?Jb(t,e):function(i,s){let o=Qb(i,s),a=ub(o)+ub(i.Ie);return qm(o)&&qm(i.Ie)?Kb(a):Wb(i.serializer,a)}(t,e)}function BU(t,e,n){return t instanceof ni?Yb(t,e):t instanceof ri?Jb(t,e):n}function Qb(t,e){return t instanceof Ds?function(r){return qm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Es=class extends ws{},ni=class extends ws{constructor(e){super(),this.elements=e}};function Yb(t,e){let n=Zb(e);for(let r of t.elements)n.some(i=>rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ri=class extends ws{constructor(e){super(),this.elements=e}};function Jb(t,e){let n=Zb(e);for(let r of t.elements)n=n.filter(i=>!rn(i,r));return{arrayValue:{values:n}}}var Ds=class extends ws{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function ub(t){return ge(t.integerValue||t.doubleValue)}function Zb(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $U(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ni&&i instanceof ni||r instanceof ri&&i instanceof ri?ys(r.elements,i.elements,rn):r instanceof Ds&&i instanceof Ds?rn(r.Ie,i.Ie):r instanceof Es&&i instanceof Es}(t.transform,e.transform)}var ry=class{constructor(e,n){this.version=e,this.transformResults=n}},Jr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Cs=class{};function Xb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fl(t.key,Jr.none()):new ii(t.key,t.data,Jr.none());{let n=t.data,r=Mt.empty(),i=new He(at.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dn(t.key,r,new Jt(i.toArray()),Jr.none())}}function HU(t,e,n){t instanceof ii?function(i,s,o){let a=i.value.clone(),c=db(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dn?function(i,s,o){if(!Sl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=db(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(e0(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fa(t,e,n,r){return t instanceof ii?function(s,o,a,c){if(!Sl(s.precondition,o))return a;let u=s.value.clone(),l=hb(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dn?function(s,o,a,c){if(!Sl(s.precondition,o))return a;let u=hb(s.fieldTransforms,c,o),l=o.data;return l.setAll(e0(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Sl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Qb(r.transform,i||null);s!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,s))}return n||null}function lb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(s,o)=>$U(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ii=class extends Cs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dn=class extends Cs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function e0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function db(t,e,n){let r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,BU(o,a,n[i]))}return r}function hb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,jU(s,o,e))}return r}var Fl=class extends Cs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},iy=class extends Cs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var sy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&HU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Gb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Xb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),G())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(n,r)=>lb(n,r))&&ys(this.baseMutations,e.baseMutations,(n,r)=>lb(n,r))}},oy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=function(){return kU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var ay=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var cy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var _e,J;function zU(t){switch(t){default:return M();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function t0(t){if(t===void 0)return nn("GRPC error has no .code"),g.UNKNOWN;switch(t){case _e.OK:return g.OK;case _e.CANCELLED:return g.CANCELLED;case _e.UNKNOWN:return g.UNKNOWN;case _e.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case _e.INTERNAL:return g.INTERNAL;case _e.UNAVAILABLE:return g.UNAVAILABLE;case _e.UNAUTHENTICATED:return g.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case _e.NOT_FOUND:return g.NOT_FOUND;case _e.ALREADY_EXISTS:return g.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return g.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case _e.ABORTED:return g.ABORTED;case _e.OUT_OF_RANGE:return g.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return g.UNIMPLEMENTED;case _e.DATA_LOSS:return g.DATA_LOSS;default:return M()}}(J=_e||(_e={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";var fb=null;function GU(){return new TextEncoder}var WU=new zr([4294967295,4294967295],0);function pb(t){let e=GU().encode(t),n=new JT;return n.update(e),new Uint8Array(n.digest())}function gb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zr([n,r],0),new zr([i,s],0)]}var uy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kr(`Invalid padding: ${n}`);if(r<0)throw new Kr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=zr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(zr.fromNumber(r)));return i.compare(WU)===1&&(i=new zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=pb(e),[r,i]=gb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=pb(e),[r,i]=gb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Kr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Vl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(V.min(),i,new me(ee),En(),G())}},va=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,G(),G(),G())}};var ps=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Ll=class{constructor(e,n){this.targetId=e,this.fe=n}},Ul=class{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},jl=class{constructor(){this.ge=0,this.pe=yb(),this.ye=Ye.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=G(),n=G(),r=G();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:M()}}),new va(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=yb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ce(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},ly=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=En(),this.Qe=mb(),this.Ke=new me(ee)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:M()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(ey(s))if(r===0){let o=new b(s.path);this.We(n,o,Nt.newNoDocument(o,V.min()))}else ce(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}fb?.tt(function(l,d,h,p,m){var v,_,C,Q,$,ae;let Re={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},te=d.unchangedNames;return te&&(Re.bloomFilter={applied:m===0,hashCount:(v=te?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(Q=(C=(_=te?.bits)===null||_===void 0?void 0:_.bitmap)===null||C===void 0?void 0:C.length)!==null&&Q!==void 0?Q:0,padding:(ae=($=te?.bits)===null||$===void 0?void 0:$.padding)!==null&&ae!==void 0?ae:0,mightContain:Fe=>{var Pt;return(Pt=p?.mightContain(Fe))!==null&&Pt!==void 0&&Pt}}),Re}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=er(r).toUint8Array()}catch(c){if(c instanceof Pl)return ms("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new uy(o,i,s)}catch(c){return ms(c instanceof Kr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&ey(a.target)){let c=new b(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Nt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=G();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Vl(e,n,this.Ke,this.qe,r);return this.qe=En(),this.Qe=mb(),this.Ke=new me(ee),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new jl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new He(ee),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||w("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new jl),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function mb(){return new me(b.comparator)}function yb(){return new me(b.comparator)}var KU={asc:"ASCENDING",desc:"DESCENDING"},QU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YU={and:"AND",or:"OR"},dy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function hy(t,e){return t.useProto3Json||od(e)?e:{value:e}}function Bl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JU(t,e){return Bl(t,e.toTimestamp())}function tn(t){return ce(!!t),V.fromTimestamp(function(n){let r=wn(n);return new ke(r.seconds,r.nanos)}(t))}function Ev(t,e){return fy(t,e).canonicalString()}function fy(t,e){let n=function(i){return new de(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function r0(t){let e=de.fromString(t);return ce(c0(e)),e}function py(t,e){return Ev(t.databaseId,e.path)}function bm(t,e){let n=r0(e);if(n.get(1)!==t.databaseId.projectId)throw new E(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new b(s0(n))}function i0(t,e){return Ev(t.databaseId,e)}function ZU(t){let e=r0(t);return e.length===4?de.emptyPath():s0(e)}function gy(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s0(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vb(t,e,n){return{name:py(t,e),fields:n.value.mapValue.fields}}function XU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:M()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ce(l===void 0||typeof l=="string"),Ye.fromBase64String(l||"")):(ce(l===void 0||l instanceof Buffer||l instanceof Uint8Array),Ye.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?g.UNKNOWN:t0(u.code);return new E(l,u.message||"")}(o);n=new Ul(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=bm(t,r.document.name),s=tn(r.document.updateTime),o=r.document.createTime?tn(r.document.createTime):V.min(),a=new Mt({mapValue:{fields:r.document.fields}}),c=Nt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new ps(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=bm(t,r.document),s=r.readTime?tn(r.readTime):V.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ps([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=bm(t,r.document),s=r.removedTargetIds||[];n=new ps([],s,i,null)}else{if(!("filter"in e))return M();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new cy(i,s),a=r.targetId;n=new Ll(a,o)}}return n}function ej(t,e){let n;if(e instanceof ii)n={update:vb(t,e.key,e.value)};else if(e instanceof Fl)n={delete:py(t,e.key)};else if(e instanceof Dn)n={update:vb(t,e.key,e.data),updateMask:uj(e.fieldMask)};else{if(!(e instanceof iy))return M();n={verify:py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Es)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ni)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ri)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ds)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw M()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:M()}(t,e.precondition)),n}function tj(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tn(i.updateTime):tn(s);return o.isEqual(V.min())&&(o=tn(s)),new ry(o,i.transformResults||[])}(n,e))):[]}function nj(t,e){return{documents:[i0(t,e.path)]}}function rj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i0(t,i);let s=function(u){if(u.length!==0)return a0(xt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:ds(h.field),direction:oj(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=hy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function ij(t){let e=ZU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ce(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=o0(d);return h instanceof xt&&Vb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new ti(hs(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,od(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new Is(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new Is(p,h)}(n.endAt)),MU(e,i,o,s,a,"F",c,u)}function sj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return M()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=hs(n.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hs(n.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=hs(n.unaryFilter.field);return we.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=hs(n.unaryFilter.field);return we.create(o,"!=",{nullValue:"NULL_VALUE"});default:return M()}}(t):t.fieldFilter!==void 0?function(n){return we.create(hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return M()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xt.create(n.compositeFilter.filters.map(r=>o0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return M()}}(n.compositeFilter.op))}(t):M()}function oj(t){return KU[t]}function aj(t){return QU[t]}function cj(t){return YU[t]}function ds(t){return{fieldPath:t.canonicalString()}}function hs(t){return at.fromServerFormat(t.fieldPath)}function a0(t){return t instanceof we?function(n){if(n.op==="=="){if(ib(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(rb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ib(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(rb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:aj(n.op),value:n.value}}}(t):t instanceof xt?function(n){let r=n.getFilters().map(i=>a0(i));return r.length===1?r[0]:{compositeFilter:{op:cj(n.op),filters:r}}}(t):M()}function uj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function c0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var _a=class t{constructor(e,n,r,i,s=V.min(),o=V.min(),a=Ye.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var my=class{constructor(e){this.ct=e}};function lj(t){let e=ij({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ny(e,e.limit,"L"):e}var $l=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ge(e.integerValue));else if("doubleValue"in e){let r=ge(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ga(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=wn(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(er(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Ob(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):M()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),b.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};$l.bt=new $l;var yy=class{constructor(){this._n=new vy}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Xr.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},vy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(de.comparator)).toArray()}};var X3=new Uint8Array(0);var Yt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var Ia=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var _y=class{constructor(){this.changes=new nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Iy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var wy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fa(r.mutation,i,Jt.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,G()).next(()=>r))}getLocalViewOfDocuments(e,n,r=G()){let i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ua();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,G()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=En(),o=ha(),a=function(){return ha()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Dn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),fa(l.mutation,u,l.mutation.getFieldMask(),ke.now())):o.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Iy(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ha(),i=new me((o,a)=>o-a),s=G();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Jt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||G()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Gb();l.forEach(h=>{if(!s.has(h)){let p=Xb(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return b.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Wr()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,G())).next(l=>({batchId:a,changes:zb(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new b(n)).next(r=>{let i=ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ua();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new tr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Nt.newInvalidDocument(l)))});let a=ua();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&fa(l.mutation,u,Jt.empty(),ke.now()),cd(n,u)&&(a=a.insert(c,u))}),a})}};var Ey=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tn(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:lj(i.bundledQuery),readTime:tn(i.readTime)}}(n)),y.resolve()}};var Dy=class{constructor(){this.overlays=new me(b.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Wr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Wr(),s=n.length+1,o=new b(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new me((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Wr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Wr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ay(n,r));let s=this.hr.get(n);s===void 0&&(s=G(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var wa=class{constructor(){this.Pr=new He(Ie.Ir),this.Tr=new He(Ie.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ie(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ie(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new b(new de([])),r=new Ie(n,e),i=new Ie(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new b(new de([])),r=new Ie(n,e),i=new Ie(n,e+1),s=G();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ie(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ie=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return b.comparator(e.key,n.key)||ee(e.pr,n.pr)}static Er(e,n){return ee(e.pr,n.pr)||b.comparator(e.key,n.key)}};var Cy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new He(Ie.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new sy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ie(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ie(n,0),i=new Ie(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ee);return n.forEach(i=>{let s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;b.isDocumentKey(s)||(s=s.child(""));let o=new Ie(new b(s),0),a=new He(ee);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new Ie(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ie(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ty=class{constructor(e){this.vr=e,this.docs=function(){return new me(b.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=En();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=En(),o=n.path,a=new b(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||wU(IU(l),r)<=0||(i.has(l.key)||cd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){M()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new by(this)}getSize(e){return y.resolve(this.size)}},by=class extends _y{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Sy=class{constructor(e){this.persistence=e,this.Mr=new nr(n=>_v(n),Iv),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Or=0,this.Nr=new wa,this.targetCount=0,this.Lr=Ia.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var Ay=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new xb(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Sy(this),this.indexManager=new yy,this.remoteDocumentCache=function(i){return new Ty(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new my(n),this.$r=new Ey(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Cy(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){w("MemoryPersistence","Starting transaction:",e);let i=new Ry(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Ry=class extends Lm{constructor(e){super(),this.currentSequenceNumber=e}},My=class t{constructor(e){this.persistence=e,this.zr=new wa,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw M()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=b.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Ny=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=G(),i=G();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var xy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Py=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return vD()?8:Nl.v(fe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new xy;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ca()<=z.DEBUG&&w("QueryEngine","SDK will not create cache indexes for query:",ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(ca()<=z.DEBUG&&w("QueryEngine","Query:",ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ca()<=z.DEBUG&&w("QueryEngine","The SDK decides to create cache indexes for query:",ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,en(n))):y.resolve())}ji(e,n){if(cb(n))return y.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ny(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=G(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,ny(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return cb(n)||i.isEqual(V.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(ca()<=z.DEBUG&&w("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(n)),this.es(e,o,n,_U(i,-1)).next(a=>a))})}Zi(e,n){let r=new He(Hb(e));return n.forEach((i,s)=>{cd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ca()<=z.DEBUG&&w("QueryEngine","Using full collection scan to execute query:",ls(n)),this.zi.getDocumentsMatchingQuery(e,n,Xr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Oy=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new me(ee),this.rs=new nr(s=>_v(s),Iv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wy(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function dj(t,e,n,r){return new Oy(t,e,n,r)}function u0(t,e){return f(this,null,function*(){let n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=G();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function hj(t,e){let n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(v=>{let _=u.docVersions.get(m);ce(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),l.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=G();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function l0(t){let e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function fj(t,e){let n=k(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ye.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(v,_,C){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(s,p))});let c=En(),u=G();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(pj(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(V.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function pj(t,e,n){let r=G(),i=G();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=En();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(V.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):w("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function gj(t,e){let n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mj(t,e){let n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new _a(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function ky(t,e,n){return f(this,null,function*(){let r=k(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Sa(o))throw o;w("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function _b(t,e,n){let r=k(t),i=V.min(),s=G();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=k(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,en(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:G())).next(a=>(yj(r,xU(e),a),{documents:a,hs:s})))}function yj(t,e,n){let r=t.ss.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Hl=class{constructor(){this.activeTargetIds=LU()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Fy=class{constructor(){this.no=new Hl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Hl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Vy=class{io(e){}shutdown(){}};var ql=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){w("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){w("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Tl=null;function Sm(){return Tl===null?Tl=function(){return 268435456+Math.round(2147483648*Math.random())}():Tl++,"0x"+Tl.toString(16)}var vj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ly=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var $e="WebChannelConnection",Uy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Sm(),c=this.bo(n,r.toUriEncodedString());w("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(w("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ms("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=vj[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Sm();return new Promise((o,a)=>{let c=new YT;c.setWithCredentials(!0),c.listenOnce(KT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Dl.NO_ERROR:let l=c.getResponseJson();w($e,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Dl.TIMEOUT:w($e,`RPC '${e}' ${s} timed out`),a(new E(g.DEADLINE_EXCEEDED,"Request time out"));break;case Dl.HTTP_ERROR:let d=c.getStatus();if(w($e,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let m=function(_){let C=_.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(C)>=0?C:g.UNKNOWN}(p.status);a(new E(m,p.message))}else a(new E(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new E(g.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{w($e,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);w($e,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Sm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=GT(),a=WT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");w($e,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,m=new Ly({lo:_=>{p?w($e,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(w($e,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),w($e,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),v=(_,C,Q)=>{_.listen(C,$=>{try{Q($)}catch(ae){setTimeout(()=>{throw ae},0)}})};return v(d,aa.EventType.OPEN,()=>{p||w($e,`RPC '${e}' stream ${i} transport opened.`)}),v(d,aa.EventType.CLOSE,()=>{p||(p=!0,w($e,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),v(d,aa.EventType.ERROR,_=>{p||(p=!0,ms($e,`RPC '${e}' stream ${i} transport errored:`,_),m.Vo(new E(g.UNAVAILABLE,"The operation could not be completed")))}),v(d,aa.EventType.MESSAGE,_=>{var C;if(!p){let Q=_.data[0];ce(!!Q);let $=Q,ae=$.error||((C=$[0])===null||C===void 0?void 0:C.error);if(ae){w($e,`RPC '${e}' stream ${i} received error:`,ae);let Re=ae.status,te=function(sr){let ui=_e[sr];if(ui!==void 0)return t0(ui)}(Re),Fe=ae.message;te===void 0&&(te=g.INTERNAL,Fe="Unknown error status: "+Re+" with message "+ae.message),p=!0,m.Vo(new E(te,Fe)),d.close()}else w($e,`RPC '${e}' stream ${i} received:`,Q),m.mo(Q)}}),v(a,QT.STAT_EVENT,_=>{_.stat===Tm.PROXY?w($e,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Tm.NOPROXY&&w($e,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}};function Am(){return typeof document<"u"?document:null}function ud(t){return new dy(t,!0)}var zl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&w("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Gl=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new zl(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(nn(n.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new E(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return w("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(w("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},jy=class extends Gl{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=XU(this.serializer,e),r=function(s){if(!("targetChange"in s))return V.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?V.min():o.readTime?tn(o.readTime):V.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=gy(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=ey(c)?{documents:nj(s,c)}:{query:rj(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=n0(s,o.resumeToken);let u=hy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(V.min())>0){a.readTime=Bl(s,o.snapshotVersion.toTimestamp());let u=hy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=sj(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=gy(this.serializer),n.removeTarget=e,this.t_(n)}},By=class extends Gl{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=tj(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.T_(r,n)}return ce(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=gy(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ej(this.serializer,r))};this.t_(n)}};var $y=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new E(g.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,fy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(g.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,fy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new E(g.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Hy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(nn(n),this.g_=!1):w("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var qy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>f(this,null,function*(){oi(this)&&(w("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=k(c);u.v_.add(4),yield Aa(u),u.x_.set("Unknown"),u.v_.delete(4),yield ld(u)})}(this))}))}),this.x_=new Hy(r,i)}};function ld(t){return f(this,null,function*(){if(oi(t))for(let e of t.F_)yield e(!0)})}function Aa(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function d0(t,e){let n=k(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),bv(n)?Tv(n):Ms(n).Jo()&&Cv(n,e))}function Dv(t,e){let n=k(t),r=Ms(n);n.C_.delete(e),r.Jo()&&h0(n,e),n.C_.size===0&&(r.Jo()?r.Xo():oi(n)&&n.x_.set("Unknown"))}function Cv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ms(t).c_(e)}function h0(t,e){t.O_.Oe(e),Ms(t).l_(e)}function Tv(t){t.O_=new ly({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ms(t).start(),t.x_.p_()}function bv(t){return oi(t)&&!Ms(t).Ho()&&t.C_.size>0}function oi(t){return k(t).v_.size===0}function f0(t){t.O_=void 0}function _j(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{Cv(t,e)})})}function Ij(t,e){return f(this,null,function*(){f0(t),bv(t)?(t.x_.S_(e),Tv(t)):t.x_.set("Unknown")})}function wj(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof Ul&&e.state===2&&e.cause)try{yield function(i,s){return f(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){w("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wl(t,r)}else if(e instanceof ps?t.O_.$e(e):e instanceof Ll?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(V.min()))try{let r=yield l0(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(Ye.EMPTY_BYTE_STRING,l.snapshotVersion)),h0(s,c);let d=new _a(l.target,c,u,l.sequenceNumber);Cv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){w("RemoteStore","Failed to raise snapshot:",r),yield Wl(t,r)}})}function Wl(t,e,n){return f(this,null,function*(){if(!Sa(e))throw e;t.v_.add(1),yield Aa(t),t.x_.set("Offline"),n||(n=()=>l0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){w("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield ld(t)}))})}function p0(t,e){return e().catch(n=>Wl(t,n,e))}function dd(t){return f(this,null,function*(){let e=k(t),n=rr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Ej(e);)try{let i=yield gj(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Dj(e,i)}catch(i){yield Wl(e,i)}g0(e)&&m0(e)})}function Ej(t){return oi(t)&&t.D_.length<10}function Dj(t,e){t.D_.push(e);let n=rr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function g0(t){return oi(t)&&!rr(t).Ho()&&t.D_.length>0}function m0(t){rr(t).start()}function Cj(t){return f(this,null,function*(){rr(t).d_()})}function Tj(t){return f(this,null,function*(){let e=rr(t);for(let n of t.D_)e.I_(n.mutations)})}function bj(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=oy.from(r,e,n);yield p0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield dd(t)})}function Sj(t,e){return f(this,null,function*(){e&&rr(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return zU(o)&&o!==g.ABORTED}(i.code)){let s=r.D_.shift();rr(r).Zo(),yield p0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield dd(r)}})}(t,e)),g0(t)&&m0(t)})}function Ib(t,e){return f(this,null,function*(){let n=k(t);n.asyncQueue.verifyOperationInProgress(),w("RemoteStore","RemoteStore received new credentials");let r=oi(n);n.v_.add(3),yield Aa(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield ld(n)})}function Aj(t,e){return f(this,null,function*(){let n=k(t);e?(n.v_.delete(2),yield ld(n)):e||(n.v_.add(2),yield Aa(n),n.x_.set("Unknown"))})}function Ms(t){return t.N_||(t.N_=function(n,r,i){let s=k(n);return s.R_(),new jy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:_j.bind(null,t),To:Ij.bind(null,t),u_:wj.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),bv(t)?Tv(t):t.x_.set("Unknown")):(yield t.N_.stop(),f0(t))}))),t.N_}function rr(t){return t.L_||(t.L_=function(n,r,i){let s=k(n);return s.R_(),new By(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Cj.bind(null,t),To:Sj.bind(null,t),E_:Tj.bind(null,t),T_:bj.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.L_.Zo(),yield dd(t)):(yield t.L_.stop(),t.D_.length>0&&(w("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var zy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new E(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Sv(t,e){if(nn("AsyncQueue",`${e}: ${t}`),Sa(t))return new E(g.UNAVAILABLE,`${e}: ${t}`);throw t}var Kl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||b.comparator(n.key,r.key):(n,r)=>b.comparator(n.key,r.key),this.keyedMap=ua(),this.sortedSet=new me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ql=class{constructor(){this.B_=new me(b.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):M():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ts=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Kl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Gy=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},Wy=class{constructor(){this.queries=new nr(e=>$b(e),ad),this.onlineState="Unknown",this.W_=new Set}};function Rj(t,e){return f(this,null,function*(){let n=k(t),r=3,i=e.query,s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new Gy,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield n.onListen(i,!0);break;case 1:s.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Sv(o,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Av(n)})}function Mj(t,e){return f(this,null,function*(){let n=k(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Nj(t,e){let n=k(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&Av(n)}function xj(t,e,n){let r=k(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Av(t){t.W_.forEach(e=>{e.next()})}var Ky,wb;(wb=Ky||(Ky={})).j_="default",wb.Cache="cache";var Qy=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Ky.Cache}};var Yl=class{constructor(e){this.key=e}},Jl=class{constructor(e){this.key=e}},Yy=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=G(),this.mutatedKeys=G(),this.ha=Hb(e),this.Pa=new Kl(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new Ql,i=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=cd(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),_=!1;h&&p?h.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),_=!0):this.da(h,p)||(r.track({type:2,doc:p}),_=!0,(c&&this.ha(p,c)>0||u&&this.ha(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(c||u)&&(a=!0)),_&&(p?(o=o.add(p),s=v?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((l,d)=>function(p,m){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return v(p)-v(m)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,o.length!==0||u?{snapshot:new Ts(this.query,e.Pa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Ql,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=G(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Jl(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Yl(r))}),n}fa(e){this.ua=e.hs,this.la=G();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ts.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},Jy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Zy=class{constructor(e){this.key=e,this.pa=!1}},Xy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new nr(a=>$b(a),ad),this.Sa=new Map,this.ba=new Set,this.Da=new me(b.comparator),this.Ca=new Map,this.va=new wa,this.Fa={},this.Ma=new Map,this.xa=Ia.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function Pj(t,e,n=!0){return f(this,null,function*(){let r=E0(t),i,s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield y0(r,e,n,!0),i})}function Oj(t,e){return f(this,null,function*(){let n=E0(t);yield y0(n,e,!0,!1)})}function y0(t,e,n,r){return f(this,null,function*(){let i=yield mj(t.localStore,en(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield kj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&d0(t.remoteStore,i),a})}function kj(t,e,n,r,i){return f(this,null,function*(){t.Na=(d,h,p)=>function(v,_,C,Q){return f(this,null,function*(){let $=_.view.Ta(C);$.Xi&&($=yield _b(v.localStore,_.query,!1).then(({documents:Fe})=>_.view.Ta(Fe,$)));let ae=Q&&Q.targetChanges.get(_.targetId),Re=Q&&Q.targetMismatches.get(_.targetId)!=null,te=_.view.applyChanges($,v.isPrimaryClient,ae,Re);return Db(v,_.targetId,te.Va),te.snapshot})}(t,d,h,p);let s=yield _b(t.localStore,e,!0),o=new Yy(e,s.hs),a=o.Ta(s.documents),c=va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Db(t,n,u.Va);let l=new Jy(e,n,o);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function Fj(t,e,n){return f(this,null,function*(){let r=k(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!ad(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ky(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dv(r.remoteStore,i.targetId),ev(r,i.targetId)}).catch(ba))):(ev(r,i.targetId),yield ky(r.localStore,i.targetId,!0))})}function Vj(t,e){return f(this,null,function*(){let n=k(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dv(n.remoteStore,r.targetId))})}function Lj(t,e,n){return f(this,null,function*(){let r=zj(t);try{let i=yield function(o,a){let c=k(o),u=ke.now(),l=a.reduce((p,m)=>p.add(m.key),G()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=En(),v=G();return c.os.getEntries(p,l).next(_=>{m=_,m.forEach((C,Q)=>{Q.isValidDocument()||(v=v.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;let C=[];for(let Q of a){let $=qU(Q,d.get(Q.key).overlayedDocument);$!=null&&C.push(new Dn(Q.key,$,kb($.value.mapValue),Jr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,C,a)}).next(_=>{h=_;let C=_.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(p,_.batchId,C)})}).then(()=>({batchId:h.batchId,changes:zb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Fa[o.currentUser.toKey()];u||(u=new me(ee)),u=u.insert(a,c),o.Fa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ra(r,i.changes),yield dd(r.remoteStore)}catch(i){let s=Sv(i,"Failed to persist write");n.reject(s)}})}function v0(t,e){return f(this,null,function*(){let n=k(t);try{let r=yield fj(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ca.get(s);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?ce(o.pa):i.removedDocuments.size>0&&(ce(o.pa),o.pa=!1))}),yield Ra(n,r,e)}catch(r){yield ba(r)}})}function Eb(t,e,n){let r=k(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=k(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&Av(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uj(t,e,n){return f(this,null,function*(){let r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),s=i&&i.key;if(s){let o=new me(b.comparator);o=o.insert(s,Nt.newNoDocument(s,V.min()));let a=G().add(s),c=new Vl(V.min(),new Map,new me(ee),o,a);yield v0(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),Rv(r)}else yield ky(r.localStore,e,!1).then(()=>ev(r,e,n)).catch(ba)})}function jj(t,e){return f(this,null,function*(){let n=k(t),r=e.batch.batchId;try{let i=yield hj(n.localStore,e);I0(n,r,null),_0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ra(n,i)}catch(i){yield ba(i)}})}function Bj(t,e,n){return f(this,null,function*(){let r=k(t);try{let i=yield function(o,a){let c=k(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ce(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);I0(r,e,n),_0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ra(r,i)}catch(i){yield ba(i)}})}function _0(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function I0(t,e,n){let r=k(t),i=r.Fa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function ev(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||w0(t,r)})}function w0(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Dv(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Rv(t))}function Db(t,e,n){for(let r of n)r instanceof Yl?(t.va.addReference(r.key,e),$j(t,r)):r instanceof Jl?(w("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||w0(t,r.key)):M()}function $j(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(w("SyncEngine","New document in limbo: "+n),t.ba.add(r),Rv(t))}function Rv(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new b(de.fromString(e)),r=t.xa.next();t.Ca.set(r,new Zy(n)),t.Da=t.Da.insert(n,r),d0(t.remoteStore,new _a(en(wv(n.path)),r,"TargetPurposeLimboResolution",xb._e))}}function Ra(t,e,n){return f(this,null,function*(){let r=k(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Ny.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,u){return f(this,null,function*(){let l=k(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Sa(d))throw d;w("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);l.ns=l.ns.insert(h,v)}}})}(r.localStore,s))})}function Hj(t,e){return f(this,null,function*(){let n=k(t);if(!n.currentUser.isEqual(e)){w("SyncEngine","User change. New user:",e.toKey());let r=yield u0(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new E(g.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ra(n,r.us)}})}function qj(t,e){let n=k(t),r=n.Ca.get(e);if(r&&r.pa)return G().add(r.key);{let i=G(),s=n.Sa.get(e);if(!s)return i;for(let o of s){let a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function E0(t){let e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uj.bind(null,e),e.ya.u_=Nj.bind(null,e.eventManager),e.ya.La=xj.bind(null,e.eventManager),e}function zj(t){let e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bj.bind(null,e),e}var Zl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dj(this.persistence,new Py,e.initialUser,this.serializer)}createPersistence(e){return new Ay(My.Hr,this.serializer)}createSharedClientState(e){return new Fy}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var tv=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hj.bind(null,this.syncEngine),yield Aj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Wy}()}createDatastore(e){let n=ud(e.databaseInfo.databaseId),r=function(s){return new Uy(s)}(e.databaseInfo);return function(s,o,a,c){return new $y(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new qy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Eb(this.syncEngine,n,0),function(){return ql.D()?new ql:new Vy}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Xy(i,s,o,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=k(r);w("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Aa(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var nv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):nn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var rv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ae.UNAUTHENTICATED,this.clientId=Rl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){w("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(w("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Sv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Rm(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),w("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield u0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Cb(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Wj(t);w("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ib(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ib(e.remoteStore,i)),t._onlineComponents=e})}function Gj(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Wj(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){w("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Gj(n))throw n;ms("Error using user provided cache. Falling back to memory cache: "+n),yield Rm(t,new Zl)}}else w("FirestoreClient","Using default OfflineComponentProvider"),yield Rm(t,new Zl);return t._offlineComponents})}function D0(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(w("FirestoreClient","Using user provided OnlineComponentProvider"),yield Cb(t,t._uninitializedComponentsProvider._online)):(w("FirestoreClient","Using default OnlineComponentProvider"),yield Cb(t,new tv))),t._onlineComponents})}function Kj(t){return D0(t).then(e=>e.syncEngine)}function Tb(t){return f(this,null,function*(){let e=yield D0(t),n=e.eventManager;return n.onListen=Pj.bind(null,e.syncEngine),n.onUnlisten=Fj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Oj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vj.bind(null,e.syncEngine),n})}function C0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var bb=new Map;function T0(t,e,n){if(!n)throw new E(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qj(t,e,n,r){if(e===!0&&r===!0)throw new E(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sb(t){if(!b.isDocumentKey(t))throw new E(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ab(t){if(b.isDocumentKey(t))throw new E(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":M()}function pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=hd(t);throw new E(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Xl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new E(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new E(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new E(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new E(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new E(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new E(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mm;switch(r.type){case"firstParty":return new Om(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new E(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=bb.get(n);r&&(w("ComponentProvider","Removing Datastore"),bb.delete(n),r.terminate())}(this),Promise.resolve()}};function b0(t,e,n,r={}){var i;let s=(t=pa(t,bs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ae.MOCK_USER;else{a=fD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new E(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ae(u)}t._authCredentials=new Nm(new Al(a,c))}}var si=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ct=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Xn=class t extends si{constructor(e,n,r){super(e,n,wv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new b(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function S0(t,e,...n){if(t=Ue(t),T0("collection","path",e),t instanceof bs){let r=de.fromString(e,...n);return Ab(r),new Xn(t,null,r)}{if(!(t instanceof ct||t instanceof Xn))throw new E(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return Ab(r),new Xn(t.firestore,null,r)}}function A0(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=Rl.newId()),T0("doc","path",e),t instanceof bs){let r=de.fromString(e,...n);return Sb(r),new ct(t,null,new b(r))}{if(!(t instanceof ct||t instanceof Xn))throw new E(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return Sb(r),new ct(t.firestore,t instanceof Xn?t.converter:null,new b(r))}}var iv=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new zl(this,"async_queue_retry"),this.cu=()=>{let n=Am();n&&w("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Am();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Zt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return f(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Sa(e))throw e;w("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=zy.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&M()}verifyOperationInProgress(){}Tu(){return f(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function Rb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Ss=class extends bs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new iv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||N0(this),this._firestoreClient.terminate()}};function R0(t,e){let n=typeof t=="object"?t:Zi(),r=typeof t=="string"?t:e||"(default)",i=So(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=hD("firestore");s&&b0(i,...s)}return i}function M0(t){return t._firestoreClient||N0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function N0(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new $m(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,C0(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ea=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ye.fromBase64String(e))}catch(n){throw new E(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Da=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new E(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ed=class{constructor(e){this._methodName=e}};var Ca=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}};var Yj=/^__.*__$/,sv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ii(e,this.data,n,this.fieldTransforms)}};function x0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}var ov=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return td(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(x0(this.Vu)&&Yj.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},av=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ud(e)}Cu(e,n,r,i=!1){return new ov({Vu:e,methodName:n,Du:r,path:at.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function P0(t){let e=t._freezeSettings(),n=ud(t._databaseId);return new av(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jj(t,e,n,r,i,s={}){let o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);F0("Data must be an object, but it was:",o,r);let a=O0(r,o),c,u;if(s.merge)c=new Jt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=Xj(e,d,n);if(!o.contains(h))throw new E(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);t2(l,h)||l.push(h)}c=new Jt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new sv(new Mt(a),c,u)}function Zj(t,e,n,r=!1){return Mv(n,t.Cu(r?4:3,e))}function Mv(t,e){if(k0(t=Ue(t)))return F0("Unsupported field value:",e,t),O0(t,e);if(t instanceof ed)return function(r,i){if(!x0(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Mv(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ke.fromDate(r);return{timestampValue:Bl(i.serializer,s)}}if(r instanceof ke){let s=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bl(i.serializer,s)}}if(r instanceof Ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ea)return{bytesValue:n0(i.serializer,r._byteString)};if(r instanceof ct){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ev(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${hd(r)}`)}(t,e)}function O0(t,e){let n={};return Pb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{let s=Mv(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function k0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof Ca||t instanceof Ea||t instanceof ct||t instanceof ed)}function F0(t,e,n){if(!k0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=hd(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Xj(t,e,n){if((e=Ue(e))instanceof Da)return e._internalPath;if(typeof e=="string")return V0(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}var e2=new RegExp("[~\\*/\\[\\]]");function V0(t,e,n){if(e.search(e2)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Da(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new E(g.INVALID_ARGUMENT,a+t+c)}function t2(t,e){return t.some(n=>n.isEqual(e))}var nd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Nv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},cv=class extends nd{data(){return super.data()}};function Nv(t,e){return typeof e=="string"?V0(t,e):e instanceof Da?e._internalPath:e._delegate._internalPath}function n2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new E(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ta=class{},rd=class extends Ta{};function L0(t,e,...n){let r=[];e instanceof Ta&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof lv).length,a=s.filter(c=>c instanceof uv).length;if(o>1||o>0&&a>0)throw new E(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var uv=class t extends rd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return j0(e._query,n),new si(e.firestore,e.converter,ty(e._query,n))}_parse(e){let n=P0(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new E(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Nb(d,l);let p=[];for(let m of d)p.push(Mb(c,s,m));h={arrayValue:{values:p}}}else h=Mb(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Nb(d,l),h=Zj(a,o,d,l==="in"||l==="not-in");return we.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var lv=class t extends Ta{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)j0(o,c),o=ty(o,c)}(e._query,n),new si(e.firestore,e.converter,ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var dv=class t extends rd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new E(g.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new E(g.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ti(s,o)}(e._query,this._field,this._direction);return new si(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new tr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function U0(t,e="asc"){let n=e,r=Nv("orderBy",t);return dv._create(r,n)}function Mb(t,e,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new E(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bb(e)&&n.indexOf("/")!==-1)throw new E(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(de.fromString(n));if(!b.isDocumentKey(r))throw new E(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nb(t,new b(r))}if(n instanceof ct)return nb(t,n._key);throw new E(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function Nb(t,e){if(!Array.isArray(t)||t.length===0)throw new E(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j0(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new E(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new E(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var hv=class{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw M()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Rs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ca(ge(e.latitude),ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=yv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){let n=wn(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=de.fromString(e);ce(c0(r));let i=new Ol(r.get(1),r.get(3)),s=new b(r.popFirst(5));return i.isEqual(n)||nn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function r2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Qr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},id=class extends nd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},gs=class extends id{data(e={}){return super.data(e)}},fv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gs(this._firestore,this._userDataWriter,r.key,r,new Qr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:i2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function i2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}var sd=class extends hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}};function B0(t,e){let n=pa(t.firestore,Ss),r=A0(t),i=r2(t.converter,e);return s2(n,[Jj(P0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}function xv(t,...e){var n,r,i;t=Ue(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Rb(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Rb(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof ct)u=pa(t.firestore,Ss),l=wv(t._key.path),c={next:d=>{e[o]&&e[o](o2(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=pa(t,si);u=pa(d.firestore,Ss),l=d._query;let h=new sd(u);c={next:p=>{e[o]&&e[o](new fv(u,h,d,p))},error:e[o+1],complete:e[o+2]},n2(t._query)}return function(h,p,m,v){let _=new nv(v),C=new Qy(p,_,m);return h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Rj(yield Tb(h),C)})),()=>{_.Qa(),h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Mj(yield Tb(h),C)}))}}(M0(u),l,a,c)}function s2(t,e){return function(r,i){let s=new Zt;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Lj(yield Kj(r),i,s)})),s.promise}(M0(t),e)}function o2(t,e,n){let r=n.docs.get(e._key),i=new sd(t);return new id(t,i,e._key,r,new Qr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){As=i})(Gn),zn(new vt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ss(new xm(r.getProvider("auth-internal")),new Fm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new E(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ce(ZT,"4.6.0",e),Ce(ZT,"4.6.0","esm2017")})();var fd=function(){return fd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fd.apply(this,arguments)};var u2={includeMetadataChanges:!1};function $0(t,e){return e===void 0&&(e=u2),new H(function(n){var r=xv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function H0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:fd(fd({},r),(n={},n[e.idField]=t.id,n))}function q0(t){return $0(t,{includeMetadataChanges:!0}).pipe(U(function(e){return e.docs}))}function z0(t,e){return e===void 0&&(e={}),q0(t).pipe(U(function(n){return n.map(function(r){return H0(r,e)})}))}var Ma=class{constructor(e){return e}},G0="firestore",Pv=class{constructor(){return Ao(G0)}};var Ov=new A("angularfire2.firestore-instances");function l2(t,e){let n=Au(G0,t,e);return n&&new Ma(n)}function d2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ma(r)}}var h2={provide:Pv,deps:[[new We,Ov]]},f2={provide:Ma,useFactory:l2,deps:[[new We,Ov],gn]},p2=(()=>{class t{constructor(){Ce("angularfire",kr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xe({type:t});static \u0275inj=Ze({providers:[f2,h2]})}return t})();function N5(t,...e){return{ngModule:p2,providers:[{provide:Ov,useFactory:d2(t),multi:!0,deps:[se,gt,ts,Fr,[new We,Lo],[new We,es],...e]}]}}var x5=_t(z0,!0);var P5=_t(B0,!0);var O5=_t(S0,!0);var k5=_t(R0,!0);var F5=_t(U0,!0);var V5=_t(L0,!0);var nS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Z(Ui),Z(Dr))},e.\u0275dir=Ke({type:e});let t=e;return t})(),g2=(()=>{let e=class e extends nS{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Js(e)))(s||e)}})(),e.\u0275dir=Ke({type:e,features:[hn]});let t=e;return t})(),Vv=new A("");var m2={provide:Vv,useExisting:Ir(()=>rS),multi:!0};function y2(){let t=fn()?fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var v2=new A(""),rS=(()=>{let e=class e extends nS{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!y2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Z(Ui),Z(Dr),Z(v2,8))},e.\u0275dir=Ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Zs("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Xs([m2]),hn]});let t=e;return t})();function ir(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function iS(t){return t!=null&&typeof t.length=="number"}var Lv=new A(""),Uv=new A(""),_2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,W0=class{static min(e){return I2(e)}static max(e){return w2(e)}static required(e){return E2(e)}static requiredTrue(e){return D2(e)}static email(e){return C2(e)}static minLength(e){return T2(e)}static maxLength(e){return b2(e)}static pattern(e){return S2(e)}static nullValidator(e){return sS(e)}static compose(e){return dS(e)}static composeAsync(e){return fS(e)}};function I2(t){return e=>{if(ir(e.value)||ir(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function w2(t){return e=>{if(ir(e.value)||ir(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function E2(t){return ir(t.value)?{required:!0}:null}function D2(t){return t.value===!0?null:{required:!0}}function C2(t){return ir(t.value)||_2.test(t.value)?null:{email:!0}}function T2(t){return e=>ir(e.value)||!iS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function b2(t){return e=>iS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function S2(t){if(!t)return sS;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ir(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function sS(t){return null}function oS(t){return t!=null}function aS(t){return Cr(t)?he(t):t}function cS(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function uS(t,e){return e.map(n=>n(t))}function A2(t){return!t.validate}function lS(t){return t.map(e=>A2(e)?e:n=>e.validate(n))}function dS(t){if(!t)return null;let e=t.filter(oS);return e.length==0?null:function(n){return cS(uS(n,e))}}function hS(t){return t!=null?dS(lS(t)):null}function fS(t){if(!t)return null;let e=t.filter(oS);return e.length==0?null:function(n){let r=uS(n,e).map(aS);return Hd(r).pipe(U(cS))}}function pS(t){return t!=null?fS(lS(t)):null}function K0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gS(t){return t._rawValidators}function mS(t){return t._rawAsyncValidators}function kv(t){return t?Array.isArray(t)?t:[t]:[]}function gd(t,e){return Array.isArray(t)?t.includes(e):t===e}function Q0(t,e){let n=kv(e);return kv(t).forEach(i=>{gd(n,i)||n.push(i)}),n}function Y0(t,e){return kv(e).filter(n=>!gd(t,n))}var md=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ai=class extends md{get formDirective(){return null}get path(){return null}},ci=class extends md{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},yd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},R2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},t8=ie(D({},R2),{"[class.ng-submitted]":"isSubmitted"}),n8=(()=>{let e=class e extends yd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Z(ci,2))},e.\u0275dir=Ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Jc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[hn]});let t=e;return t})(),r8=(()=>{let e=class e extends yd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Z(ai,10))},e.\u0275dir=Ke({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Jc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[hn]});let t=e;return t})();var Na="VALID",pd="INVALID",Ns="PENDING",xa="DISABLED";function yS(t){return(wd(t)?t.validators:t)||null}function M2(t){return Array.isArray(t)?hS(t):t||null}function vS(t,e){return(wd(e)?e.asyncValidators:t)||null}function N2(t){return Array.isArray(t)?pS(t):t||null}function wd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function x2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function P2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var vd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Na}get invalid(){return this.status===pd}get pending(){return this.status==Ns}get disabled(){return this.status===xa}get enabled(){return this.status!==xa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Q0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Q0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Y0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Y0(e,this._rawAsyncValidators))}hasValidator(e){return gd(this._rawValidators,e)}hasAsyncValidator(e){return gd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ns,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xa,this.errors=null,this._forEachChild(r=>{r.disable(ie(D({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Na,this._forEachChild(r=>{r.enable(ie(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Na||this.status===Ns)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xa:Na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ns,this._hasOwnPendingAsyncValidator=!0;let n=aS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?xa:this.errors?pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ns)?Ns:this._anyControlsHaveStatus(pd)?pd:Na}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=M2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=N2(this._rawAsyncValidators)}},J0=class extends vd{constructor(e,n,r){super(yS(n),vS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){P2(this,!0,e),Object.keys(e).forEach(r=>{x2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ed=new A("CallSetDisabledState",{providedIn:"root",factory:()=>Dd}),Dd="always";function _S(t,e){return[...e.path,t]}function Fv(t,e,n=Dd){jv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),k2(t,e),V2(t,e),F2(t,e),O2(t,e)}function Z0(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Id(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _d(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function O2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function jv(t,e){let n=gS(t);e.validator!==null?t.setValidators(K0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=mS(t);e.asyncValidator!==null?t.setAsyncValidators(K0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();_d(e._rawValidators,i),_d(e._rawAsyncValidators,i)}function Id(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=gS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=mS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return _d(e._rawValidators,r),_d(e._rawAsyncValidators,r),n}function k2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&IS(t,e)})}function F2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&IS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function IS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function V2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function L2(t,e){t==null,jv(t,e)}function U2(t,e){return Id(t,e)}function wS(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function j2(t){return Object.getPrototypeOf(t.constructor)===g2}function B2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ES(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===rS?n=s:j2(s)?r=s:i=s}),i||r||n||null}function $2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function X0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var DS=class extends vd{constructor(e=null,n,r){super(yS(n),vS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(eS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){X0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){X0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H2=t=>t instanceof DS;var q2={provide:ci,useExisting:Ir(()=>z2)},tS=Promise.resolve(),z2=(()=>{let e=class e extends ci{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new DS,this._registered=!1,this.name="",this.update=new Ne,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=ES(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),wS(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){tS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Xc(i);tS.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?_S(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Z(ai,9),Z(Lv,10),Z(Uv,10),Z(Vv,10),Z(Tr,8),Z(Ed,8))},e.\u0275dir=Ke({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ve.None,"disabled","isDisabled"],model:[Ve.None,"ngModel","model"],options:[Ve.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xs([q2]),hn,kn]});let t=e;return t})(),s8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ke({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var CS=new A("");var G2={provide:ai,useExisting:Ir(()=>W2)},W2=(()=>{let e=class e extends ai{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ne,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Id(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Fv(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Z0(r.control||null,r,!1),$2(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,B2(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Z0(i||null,r),H2(s)&&(Fv(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);L2(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&U2(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jv(this.form,this),this._oldForm&&Id(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(Z(Lv,10),Z(Uv,10),Z(Ed,8))},e.\u0275dir=Ke({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Zs("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Ve.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xs([G2]),hn,kn]});let t=e;return t})();var K2={provide:ci,useExisting:Ir(()=>Q2)},Q2=(()=>{let e=class e extends ci{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ne,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=ES(this,o)}ngOnChanges(r){this._added||this._setUpControl(),wS(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return _S(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(Z(ai,13),Z(Lv,10),Z(Uv,10),Z(Vv,10),Z(CS,8))},e.\u0275dir=Ke({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ve.None,"formControlName","name"],isDisabled:[Ve.None,"disabled","isDisabled"],model:[Ve.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xs([K2]),hn,kn]});let t=e;return t})();var TS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ze({});let t=e;return t})();var o8=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ed,useValue:r.callSetDisabledState??Dd}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ze({imports:[TS]});let t=e;return t})(),a8=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:CS,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ed,useValue:r.callSetDisabledState??Dd}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ze({imports:[TS]});let t=e;return t})();export{x as a,Ze as b,A as c,B as d,T as e,gI as f,Xe as g,VA as h,Dr as i,v4 as j,Z as k,WN as l,ix as m,Jw as n,Zw as o,Af as p,Zs as q,E4 as r,D4 as s,wx as t,eE as u,Ex as v,Dx as w,C4 as x,Cx as y,nE as z,Y4 as A,J4 as B,tP as C,bW as D,JP as E,cD as F,e9 as G,OD as H,B9 as I,Vo as J,O3 as K,k3 as L,F3 as M,V3 as N,Ma as O,N5 as P,x5 as Q,P5 as R,O5 as S,k5 as T,F5 as U,V5 as V,rS as W,W0 as X,n8 as Y,r8 as Z,J0 as _,DS as $,z2 as aa,s8 as ba,W2 as ca,Q2 as da,o8 as ea,a8 as fa};
