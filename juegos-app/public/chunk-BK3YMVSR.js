import{l as T}from"./chunk-AWMKQJZU.js";import{a as y}from"./chunk-EBA5JQBT.js";import{E as x,F as u,H as o,I as a,J as _,K as h,L as f,M as g,P as l,R as p,W as C,ca as b,da as I,n as v,s as m,t as d,z as s}from"./chunk-CQN66RWN.js";import"./chunk-X6YOYRVK.js";function q(n,i){if(n&1){let c=h();o(0,"div",7),f("click",function(){m(c);let e=g();return d(e.onSquareClick())}),a()}}function w(n,i){if(n&1){let c=h();o(0,"button",8),f("click",function(){m(c);let e=g();return d(e.resetGame())}),l(1,"Volver a jugar"),a()}}var D=(()=>{let i=class i{constructor(){this.score=0,this.colors=["red","green","blue","yellow","purple","orange"],this.squareVisible=!0,this.gameDuration=3e4,this.timeLeft=30,this.gameOver=!1}ngOnInit(){this.startGame()}ngOnDestroy(){this.clearTimeouts()}randomColor(){return this.colors[Math.floor(Math.random()*this.colors.length)]}moveSquare(){this.clearTimeout();let t=document.getElementById("square"),e=document.getElementById("game-container");if(t&&e&&!this.gameOver){let r=e.clientWidth-t.clientWidth,M=e.clientHeight-t.clientHeight,k=Math.floor(Math.random()*r),O=Math.floor(Math.random()*M);t.style.backgroundColor=this.randomColor(),t.style.left=`${k}px`,t.style.top=`${O}px`,this.squareVisible=!0,this.timeoutId=setTimeout(()=>{this.squareVisible=!1},3e3)}}onSquareClick(){this.gameOver||(this.score++,this.moveSquare())}startGame(){this.score=0,this.gameOver=!1,this.timeLeft=this.gameDuration/1e3,this.moveSquare(),this.intervalId=setInterval(()=>{this.timeLeft--,this.timeLeft<=0&&this.endGame()},1e3),this.gameTimerId=setTimeout(()=>{this.endGame()},this.gameDuration)}endGame(){this.gameOver=!0,this.clearTimeouts(),this.squareVisible=!1}resetGame(){this.startGame()}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}clearTimeouts(){this.clearTimeout(),this.gameTimerId&&clearTimeout(this.gameTimerId),this.intervalId&&clearInterval(this.intervalId)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=v({type:i,selectors:[["app-cuadrados"]],standalone:!0,features:[C],decls:10,vars:4,consts:[[1,"full-background"],[1,"center-content"],["id","score"],["id","timer"],["id","game-container"],["id","square",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["id","square",3,"click"],[3,"click"]],template:function(e,r){e&1&&(o(0,"div",0),_(1,"app-navbar"),o(2,"div",1)(3,"div",2),l(4),a(),o(5,"div",3),l(6),a(),o(7,"div",4),x(8,q,1,0,"div",5)(9,w,2,0,"button",6),a()()()),e&2&&(s(4),p("Puntuaci\xF3n: ",r.score,""),s(2),p("Tiempo restante: ",r.timeLeft,"s"),s(2),u("ngIf",!r.gameOver),s(),u("ngIf",r.gameOver))},dependencies:[T,I,b,y],styles:["[_nghost-%COMP%]{height:100vh;background-color:#f7f1f1}.full-background[_ngcontent-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start}.center-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:20px}#game-container[_ngcontent-%COMP%]{position:relative;width:800px;height:400px;background-color:#000;display:flex;justify-content:center;align-items:center}#square[_ngcontent-%COMP%]{width:50px;height:50px;background-color:red;position:absolute}#score[_ngcontent-%COMP%], #timer[_ngcontent-%COMP%]{color:#130f0f;font-size:24px;margin:20px 0}button[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;background-color:#fff;border:none;color:#000;cursor:pointer;font-size:16px}"]});let n=i;return n})();export{D as CuadradosComponent};
